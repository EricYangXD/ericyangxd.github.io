---
title: Http协议
author: EricYangXD
date: "2022-01-04"
modified: "2022-01-05"
---

## http

### Methods

| 方法 Method | 幂等 Idempotent | 安全 Safe |
| ----------- | --------------- | --------- |
| HEAD        | Y               | Y         |
| OPTIONS     | Y               | Y         |
| GET         | Y               | Y         |
| PUT         | Y               | N         |
| DELETE      | Y               | N         |
| TRACE       | Y               | -         |
| POST        | N               | N         |
| PATCH       | N               | N         |

### 幂等

-   Q: 什么是幂等性?
-   A: 简单来说就是一个操作无论执行多少次，都会得到相同的结果，即 f(x)=f(f(x)).

### PATCH 和 PUT 方法的区别

1. PATCH 方法是新引入的，是对 PUT 方法的补充，用来对已知资源进行局部更新;
2. PATCH 请求中的实体是一组将要应用到实体的更改，而不是像 PUT 请求那样是要替换旧资源的实体;
3. PATCH 只传要更新的字段到指定资源去，表示该请求是一个局部更新，后端仅更新接收到的字段;
4. PUT 虽然也是更新资源，但要求前端提供的一定是一个完整的资源对象;
5. PUT 是幂等的，而 PATCH 不一定是幂等的;
6. PUT 更新整个资源，即整个集合，所以 PUT 是幂等的;
7. PATCH 请求中的实体保存的是修改资源的指令，该指令指导服务器来对资源做出修改，所以不是幂等的，也就是，通过使用 PATCH，新资源可能被创造，或者现有资源被修改。
8. POST 方法一定不是幂等的；多次执行同样的操作，每一次都会创建一个相同的新资源。

### 杂记

1. 使用 HttpOnly 标记的 Cookie 只能使用在 HTTP 请求过程中，所以无法通过 JavaScript 来读取这段 Cookie。
