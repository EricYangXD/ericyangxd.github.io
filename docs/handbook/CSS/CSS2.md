---
title: CSS Tips2
author: EricYangXD
date: "2021-12-29"
meta:
  - name: keywords
    content: CSS,CSS3
---

## Tips

### è®¾ç½®é˜´å½±

å½“ä½¿ç”¨é€æ˜å›¾åƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `filter: drop-shadow()` å‡½æ•°åœ¨å›¾åƒä¸Šåˆ›å»ºé˜´å½±ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ `box-shadow` å±æ€§åœ¨å…ƒç´ çš„æ•´ä¸ªæ¡†åé¢åˆ›å»ºçŸ©å½¢é˜´å½±.

```css
.drop-shadow {
	filter: drop-shadow(2px 4px 8px #585858);
}
```

### å¹³æ»‘æ»šåŠ¨

æ— éœ€ JavaScript å³å¯å®ç°å¹³æ»‘æ»šåŠ¨ï¼Œåªéœ€ä¸€è¡Œ CSSï¼š`scroll-behavior: smoothï¼›`.

### è‡ªå®šä¹‰å…‰æ ‡

åœ¨æŸä¸ª DOM å…ƒç´ ä¸Šå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰å›¾åƒï¼Œç”šè‡³è¡¨æƒ…ç¬¦å·æ¥ä½œä¸ºå…‰æ ‡ã€‚

```css
.tile-image-cursor {
	background-color: #1da1f2;
	cursor: url(https://picsum.photos/20/20), auto;
}
.tile-emoji-cursor {
	background-color: #4267b2;
	cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'  width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>ğŸš€</text></svg>"),
		auto;
}
```

### æˆªæ–­æ–‡æœ¬

ä¸€è¡Œæ–‡æœ¬æº¢å‡ºéšè—ï¼š

```css
div {
	width: 200px;
	background-color: #fff;
	padding: 15px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}
```

è¿˜å¯ä»¥ä½¿ç”¨â€œ-webkit-line-clampâ€å±æ€§å°†æ–‡æœ¬æˆªæ–­ä¸ºç‰¹å®šçš„è¡Œæ•°ã€‚æ–‡æœ¬å°†åœ¨æˆªæ–­çš„åœ°æ–¹ä¼šæ˜¾ç¤ºçœç•¥å·ï¼š

```css
div {
	width: 200px;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: 2;
	overflow: hidden;
}
```

### è‡ªå®šä¹‰é€‰ä¸­æ ·å¼

CSS ä¼ªå…ƒç´ ::selectionï¼Œå¯ä»¥ç”¨æ¥è‡ªå®šä¹‰ç”¨æˆ·é€‰ä¸­æ–‡æ¡£çš„é«˜äº®æ ·å¼ã€‚

```css
.custom-highlighting::selection {
	background-color: #8e44ad;
	color: #fff;
}
```

### CSS æ¨¡æ€æ¡†

ä½¿ç”¨ CSS ä¸­çš„ :target ä¼ªå…ƒç´ æ¥åˆ›å»ºä¸€ä¸ªæ¨¡æ€æ¡†ã€‚

### ç©ºå…ƒç´ æ ·å¼

å¯ä»¥ä½¿ç”¨ :empty é€‰æ‹©å™¨æ¥è®¾ç½®å®Œå…¨æ²¡æœ‰å­å…ƒç´ æˆ–æ–‡æœ¬çš„å…ƒç´ çš„æ ·å¼ï¼š

```css
.box {
	display: inline-block;
	background: #999;
	border: 1px solid #585858;
	height: 200px;
	width: 200px;
	margin-right: 15px;
}

.box:empty {
	background: #fff;
}
```

### åˆ›å»ºè‡ªå®šä¹‰æ»šåŠ¨æ¡

æ»šåŠ¨çš„æ¡ä»¶ï¼šçˆ¶å®¹å™¨è®¾ç½®äº†`height`å’Œ`overflow!=visiable`ï¼Œå­å…ƒç´ é«˜åº¦è¦è¶…è¿‡çˆ¶å®¹å™¨ã€‚

```css
.tile-custom-scrollbar::-webkit-scrollbar {
	width: 12px;
	background-color: #eff1f5;
}

.tile-custom-scrollbar::-webkit-scrollbar-track {
	border-radius: 3px;
	background-color: transparent;
}

.tile-custom-scrollbar::-webkit-scrollbar-thumb {
	border-radius: 5px;
	background-color: #515769;
	border: 2px solid #eff1f5;
}
```

### åŠ¨æ€å·¥å…·æç¤º tooltip

å¯ä»¥ä½¿ç”¨ CSS å‡½æ•° attr() æ¥åˆ›å»ºåŠ¨æ€çš„çº¯ CSS å·¥å…·æç¤º ã€‚

```html
<h1>HTML/CSS tooltip</h1>
<p>
	Hover <span class="tooltip" data-tooltip="Tooltip Content">Here</span> to see
	the tooltip.
</p>
<p>
	You can also hover
	<span class="tooltip" data-tooltip="This is another Tooltip Content"
		>here</span
	>
	to see another example.
</p>
```

```css
.tooltip {
	position: relative;
	border-bottom: 1px dotted black;
}

.tooltip:before {
	content: attr(data-tooltip);
	position: absolute;
	width: 100px;
	background-color: #062b45;
	color: #fff;
	text-align: center;
	padding: 10px;
	line-height: 1.2;
	border-radius: 6px;
	z-index: 1;
	opacity: 0;
	transition: opacity 0.6s;
	bottom: 125%;
	left: 50%;
	margin-left: -60px;
	font-size: 0.75em;
	visibility: hidden;
}

.tooltip:after {
	content: "";
	position: absolute;
	bottom: 75%;
	left: 50%;
	margin-left: -5px;
	border-width: 5px;
	border-style: solid;
	opacity: 0;
	transition: opacity 0.6s;
	border-color: #062b45 transparent transparent transparent;
	visibility: hidden;
}

.tooltip:hover:before,
.tooltip:hover:after {
	opacity: 1;
	visibility: visible;
}
```

### åœ†å½¢æ¸å˜è¾¹æ¡†

```html
<div class="box gradient-border">ç‚«é…·æ¸å˜è¾¹æ¡†</div>
```

```css
.gradient-border {
	border: solid 5px transparent;
	border-radius: 10px;
	background-image: linear-gradient(white, white), linear-gradient(315deg, #833ab4, #fd1d1d
				50%, #fcb045);
	background-origin: border-box;
	background-clip: content-box, border-box;
}

.box {
	width: 350px;
	height: 100px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin: 100px auto;
}
```

### ç°åº¦å›¾ç‰‡

å¯ä»¥ä½¿ç”¨ `filter: grayscale()` è¿‡æ»¤å™¨åŠŸèƒ½å°†è¾“å…¥å›¾åƒè½¬æ¢ä¸ºç°åº¦ã€‚

```css
.gray {
	filter: grayscale(100%);
}
```

### æ‰“å°åˆ†é¡µæ—¶ï¼Œæ¢é¡µå¤„æ ·å¼

```css
@media print {
	@page {
		margin: 2cm;
	}
}
```

### æ•°å­—ç­‰å®½

æ¯”å¦‚ï¼š1 å’Œ 9 å®½åº¦æ˜¯ä¸ä¸€æ ·çš„ã€‚

- `font-variant-numeric`: CSS å±æ€§æ§åˆ¶æ•°å­—ï¼Œåˆ†æ•°å’Œåºå·æ ‡è®°çš„æ›¿ä»£å­—å½¢çš„ä½¿ç”¨ï¼›
- `tabular-nums`: å¯ç”¨è¡¨æ ¼æ•°å­—æ˜¾ç¤ºã€‚ä½¿æ•°å­—ç­‰å®½ï¼Œæ˜“äºåƒè¡¨æ ¼é‚£æ ·å¯¹é½ã€‚ç­‰åŒäº OpenType ç‰¹æ€§ tnumã€‚
- ä¹Ÿå¯ä»¥é€šè¿‡ `font-feature-settings: "tnum";`æ¥å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚

### font-variant

- `font-variant:small-caps;` å¯ä»¥å®ç°æŠŠæ®µè½è®¾ç½®ä¸ºå°å‹å¤§å†™å­—æ¯å­—ä½“ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰çš„å°å†™å­—æ¯å‡ä¼šè¢«è½¬æ¢ä¸ºå¤§å†™ï¼Œä½†æ˜¯æ‰€æœ‰ä½¿ç”¨å°å‹å¤§å†™å­—ä½“çš„å­—æ¯ä¸å…¶ä½™æ–‡æœ¬ç›¸æ¯”ï¼Œå…¶å­—ä½“å°ºå¯¸æ›´å°ã€‚

### offsetWidthã€clientWidthã€scrollWidthã€scrollTop çš„åŒºåˆ«

1. offsetWidthï¼šborder+padding+content;
2. clientWidthï¼špadding+content;
3. scrollWidthï¼špadding+content å®é™…å®½åº¦;
4. scrollTopï¼šå‘ä¸Šæ»šåŠ¨çš„è·ç¦»;

### NodeListã€HTMLCollection çš„åŒºåˆ«

0. éƒ½æ˜¯ç±»æ•°ç»„ï¼Œä¸æ˜¯çœŸæ­£çš„æ•°ç»„ï¼Œè¦ç”¨ Array.from()è½¬æ¢ã€‚
1. Node æ˜¯ Documentã€DocumentFragmentã€Elementã€CharacterData ç­‰çš„åŸºç±»ï¼ŒElement æ˜¯ HTMLElementã€SVGElement çš„åŸºç±»ï¼ŒHTMLElement æ˜¯ HTMLHEADElementã€HTMLInputElementã€HTMLTitleElement ç­‰çš„åŸºç±»ã€‚
2. è·å– Node å’Œ Element çš„è¿”å›ç»“æœå¯èƒ½ä¸ä¸€æ ·ï¼Œå¦‚ elem.childNodes å’Œ elem.children ä¸ä¸€æ ·ã€‚
3. å‰è€… Node ä¼šåŒ…å« Textã€Comment ç­‰èŠ‚ç‚¹ï¼Œåè€… Element åªä¼šåŒ…å« HTML åŸç´ ã€‚

### æ¯›ç»ç’ƒæ•ˆæœ

ä½¿ç”¨ `backdrop-filter: blur(6px);` ç»™å…ƒç´ åé¢åŒºåŸŸæ·»åŠ æ¨¡ç³Šæ•ˆæœ.

### æ”¹å˜è¾“å…¥æ¡†å…‰æ ‡é¢œè‰²

```css
input {
	caret-color: red;
}
```

### é˜»æ­¢ä½ çš„ç”¨æˆ·å¤åˆ¶æ–‡æœ¬

```css
div {
	-webkit-user-select: none; /* Safari */
	-ms-user-select: none; /* IE 10 and IE 11 */
	user-select: none; /* Standard syntax */
}
```

### Filter å±æ€§

```css
filter: drop-shadow(16px 16px 20px red);
filter: blur(5px);
filter: contrast(200%);
filter: grayscale(80%);
```

### writing-mode æ–‡å­—æ’ç‰ˆæ–¹å‘

```css
writing-mode: vertical-lr;
```

### Grid ä¸­çš„ place-items

åœ¨ grid å¸ƒå±€ä¸­ï¼Œalign-items å±æ€§æ§åˆ¶å‚ç›´ä½ç½®ï¼Œjustify-items å±æ€§æ§åˆ¶æ°´å¹³ä½ç½®ã€‚è¿™ä¸¤ä¸ªå±æ€§çš„å€¼ä¸€è‡´æ—¶ï¼Œå°±å¯ä»¥åˆå¹¶å†™æˆä¸€ä¸ªå€¼ã€‚æ‰€ä»¥ï¼Œ`place-items: center;`ç­‰åŒäº`place-items: center center;`ã€‚

```css
place-items: center stretch;
```

### ä¿æŒå®½é«˜æ¯”

å¯¹äºéœ€è¦ä¿æŒé«˜å®½æ¯”çš„å›¾ï¼Œåº”è¯¥ç”¨ `padding-top` å®ç°ï¼š

```css
.mod_banner {
	position: relative;
	/* ä½¿ç”¨padding-top å®ç°å®½é«˜æ¯”ä¸º 100:750 çš„å›¾ç‰‡åŒºåŸŸ */
	padding-top: percentage(100/750);
	height: 0;
	overflow: hidden;
	img {
		width: 100%;
		height: auto;
		position: absolute;
		left: 0;
		top: 0;
	}
}
```

## å¦‚ä½•è¦†ç›–ç»„ä»¶åº“çš„æ ·å¼

åœ¨å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦ä¿®æ”¹ç¬¬ä¸‰æ–¹ç»„ä»¶åº“çš„æ ·å¼ï¼Œæ¯”å¦‚ ant-design å’Œ elementUIï¼Œä¸€èˆ¬æœ‰è¿™ä¹ˆå‡ ç§åšæ³•ï¼š

1. ç›´æ¥ä¿®æ”¹ node_modules ä¸­çš„æºç ï¼šå¤šç«¯éš¾ä»¥åŒæ­¥ï¼Œä¸å¯å–ï¼›
2. ä¿®æ”¹å…¨å±€æ ·å¼ï¼šå®¹æ˜“ä¸åˆ«äººçš„æ ·å¼å‘ç”Ÿå†²çªï¼Œä¹Ÿå¯èƒ½ä¸å…è®¸è¿™ä¹ˆåšï¼Œè§†æƒ…å†µï¼›
3. æ ·å¼éš”ç¦» CSS Moduleï¼ˆReactï¼‰å’Œ Scopedï¼ˆVue)ï¼šæ¨èï¼›

### CSS ä¸­çš„æ ·å¼éš”ç¦»

#### CSS Moduleï¼ˆReactï¼‰

CSS Module çš„åŸç†ï¼šå®ƒçš„ä½¿ç”¨å¾ˆç®€å•ï¼Œåœ¨ CSS æ–‡ä»¶åŠ ä¸€ä¸ªåç¼€`.module`ï¼Œç„¶åå½“åšä¸€ä¸ªå˜é‡å¼•å…¥åˆ° JS æ–‡ä»¶ä¸­ã€‚

```js
// src/Demo.js
import styles from "./demo.module.css";
export default function Demo() {
	return (
		<div className={styles.myWrapper}>
			<Calendar />
		</div>
	);
}
```

```css
/* src/demo.module.css */
.myWrapper {
	border: 5px solid black;
}
```

è¢«ç¼–è¯‘å ğŸ‘‡ï¼Œæ’å…¥çš„æ ·å¼è¡¨å’Œå…ƒç´ çš„ class å±æ€§éƒ½ä¼šåŠ ä¸Šä¸€ä¸ªå“ˆå¸Œå€¼ä½œä¸ºå‘½åç©ºé—´ã€‚

```html
<style>
	.demo_myWrapper__Hd9Qg {
		border: 5px solid black;
	}
</style>
<div class="demo_myWrapper__Hd9Qg">...</div>
```

React ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¯­æ³•`:global`ã€‚å®ƒç”Ÿæ•ˆèŒƒå›´å†…çš„æ ·å¼ä¼šè¢«å½“ä½œå…¨å±€ CSSã€‚å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼Œåœ¨ CSS æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨`:global`åŒ…è£¹å¸Œæœ›å…¨å±€ç”Ÿæ•ˆçš„æ ·å¼ï¼Œ`:global`ä½œç”¨åŸŸä¸‹çš„æ ·å¼ç¼–è¯‘è¿‡åéƒ½ä¸ä¼šåŠ ä¸Šå“ˆå¸Œï¼š

```css
:global(.ant-picker-calendar-full
		.ant-picker-panel
		.ant-picker-calendar-date-today) {
	border-color: purple; /* è¦†ç›–ä¸ºç´«è‰² */
}
/* SCSSæˆ–SASSä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åµŒå¥—è¯­æ³•ï¼š */
:global {
	.ant-picker-calendar-full .ant-picker-panel .ant-picker-calendar-date-today {
		border-color: purple;
	}
}
```

å€ŸåŠ©`:global`è¯­æ³•ï¼Œå³ä½¿ä½¿ç”¨ CSS Module è¿›è¡Œæ ·å¼éš”ç¦»ä¹Ÿå¯ä»¥å¦‚æ„¿å®ç°è¦†ç›–åŠŸèƒ½ã€‚

#### Vue ä¸­çš„ Scoped

Vue ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æ ·å¼éš”ç¦»åŠŸèƒ½ï¼Œä½¿ç”¨ Scoped æ ‡è®° CSS éƒ¨åˆ†ï¼Œä½¿ç”¨ä¹Ÿå¾ˆç®€å• ğŸ‘‡ï¼š

```html
<div class="myWrapper">
	<Calendar />
</div>
<style scoped>
	.myWrapper {
		border: 5px solid black;
	}
</style>
```

ç¼–è¯‘å‡ºæ¥çš„ä»£ç å¦‚ä¸‹ ğŸ‘‡ï¼š

```html
<style>
	.myWrapper[data-v-2fc5154c] {
		border: 5px solid black;
	}
</style>
<div class="myWrapper" data-v-2fc5154c>...</div>
```

å®é™…å°±æ˜¯å€ŸåŠ©å±æ€§é€‰æ‹©å™¨å®ç°æ ·å¼éš”ç¦»ï¼Œæ ·å¼åªä¼šå¯¹æœ‰ data-v å±æ€§çš„æ ‡ç­¾ç”Ÿæ•ˆã€‚æ­¤æ—¶ UI ç»„ä»¶åº“å†…éƒ¨çš„ HTML å…ƒç´ éƒ½æ²¡æœ‰è¯¥å±æ€§ï¼Œå› æ­¤æ ·å¼ä¸ä¼šå¯¹ä»–ç”Ÿæ•ˆã€‚æ‰€ä»¥ Vue æä¾›äº†ä¸€ä¸ªç±»ä¼¼çš„è¯­æ³•ï¼šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚

ä½¿ç”¨å¾ˆç®€å•ï¼ŒæŠŠè¦â€œæ¸—é€â€œè¿›ç»„ä»¶å†…éƒ¨çš„æ ·å¼å‰é¢åŠ ä¸Š`>>>`ï¼Œä½œç”¨åŸŸå†…çš„ CSS æ ·å¼éƒ½ä¸ä¼šå¸¦ä¸Šå“ˆå¸Œå€¼ä½œä¸ºå±æ€§é€‰æ‹©å™¨ã€‚ä¹Ÿå¯ä»¥å°†`>>>`å†™æˆ`/deep/`æˆ–è€…`::v-deep`ã€‚

ç›¸è¾ƒäº React çš„`:global`ï¼ŒVue çš„æ·±åº¦ä½œç”¨é€‰æ‹©å™¨æ˜¯ä¸€ç§æ›´ä¼˜ç§€çš„æ–¹æ¡ˆï¼Œå®ƒå¿…é¡»è¦ä¸€ä¸ªå‰å¯¼ï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢ä¾‹å­ä¸­çš„`.myWrapper` é€‰æ‹©å™¨ï¼‰ï¼Œå‰å¯¼ä¾æ—§ä¼šè¢«æ‰“ä¸Šå“ˆå¸Œå€¼ä½œä¸ºå±æ€§é€‰æ‹©å™¨ï¼Œè¦æ¸—é€è¿›å»çš„æ ·å¼å®é™…ä¸Šæ˜¯ä½œä¸ºå®ƒçš„å­é€‰æ‹©å™¨ï¼Œåªåœ¨å½“å‰è¿™ä¸ªæ–‡ä»¶ä¸‹ç”Ÿæ•ˆï¼Œå½»åº•é¿å…é€ æˆå…¨å±€æ±¡æŸ“ã€‚

#### ShadowDOM

ShadowDOM æ˜¯ web components æ–¹æ¡ˆä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªæ–°å¢å¯¹è±¡ï¼Œå®ƒé€šè¿‡åœ¨ custom element ä¸­ä½¿ç”¨ attachShadow æ¥å¼€å¯ï¼Œå¼€å¯ä¹‹åï¼Œä¸€ä¸ª HTMLElement å°†ä¸å†æ˜¾ç¤ºå…¶åŸæœ¬å†…éƒ¨çš„å…ƒç´ ï¼Œè€Œæ˜¯æ˜¾ç¤ºå…¶ shadowRoot å†…çš„å…ƒç´ ï¼ŒshadowRoot æ˜¯ä¸€ä¸ª document fragmentï¼Œæ˜¯è„±ç¦»åŸå§‹æ–‡æ¡£æµçš„ä¸€ç§å­˜åœ¨ï¼Œå› æ­¤å®ƒå…·æœ‰ css æ ·å¼éš”ç¦»æ€§ï¼Œé€šè¿‡è¿™ç§éš”ç¦»ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¥½çš„åœ¨åº”ç”¨ä¸­å®ç°ä¸€äº›å±€éƒ¨æ ·å¼çš„é‡ç½®å’Œå®šä¹‰ï¼ˆå½“ç„¶ï¼Œè¿˜æœ‰ç»„ä»¶åŒ–æ•ˆæœï¼‰ã€‚

```js
const snake = document.querySelector("#snake");
const root = snake.createShadowRoot();
root.inner = `
  <style>span { color: red }</style>
  ${snake.innerHTML}
`;
```

#### æ€»ç»“

ç»¼ä¸Šï¼Œå¯¹äº Vue é¡¹ç›®ï¼Œä½¿ç”¨æä¾›äº†ä¸€ä¸ªç±»ä¼¼çš„è¯­æ³•ï¼šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨--`>>>`æˆ–è€…`/deep/`æˆ–è€…`::v-deep`å³å¯ã€‚å¯¹äº React é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨`:global`å±æ€§ã€‚

#### React ä¸­ AntDesign ç»„ä»¶æ ·å¼ä¿®æ”¹

1. æ–¹æ³•ä¸€ï¼šå€ŸåŠ©`styled-components`çš„ GlobalStyleï¼Œåˆ›å»ºå…¨å±€æ ·å¼ï¼›
2. æ–¹æ³•äºŒï¼šåˆ›å»ºå•ç‹¬çš„ style æ–‡ä»¶å¤¹ï¼Œå¹¶å¯¹ç›¸åº”çš„ç»„ä»¶çš„æ ·å¼è¿›è¡Œé‡å†™ï¼Œä¹‹ååœ¨ app.js ä¸­å¼•å…¥ï¼Œæ‰“åŒ…çš„æ—¶å€™ç¡®ä¿è‡ªå®šä¹‰çš„æ ·å¼åœ¨ AntDesign é»˜è®¤æ ·å¼ä¹‹åå¼•å…¥å³å¯ï¼›

## é˜²å¾¡æ€§ CSS æŠ€èƒ½

é˜²çš„æ˜¯ä¸€åˆ‡ä½¿è¡¨ç°å’Œè¡Œä¸ºåç¦»é¢„æœŸæ•ˆæœçš„æƒ…æ™¯ã€‚å‡ºç°è¿™äº›åœºæ™¯çš„åŸå› æ˜¯å› ä¸ºç»ˆç«¯ç¯å¢ƒçš„å¤šæ ·åŒ–ï¼Œå¼€å‘åŠæµ‹è¯•ç”¨ä¾‹åªèƒ½è¦†ç›–å¤§å¤šæ•°ä½¿ç”¨åœºæ™¯ï¼Œåœ¨å…¶ä»–ç¯å¢ƒä¸‹ï¼Œè§£ææœºåˆ¶å·®å¼‚ã€å†…å®¹åŠ¨æ€å˜åŒ–ç­‰ï¼Œéƒ½æ˜¯å¯¼è‡´éé¢„æœŸæ•ˆæœçš„åŸå› ã€‚

### flex-wrap

æ§åˆ¶ flex å®¹å™¨å†…å…ƒç´ æ‰€å ç©ºé—´è¶…å‡º flex å®¹å™¨ç©ºé—´æ—¶æ˜¯å¦æŠ˜è¡Œã€‚flex-wrap å±æ€§é»˜è®¤æ˜¯ä¸æŠ˜è¡Œçš„ï¼Œå®¹æ˜“å¿½ç•¥å¤šå…ƒç´ æº¢å‡ºå…œåº•ï¼›ä¸ºå…œåº•ï¼Œè¯·è®¾ç½®`flex-wrap: wrap;`ã€‚`flex-wrap` å±æ€§çš„åˆå§‹å€¼ä¸º `nowrap`ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœå®¹å™¨ä¸­æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œé¡¹ç›®å°±ä¼šæº¢å‡ºã€‚

### gap

`gap: 1rem;`

### flex-flow

ä½¿ç”¨é€Ÿè®° `flex-flow` æ¥è®¾ç½® `flex-direction` å’Œ `flex-wrap` å±æ€§

### margin é—´è·

è°ƒæ•´å…ƒç´ çš„å¤–è¾¹è·ã€‚ç”¨äºæŒ‡å®šå…ƒç´ ä¸å‘¨å›´ç©ºé—´çš„è·ç¦»å…³ç³»ã€‚åœºæ™¯ï¼šé˜²æ­¢å…ƒç´ ä¸å…ƒç´ ä¹‹é—´æŒ¤å‹ç©ºé—´ï¼Œé€ æˆé‡å ç­‰æƒ…å†µï¼›æ¯”å¦‚æ–‡æœ¬æº¢å‡ºã€å…ƒç´ æ¢è¡Œä¹‹åé‡å åœ¨ä¸€èµ·ç­‰ã€‚

### é•¿æ–‡æœ¬å¤„ç†

å½“æ–‡æœ¬é•¿åº¦è¶…å‡ºå®¹å™¨æ—¶ï¼Œè¯¥å¦‚ä½•æ˜¾ç¤ºã€‚

1. æ¢è¡Œï¼šä¸è¦è®¾ç½®å®¹å™¨çš„ height å’Œ word-break å³å¯ï¼›

2. çœç•¥ï¼š

```css
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
```

3. å›ºå®šå±•ç¤ºå‡ è¡Œåçœç•¥å‰©ä½™éƒ¨åˆ†ï¼š

```css
display: -webkit-box;
overflow: hidden;
max-height: calc(2 * 1.15 * 1.5rem);
line-height: 25px;
word-break: break-all;
-webkit-box-orient: vertical;
-webkit-line-clamp: 2;
```

### é˜²æ­¢å›¾åƒè¢«æ‹‰ä¼¸æˆ–å‹ç¼©

é€šå¸¸ï¼ŒæœåŠ¡å™¨ä¸‹å‘çš„å›¾ç‰‡å°ºå¯¸ä»¥åŠç”¨æˆ·è‡ªå®šä¹‰ä¸Šä¼ çš„å›¾ç‰‡ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢æ—¶ï¼Œä¸å¯èƒ½ç™¾åˆ†ç™¾ä¸å®¹å™¨å°ºå¯¸è´´åˆï¼Œä¸å¯é¿å…çš„ä¼šé‡åˆ°å›¾ç‰‡çš„æ”¾ç¼©å¤„ç†ï¼š`object-fit: cover;`

### é”å®šæ»šåŠ¨é“¾æ¥

`overscroll-behavior`æ˜¯`overscroll-behavior-x`å’Œ`overscroll-behavior-y`çš„ç®€å†™å±æ€§ï¼Œå®ƒæ§åˆ¶çš„æ˜¯å…ƒç´ æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶çš„è¡¨ç°ã€‚æ¢ä¸ªèƒ½å¬å¾—æ‡‚çš„è¯´æ³•ï¼šåœ¨ JS ä¸–ç•Œé‡Œï¼Œæœ‰äº‹ä»¶å†’æ³¡æœºåˆ¶ï¼Œä½ å¯ä»¥é€šè¿‡ event çš„ stopPropagation æ–¹æ³•å»é˜»æ­¢å†’æ³¡çš„å‘ç”Ÿï¼ŒåŒæ ·ï¼Œåœ¨ CSS ä¸–ç•Œé‡Œï¼Œæ»šåŠ¨ä¹Ÿæœ‰å†’æ³¡æœºåˆ¶ï¼Œå½“å†…éƒ¨å…ƒç´ æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶ï¼Œå¦‚æœç»§ç»­æ»šåŠ¨ï¼Œä¼šå¸¦åŠ¨å¤–å±‚ç¥–å…ˆå…ƒç´ å‘ç”Ÿæ»šåŠ¨ï¼Œè¿™ç§ç°è±¡è¢«ç§°ä¸ºæ»šåŠ¨é“¾ï¼Œä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠä»–å½¢è±¡çš„è®°å¿†ä¸ºæ»šåŠ¨å†’æ³¡ã€‚è€Œ`overscroll-behavior`è¿™ä¸ªå±æ€§ï¼Œå°±æ˜¯ç±»ä¼¼ event çš„ stopPropagation æ–¹æ³•é˜»æ­¢å†’æ³¡äº‹ä»¶ä¸€æ ·ï¼Œæä¾›ç»™å¼€å‘è€…å»æ§åˆ¶å†…å±‚å…ƒç´ æ˜¯å¦å¯ä»¥å‘ç”Ÿâ€å†’æ³¡â€œå¸¦åŠ¨å¤–å±‚å…ƒç´ æ»šåŠ¨çš„å±æ€§ã€‚

é¡µé¢å­˜åœ¨å¤šå±‚æ»šåŠ¨å…ƒç´ ï¼Œéœ€è¦å•ç‹¬æ§åˆ¶æ¯å±‚æ»šåŠ¨æ˜¯å¦å¼•èµ·å¤–å±‚æ»šåŠ¨ï¼›

```css
.child {
	overscroll-behavior-y: contain; // é»˜è®¤æ˜¯autoï¼›none  å’Œ contain ä¸€æ ·ï¼Œä½†å®ƒä¹Ÿå¯ä»¥é˜²æ­¢èŠ‚ç‚¹æœ¬èº«çš„æ»šåŠ¨æ•ˆæœ
	overflow-y: auto;
}
```

### CSS å˜é‡é»˜è®¤å€¼

CSS å˜é‡å¯ä»¥å®ç°åŠ¨æ€æ§åˆ¶å…ƒç´ å±æ€§ï¼Œä½†æ˜¯å½“ CSS å˜é‡æœªå®šä¹‰æˆ–æ— æ•ˆæ—¶ï¼Œé€ æˆå˜é‡å€¼å¼‚å¸¸ï¼Œæ­¤æ—¶ï¼Œå…ƒç´ çš„æ ·å¼å°†ä¼šè„±ç¦»é¢„æœŸï¼Œè€Œå˜é‡é»˜è®¤å€¼å¯ä»¥å®ç°å¼‚å¸¸å…œåº•ï¼Œä¿è¯å˜é‡å€¼å¼‚å¸¸æ—¶é¡µé¢ä¾ç„¶èƒ½è¿è¡Œã€‚

```css
.item {
	color: var(--my-var, red); /* Red if --my-var is not defined */
}
```

### å¼¹æ€§å…ƒç´ å°ºå¯¸ min-height / min-width

å½“éœ€æ±‚è¦æ±‚å®Œæ•´å±•ç¤ºæŸä¸ªåˆ—è¡¨æ•°æ®ï¼Œä½†åˆ—è¡¨æ•°æ®æ‰€å ç©ºé—´æ— æ³•å›ºå®šæ—¶ï¼Œä¸ºé¿å…éƒ¨åˆ†å†…å®¹è¿‡å®½ã€è¿‡é«˜çªç ´å›ºå®šç©ºé—´ç ´åå¸ƒå±€ï¼Œå¯ä»¥ä½¿ç”¨å¼¹æ€§å°ºå¯¸ min-_ æˆ–è€… max-_ , è¿™æ ·èƒ½è‡ªåŠ¨é€‚åº”éƒ¨åˆ†å†…å®¹æ‰€å ç©ºé—´è¿‡å¤§æˆ–è¿‡å°å¸¦æ¥çš„æ ·å¼ç¾è§‚é—®é¢˜ï¼›

### è¢«é—å¿˜çš„ background-repeat

ä½¿ç”¨å›¾ç‰‡ä½œä¸ºå®¹å™¨çš„èƒŒæ™¯å›¾ï¼Œå½“å®¹å™¨çš„å°ºå¯¸å¤§äºå›¾ç‰‡å°ºå¯¸æ—¶ï¼Œé»˜è®¤èƒŒæ™¯å›¾ä¼šé‡å¤ï¼Œå¦‚æœä½ åœ¨å¼€å‘ä¸­å¿½ç•¥äº†ä¸Šè¿°é—®é¢˜ï¼Œåˆ™ä¼šå‡ºç°èƒŒæ™¯å›¾é‡å¤çš„é—®é¢˜:`background-repeat: no-repeat;`

### åª’ä½“æŸ¥è¯¢ @media

åª’ä½“æŸ¥è¯¢çš„ä½¿ç”¨æ›´åƒæ˜¯ CSS ä¸­çš„æ¡ä»¶åˆ¤æ–­ï¼Œå®ƒä¼šæ ¹æ®ä½ å®šä¹‰çš„æ¡ä»¶ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶ï¼Œæ¡ä»¶å†…çš„æ ·å¼ç”Ÿæ•ˆï¼›

```css
/* å°† body çš„èƒŒæ™¯è‰²è®¾ç½®ä¸ºè“è‰² */
body {
	background-color: blue;
}

/* åœ¨å°äºæˆ–ç­‰äº 800 åƒç´ çš„å±å¹•ä¸Šï¼Œå°†èƒŒæ™¯è‰²è®¾ç½®ä¸ºé»„è‰² */
@media screen and (max-width: 800px) {
	body {
		background-color: yellow;
	}
}

/* åœ¨ 600 åƒç´ æˆ–æ›´å°çš„å±å¹•ä¸Šï¼Œå°†èƒŒæ™¯è‰²è®¾ç½®ä¸ºçº¢è‰² */
@media screen and (max-width: 600px) {
	body {
		background-color: red;
	}
}
```

### å›¾ç‰‡ä¸Šçš„æ–‡å­—

å½“éœ€è¦åœ¨å›¾ç‰‡ä¸Šå±‚å±•ç¤ºæ–‡å­—æ—¶ï¼Œå¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè€Œå¤–å±‚å®¹å™¨çš„èƒŒæ™¯è‰²å’Œæ–‡å­—é¢œè‰²æ¥è¿‘ï¼Œé‚£ä¹ˆæ–‡å­—çš„å±•ç¤ºæ•ˆæœå°±ä¸ç†æƒ³ï¼›å¯ä»¥ç»™å›¾ç‰‡å®¹å™¨è®¾ç½®é€‚å½“çš„èƒŒæ™¯è‰²ã€‚è‡³äºå›¾ç‰‡åŠ è½½å¤±è´¥æ—¶å·¦ä¸Šè§’çš„â€œç ´å›¾â€æ ‡è®°ï¼Œå¯ä»¥ä½¿ç”¨ä¼ªç±»è¿›è¡Œé®æŒ¡ç¾åŒ–ï¼›

### åˆç†ä½¿ç”¨æ»šåŠ¨æ¡å±æ€§

overflow å±æ€§æœ‰ä¸¤ä¸ªä½œç”¨å¾ˆç›¸è¿‘çš„å±æ€§å€¼ï¼Œä¸€ä¸ªæ˜¯ scroll, å¦ä¸€ä¸ªæ˜¯ auto; è¿™ä¸¤ä¸ªå±æ€§å€¼éƒ½èƒ½å®ç°å½“å†…å®¹å¤§äºæ‰€å ç©ºé—´æ—¶æ»šåŠ¨å±•ç¤ºï¼Œä¸åŒç‚¹åœ¨äºä½¿ç”¨ scroll å±æ€§æ— è®ºå†…å®¹æ˜¯å¦è¶…å‡ºå®¹å™¨ç©ºé—´ï¼Œéƒ½ä¼šå±•ç¤ºæ»šåŠ¨æ¡ï¼Œè€Œ auto å±æ€§ä¼šåˆ†è¾©æ¡ä»¶ï¼Œå†…å®¹è¶…å‡ºæ—¶æ‰ä¼šå±•ç¤ºæ»šåŠ¨æ¡ï¼Œä¸ºè¶…å‡ºæ—¶åˆ™ä¼šè‡ªåŠ¨éšè—ï¼Œæ ·å¼ä¸Šè¾ƒä¸ºç¾è§‚ï¼›

### é¢„ç•™æ»šåŠ¨æ¡ç©ºé—´ï¼Œé¿å…é‡æ’

ä¸€å¼€å§‹å°±é¢„ç•™å¥½æ»šåŠ¨æ¡çš„ä½ç½®ï¼Œåªæ˜¯ä¸å¯è§ï¼Œåˆ°äº†æ»šåŠ¨æ¡åº”è¯¥å‡ºåœºçš„æ—¶å€™å†è®©å®ƒå¯è§ï¼Œå°±èƒ½é¿å…ä¸å¿…è¦çš„é‡æ’äº†ã€‚å€ŸåŠ©`scrollbar-gutter: stable;`å³å¯å®ç°ï¼›ä¹Ÿå¯ä»¥æŠŠæ»šåŠ¨æ¡å¹²æ‰ï¼›

### å›¾ç‰‡æœ€å¤§å®½åº¦

å½“ç»™å›ºå®šå®½é«˜å®¹å™¨è®¾ç½®èƒŒæ™¯å›¾æ—¶ï¼Œå¦‚æœèƒŒæ™¯å›¾å°ºå¯¸è¶…è¿‡å®¹å™¨å®½é«˜ï¼Œå›¾ç‰‡ä¼šæº¢å‡ºï¼Œå› æ­¤ï¼Œæœ€å¥½åœ¨é¡¹ç›®çš„ resetCss ä¸­æŒ‰ç…§ä»¥ä¸‹å±æ€§å±æ€§åˆå§‹åŒ–ï¼š

```css
img {
	max-width: 100%;
	object-fit: cover;
}
```

### ç²˜æ€§å®šä½

position çš„ç²˜æ€§å®šä½æŒ‡çš„æ˜¯é€šè¿‡ç”¨æˆ·çš„æ»šåŠ¨ï¼Œå…ƒç´ çš„ position å±æ€§åœ¨ position:relative ä¸ position:fixed å®šä½ä¹‹é—´åˆ‡æ¢ï¼›è¿™å¯¹äºéœ€è¦ä½¿ç”¨æ»šåŠ¨å¸é¡¶çš„åœºæ™¯éå¸¸æ–¹ä¾¿ï¼›æ˜¯å…¸å‹çš„ä¾æ®ä¸šåŠ¡åœºæ™¯æ¨åŠ¨ CSS æŠ€æœ¯å‘å±•çš„å…¸ä¾‹ï¼›

### æµè§ˆå™¨å…¼å®¹æ€§ CSS è¯·å‹¿æ‰¹é‡å¤„ç†

æ ¹æ® W3C æ ‡å‡†ï¼Œæ‰¹é‡åˆ†ç»„é€‰æ‹©é€‰æ‹©å™¨ï¼Œå¦‚æœåˆ†ç»„ä¸­ï¼Œå…¶ä¸­ä¸€ä¸ªæ— æ•ˆï¼Œé‚£ä¹ˆæ•´ä¸ªé€‰æ‹©å™¨éƒ½å°†ä¼šå¤±æ•ˆã€‚å› æ­¤ï¼Œåœ¨é‡åˆ°æµè§ˆå™¨å…¼å®¹å±æ€§æ—¶ï¼Œåˆ‡å‹¿æ‰¹é‡ç»„åˆä¹¦å†™ã€‚

### flex å±æ€§

1. `flex`ï¼šæ˜¯`flex-grow`ã€`flex-shrink`ã€`flex-basis`çš„ç¼©å†™ã€‚
   - `flex:initial`=>`flex:0 1 auto`ï¼šè¡¨ç¤ºé»˜è®¤çš„flexçŠ¶æ€ï¼Œæ— éœ€ä¸“é—¨è®¾ç½®ï¼Œé€‚åˆå°æ§ä»¶å…ƒç´ çš„åˆ†å¸ƒå¸ƒå±€ï¼Œæˆ–è€…æŸä¸€é¡¹å†…å®¹åŠ¨æ€å˜åŒ–çš„å¸ƒå±€ï¼›
   - `flex:1`=>`flex:1 1 0%`ï¼šé€‚åˆç­‰åˆ†å¸ƒå±€ï¼›
   - `flex:0`=>`flex:0 1 0%`ï¼šé€‚ç”¨åœºæ™¯è¾ƒå°‘ï¼Œé€‚åˆè®¾ç½®åœ¨æ›¿æ¢å…ƒç´ çš„çˆ¶å…ƒç´ ä¸Šï¼›
   - `flex:auto`=>`flex:1 1 auto`ï¼šé€‚åˆåŸºäºå†…å®¹åŠ¨æ€é€‚é…çš„å¸ƒå±€ï¼›
   - `flex:none`=>`flex:0 0 auto`ï¼šé€‚ç”¨äºä¸æ¢è¡Œçš„å†…å®¹å›ºå®šæˆ–è€…è¾ƒå°‘çš„å°æ§ä»¶å…ƒç´ ä¸Šï¼Œå¦‚æŒ‰é’®ã€‚
2. `flex-direction`ï¼šé»˜è®¤`row`ã€`row-reverse`ã€`column`ã€`column-reverse`ã€‚
3. `flex-grow`ï¼šé»˜è®¤å€¼æ˜¯`0`ã€‚
4. `flex-shrink`ï¼šé»˜è®¤å€¼æ˜¯`1`ã€‚
5. `flex-basis`ï¼šé»˜è®¤å€¼æ˜¯`auto`ã€‚
6. `align-items`ï¼šä¸»è¦å½±å“äº¤å‰è½´å‚ç›´æ–¹å‘çš„æ’åˆ—ã€‚
   - `flex-start`ï¼šå‚ç›´æ–¹å‘ä»ä¸Šå¾€ä¸‹æ’åˆ—
   - `center`ï¼šå‚ç›´æ–¹å‘å±…ä¸­æ’åˆ—
   - `flex-end`ï¼šå‚ç›´æ–¹å‘ä»ä¸‹å¾€ä¸Šæ’åˆ—
   - `stretch`ï¼šä¼šå°†å­å…ƒç´ é«˜åº¦æ‹‰ä¼¸çˆ¶å…ƒç´ ä¸€è‡´(å­å…ƒç´ æœªè®¾ç½®é«˜åº¦)
   - `baseline`ï¼šåŸºçº¿å¯¹é½
7. `justify-content`ï¼šä¸»è¦å½±å“æ°´å¹³ä¸»è½´çš„æ’åˆ—é¡ºåºã€‚æ²¿ä¸»è½´åˆ†é…ç©ºé—´ã€‚è¦ä½¿ `justify-content` å±æ€§èµ·ä½œç”¨ï¼Œæ‚¨å¿…é¡»åœ¨å®¹å™¨ä¸­ä¸»è½´æ–¹å‘ä¸Šç•™å‡ºç©ºé—²ç©ºé—´ã€‚å¦‚æœæ‚¨çš„é¡¹ç›®å¡«æ»¡äº†è¯¥è½´ï¼Œæ²¡æœ‰å¯ä¾›åˆ†é…çš„ç©ºé—´ï¼Œé‚£ä¹ˆè¯¥å±æ€§ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œã€‚
   - `flex-start`ï¼šå·¦å¯¹é½æ’åˆ—
   - `center`ï¼šå±…ä¸­æ’åˆ—
   - `flex-end`ï¼šå±…å³æ’åˆ—
   - `space-between`ï¼šä¸¤ç«¯å¯¹é½æ’åˆ—
   - `space-around`ï¼šé—´éš”ç›¸ç­‰æ’åˆ—
8.  `flex-wrap`ï¼šé»˜è®¤`nowrap`ã€‚
9.  `flex-flow`ï¼šè¿™ä¸ªå±æ€§ä¸»è¦æ˜¯`flex-direction`ä¸`flex-wrap`çš„ç»“åˆä½“ã€‚é»˜è®¤`row nowrap`ã€‚
10. `align-content`ï¼šæ²¿æ¨ªè½´åˆ†é…ç©ºé—´ã€‚åˆå§‹å€¼ä¸º `stretch`ã€‚
11. `place-content: align justify`ï¼šç”¨äºåŒæ—¶è®¾ç½®`align-content`å’Œ`justify-content`å±æ€§çš„é€Ÿè®°ã€‚
12. `flex-direction`çš„æ–¹å‘å°±æ˜¯ä¸»è½´çš„æ–¹å‘ï¼Œæ‰€ä»¥ä¸»è½´å’Œæ¨ªè½´å®é™…ä¸Šæ˜¯ç›¸å¯¹çš„ã€‚

- itemå±æ€§
1.  `order`ï¼šå†³å®šå­é¡¹ç›®çš„é¡ºåºï¼Œorderè¶Šå°ï¼Œè¶Šæ˜¯æ’åˆ—åœ¨æœ€å‰é¢ã€‚
2.  `flex-grow`ï¼šè¯¥å±æ€§æ˜¯å†³å®šå½“å‰itemçš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤æ˜¯0é¡¹ç›®ä¸æ”¾å¤§ã€‚
3.  `flex-shrink`ï¼šå½“å‰itemçš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤çš„æ˜¯0ã€‚
4.  `flex-basis`ï¼šè®¾ç½®å½“å‰çš„itemçš„å›ºå®šå®½åº¦ã€‚
5.  `align-self`ï¼šè¿™ä¸ªå±æ€§å¯ä»¥å•ç‹¬æ§åˆ¶å½“å‰å…ƒç´ çš„ä½ç½®ã€‚`flex-start`ã€`center`ã€`flex-end`ã€‚

### grid å±æ€§

1. ç½‘æ ¼å¸ƒå±€
2. æ˜¾å¼ç½‘æ ¼å±æ€§`grid-template-rows`
3. æ˜¾å¼ç½‘æ ¼å±æ€§`grid-template-columns`
4. æ˜¾å¼ç½‘æ ¼å±æ€§`grid-template-areas`
5. éšå¼ç½‘æ ¼å±æ€§`grid-auto-rows`
6. éšå¼ç½‘æ ¼å±æ€§`grid-auto-columns`
7. éšå¼ç½‘æ ¼å±æ€§`grid-auto-areas`
8. é—´è·å±æ€§`grid-column-gap`
9. é—´è·å±æ€§`grid-row-gap`
10. `grid-area`

### border å±æ€§

CSS `border`å±æ€§æ˜¯`border-width`ï¼Œ`border-style`å’Œ`border-color`è¿™ 3 ä¸ª CSS å±æ€§çš„ç¼©å†™ï¼Œå½“`border`å±æ€§è®¾ç½®äº† 1 ä¸ªå€¼æˆ– 2 ä¸ªå€¼çš„æ—¶å€™ï¼Œ**å‰©ä¸‹çš„å±æ€§å€¼ä¸€å®šæ˜¯é»˜è®¤å€¼**ï¼Œä¾‹å¦‚ï¼š

- `border:2px`ç­‰åŒäº`border:2px none currentColor`ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶`border-style`æ˜¯é»˜è®¤å€¼`none`ï¼Œ`border-color`çš„è®¡ç®—å€¼æ˜¯å½“å‰çš„è‰²å€¼ï¼›
- `border:#fff`ç­‰åŒäº`border:medium none #fff`ï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶`border-width`æ˜¯é»˜è®¤å€¼`medium`ï¼›
- `border:solid`ç­‰åŒäº`border:medium solid currentColor`ã€‚

### ä¸ºä»€ä¹ˆ padding/margin çš„ç™¾åˆ†æ¯”å•ä½æ˜¯åŸºäºçˆ¶å…ƒç´ çš„å®½åº¦è€Œä¸æ˜¯é«˜åº¦

çˆ¶å…ƒç´ çš„é«˜åº¦å¾€å¾€ç”±å­å…ƒç´ æ¥å†³å®šï¼Œå¦‚æœæ”¹å˜ margin-top æ¯”ä¾‹å¢åŠ ï¼Œç›¸åº”çš„ï¼Œçˆ¶å…ƒç´ é«˜åº¦ä¹Ÿä¼šè¿›è¡Œé€‚åº”æ€§å¢åŠ ï¼›æ­¤æ—¶çˆ¶å…ƒç´ é«˜åº¦å¢åŠ çš„åŒæ—¶ï¼Œmargin-top è‹¥ä»¥çˆ¶å…ƒç´ é«˜åº¦ä¸ºåŸºå‡†ï¼Œåˆ™å…¶å®é™…æ•°å€¼åˆä¼šå‘ç”Ÿé€‚åº”æ€§å˜åŒ–ï¼ŒåŒå‘å› æœä¼šé€ æˆå¾ªç¯ï¼Œæ‰€ä»¥ W3C çš„è§„èŒƒåšå‡ºäº†ä»¥ä¸Šè§„å®šã€‚

### åˆ†ææ¯”è¾ƒ opacity: 0ã€visibility: hiddenã€display: none ä¼˜åŠ£å’Œé€‚ç”¨åœºæ™¯

0. è”ç³»ï¼šå®ƒä»¬éƒ½èƒ½è®©å…ƒç´ ä¸å¯è§ã€‚
1. ç»“æ„ï¼š `display: none`: ä¼šè®©å…ƒç´ å®Œå…¨ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“çš„æ—¶å€™ä¸å æ®ä»»ä½•ç©ºé—´, ä¸èƒ½ç‚¹å‡»ï¼Œ `visibility: hidden`:ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œæ¸²æŸ“å…ƒç´ ç»§ç»­å æ®ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§ï¼Œä¸èƒ½ç‚¹å‡» `opacity: 0`:ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œæ¸²æŸ“å…ƒç´ ç»§ç»­å æ®ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§ï¼Œå¯ä»¥ç‚¹å‡»ã€‚
2. ç»§æ‰¿ï¼š `display: none`å’Œ`opacity: 0`ï¼šæ˜¯éç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºå…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±é€ æˆï¼Œé€šè¿‡ä¿®æ”¹å­å­™èŠ‚ç‚¹å±æ€§æ— æ³•æ˜¾ç¤ºã€‚ `visibility: hidden`ï¼šæ˜¯ç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºç»§æ‰¿äº† hiddenï¼Œé€šè¿‡è®¾ç½®`visibility: visible;`å¯ä»¥è®©å­å­™èŠ‚ç‚¹æ˜¾å¼ã€‚
3. æ€§èƒ½ï¼š `display: none` : ä¿®æ”¹å…ƒç´ ä¼šé€ æˆæ–‡æ¡£å›æµï¼Œè¯»å±å™¨ä¸ä¼šè¯»å–`display: none`å…ƒç´ å†…å®¹ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå¤§ï¼›`visibility:hidden`: ä¿®æ”¹å…ƒç´ åªä¼šé€ æˆæœ¬å…ƒç´ çš„é‡ç»˜ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå°‘ï¼Œè¯»å±å™¨è¯»å–`visibility: hidden`å…ƒç´ å†…å®¹ï¼›`opacity: 0` ï¼šä¿®æ”¹å…ƒç´ ä¼šé€ æˆé‡ç»˜ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå°‘ã€‚
4. æ ªè¿æ€§ï¼š å¦‚æœç¥–å…ˆå…ƒç´ é­é‡æŸç¥¸å®³ï¼Œåˆ™å…¶å­å­™å­™æ— ä¸€ä¾‹å¤–ä¹Ÿè¦é­æ®ƒï¼Œæ¯”å¦‚ï¼š` opacity:0`å’Œ`display:none`ï¼Œè‹¥çˆ¶èŠ‚ç‚¹å…ƒç´ åº”ç”¨äº†`opacity:0`å’Œ`display:none`ï¼Œæ— è®ºå…¶å­å­™å…ƒç´ å¦‚ä½•æŒ£æ‰éƒ½ä¸ä¼šå†å‡ºç°åœ¨å¤§ä¼—è§†é‡ï¼› è€Œè‹¥çˆ¶èŠ‚ç‚¹å…ƒç´ åº”ç”¨`visibility:hidden`ï¼Œå­å­™å…ƒç´ åº”ç”¨`visibility:visible`ï¼Œé‚£ä¹ˆå…¶å°±ä¼šæ¯«æ— æ„å¤–çš„æ˜¾ç°å‡ºæ¥ã€‚

### max-width å’Œ min-width

`max-width` ä¼šè¦†ç›–`width`è®¾ç½®ï¼Œä½† `min-width`è®¾ç½®ä¼šè¦†ç›– `max-width`ã€‚

## 1px è§£å†³æ–¹æ¡ˆ

### 1.ä¼ªå…ƒç´  + CSS3 ç¼©æ”¾

```css
/* // é€šè¿‡ä¼ªå…ƒç´ å®ç° 0.5px border */
.border::after {
	content: "";
	box-sizing: border-box; /* // ä¸ºäº†ä¸åŸå…ƒç´ ç­‰å¤§ */
	position: absolute;
	left: 0;
	top: 0;
	width: 200%;
	height: 200%;
	border: 1px solid gray;
	transform: scale(0.5);
	transform-origin: 0 0;
}

/* // é€šè¿‡ä¼ªå…ƒç´ å®ç° 0.5px ç»†çº¿ */
.line::after {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	width: 200%;
	height: 1px;
	background: #b3b4b8;
	transform: scale(0.5);
	transform-origin: 0 0;
}

/* // dpré€‚é…å¯ä»¥è¿™æ ·å†™ */
@media (-webkit-min-device-pixel-ratio: 2) {
	.line::after {
		/* ... */
		height: 1px;
		transform: scale(0.5);
		transform-origin: 0 0;
	}
}
@media (-webkit-min-device-pixel-ratio: 3) {
	.line::after {
		/* ... */
		height: 1px;
		transform: scale(0.333);
		transform-origin: 0 0;
	}
}
```

#### ä¸ºä»€ä¹ˆè¦å…ˆæ”¾å¤§ 200% å†ç¼©å° 0.5ï¼Ÿ

ä¸ºäº†åªç¼©æ”¾ border 1px çš„ç²—ç»†ï¼Œè€Œä¿è¯ border çš„å¤§å°ä¸å˜ã€‚å¦‚æœç›´æ¥ scale(0.5) çš„è¯ border æ•´ä½“å¤§å°ä¹Ÿä¼šå˜æˆäºŒåˆ†ä¹‹ä¸€ï¼Œæ‰€ä»¥å…ˆæ”¾å¤§ 200%ï¼ˆæ”¾å¤§çš„æ—¶å€™ border çš„ç²—ç»†æ˜¯ä¸ä¼šè¢«æ”¾å¤§çš„ï¼‰å†ç¼©æ”¾ï¼Œå°±èƒ½ä¿æŒåŸå¤§å°ä¸å˜äº†ã€‚

#### ä¸ºä»€ä¹ˆé‡‡ç”¨ç¼©æ”¾çš„æ–¹å¼ï¼Œå°±å¯ä»¥è§£å†³æ‰‹æœºå¯¹å°æ•°ç‚¹å¤„ç†çš„å…¼å®¹æ€§é—®é¢˜ï¼Ÿ

é¦–å…ˆä»£ç ä¸­å¤„ç†çš„æ˜¯ 1px ï¼Œé¿å…äº†ç›´æ¥æ“ä½œå°æ•°åƒç´ çš„é—®é¢˜ï¼›å½“ dpr=2 æ—¶ï¼Œæ¢ç®—æˆç‰©ç†åƒç´ ä¸º 2pxï¼Œæ­¤æ—¶å»ç¼©æ”¾ scale(0.5)ã€å½“ dpr=3 æ—¶ï¼Œæ¢ç®—æˆç‰©ç†åƒç´ ä¸º 3pxï¼Œæ­¤æ—¶ç¼©æ”¾ scale(0.3) åï¼Œæ‰‹æœºå‡ä¼šé»˜è®¤ä½¿ç”¨æœ€å°ç‰©ç†åƒç´  1px æ¥æ¸²æŸ“ã€‚æŒ‰ç…§ CSS3 transform çš„ scale å®šä¹‰ï¼Œè¾¹æ¡†å¯ä»¥ä»»æ„ç»†ï¼Œç†è®ºä¸Šå¯ä»¥å®ç°ä»»æ„ç»†çš„ç¼©æ”¾æ•ˆæœã€‚

- è¯¥æ–¹æ¡ˆçš„ä¼˜ç‚¹åœ¨äºï¼Œé’ˆå¯¹è€é¡¹ç›®ä½¿ç”¨ç¼©æ”¾çš„å½¢å¼å¯ä»¥å¿«é€Ÿå®ç° 1px çš„æ•ˆæœã€‚
- éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ˜¯åœ¨ 1px çš„åŸºç¡€ä¸Šè¿›è¡Œç¼©æ”¾ï¼
- å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº† rem å•ä½çš„è¯ï¼Œæ­¤å¤„çš„ 1px æ˜¯ä¸èƒ½ç”¨ rem å•ä½çš„ï¼Œå¦åˆ™æ ¹æ® rem æ¢ç®—åå†è¿›è¡Œç¼©æ”¾ï¼Œä¼šä½¿å¾—è¾¹æ¡†å˜å¾—æ›´ç»†ã€‚
- å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº† postcss-pxtorem æ’ä»¶è¿›è¡Œç¼–è¯‘çš„è¯ï¼Œè®°å¾—ä¸è¦å¯¹ 1px è¿›è¡Œç¼–è¯‘ã€‚å‚è€ƒé…ç½®

```css
.ignore {
	border: 1px solid; // ignored
	border-width: 2px; // ignored
}
```

- Px or PX is ignored by postcss-pxtorem but still accepted by browsersã€‚

### 1.5 å¦ä¸€ç§å†™æ³•

1 ç‰©ç†åƒç´ çº¿ï¼ˆä¹Ÿå°±æ˜¯æ™®é€šå±å¹•ä¸‹ 1px ï¼Œé«˜æ¸…å±å¹•ä¸‹ 0.5px çš„æƒ…å†µï¼‰é‡‡ç”¨ transform å±æ€§ scale å®ç°

```css
.mod_grid {
	position: relative;
	&::after {
		/* å®ç°1ç‰©ç†åƒç´ çš„ä¸‹è¾¹æ¡†çº¿ */
		content: "";
		position: absolute;
		z-index: 1;
		pointer-events: none;
		background-color: #ddd;
		height: 1px;
		left: 0;
		right: 0;
		top: 0;
		@media only screen and (-webkit-min-device-pixel-ratio: 2) {
			-webkit-transform: scaleY(0.5);
			-webkit-transform-origin: 50% 0%;
		}
	}
	...;
}
```

### 2.åŠ¨æ€ Viewport + REM æ–¹å¼

å‚è€ƒäº†é˜¿é‡Œæ—©æœŸå¼€æºçš„ä¸€ä¸ªç§»åŠ¨ç«¯é€‚é…è§£å†³æ–¹æ¡ˆ flexible ï¼Œæœ¬æ–‡è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³äº†ç§»åŠ¨ç«¯é€‚é…çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿè¾ƒå¥½çš„è§£å†³äº† 1px çš„é—®é¢˜ã€‚

#### è§†å£

å°±æ˜¯æµè§ˆå™¨ä¸Š(æˆ–è€…æ˜¯ä¸€ä¸ª APP ä¸­çš„ webview )ç”¨æ¥æ˜¾ç¤ºç½‘é¡µçš„é‚£éƒ¨åˆ†åŒºåŸŸï¼Œä½† viewport åˆä¸å±€é™äºæµè§ˆå™¨å¯è§†åŒºåŸŸçš„å¤§å°ï¼Œå®ƒå¯èƒ½æ¯”æµè§ˆå™¨çš„å¯è§†åŒºåŸŸè¦å¤§ï¼Œä¹Ÿå¯èƒ½æ¯”æµè§ˆå™¨çš„å¯è§†åŒºåŸŸè¦å°ã€‚æˆ‘ä»¬ä¸€èˆ¬æœ€å¸¸ç”¨çš„æ˜¯ layout viewport (æµè§ˆå™¨é»˜è®¤çš„ viewport)ã€‚é»˜è®¤å®½åº¦å¤§äºæµè§ˆå™¨å¯è§†åŒºåŸŸçš„å®½åº¦ï¼Œæ‰€ä»¥æµè§ˆå™¨é»˜è®¤ä¼šå‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ã€‚

`const clientWidth = document.documentElement.clientWidth || document.body.clientWidth`

#### é€šè¿‡ meta æ ‡ç­¾è®¾ç½® viewport

å¦‚æœä¸è®¾ç½® meta æ ‡ç­¾çš„è¯ï¼Œç”±äº viewport é»˜è®¤å®½åº¦æ˜¯å¤§äºæµè§ˆå™¨å¯è§†åŒºåŸŸçš„ï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡è®¾ç½® viewport çš„å®½åº¦ç­‰äºå±å¹•å®½ width=device-width æ¥é¿å…å‡ºç°æ¨ªå‘æ»šåŠ¨æ¡ã€‚

```html
<meta
	name="viewport"
	content="
    width=device-width,  // è®¾ç½®viewportçš„å®½ç­‰äºå±å¹•å®½
    initial-scale=1.0,  // åˆå§‹ç¼©æ”¾ä¸º1
    maximum-scale=1.0, 
    user-scalable=no,  // ä¸å…è®¸ç”¨æˆ·æ‰‹åŠ¨ç¼©æ”¾
    viewport-fit=cover // ç¼©æ”¾ä»¥å¡«å……æ»¡å±å¹•
    "
/>
```

- name è®¾ç½®å…ƒæ•°æ®çš„åç§°ï¼Œcontent è®¾ç½®å…ƒæ•°æ®çš„å€¼ã€‚name å±æ€§å€¼ä¸º viewport æ—¶ï¼Œè¡¨ç¤ºè®¾ç½®æœ‰å…³è§†å£åˆå§‹å¤§å°çš„æç¤ºï¼Œä»…ä¾›ç§»åŠ¨ç«¯ä½¿ç”¨
- åŒæ—¶è®¾ç½® width=device-width,initial-scale=1.0 æ˜¯ä¸ºäº†å…¼å®¹ iOS å’Œ IE æµè§ˆå™¨

#### å…³äºé¡µé¢ç¼©æ”¾

`initial-scale` ç¼©æ”¾å€¼è¶Šå¤§ï¼Œå½“å‰ viewport çš„å®½åº¦å°±ä¼šè¶Šå°ï¼Œåä¹‹äº¦ç„¶ã€‚

- æ¯”å¦‚å±å¹•å®½åº¦æ˜¯ 320px çš„è¯ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½® `initial-scale=2` ï¼Œæ­¤æ—¶ viewport çš„å®½åº¦ä¼šå˜ä¸ºåªæœ‰ 160px äº†ã€‚è¿™ä¹Ÿå¥½ç†è§£ï¼Œæ”¾å¤§äº†ä¸€å€å˜›ï¼Œå°±æ˜¯åŸæ¥ 1px çš„ä¸œè¥¿å˜æˆ 2px äº†ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æŠŠåŸæ¥çš„ 320px å˜ä¸º 640px ï¼Œè€Œæ˜¯åœ¨å®é™…å®½åº¦ä¸å˜çš„æƒ…å†µä¸‹ï¼Œ1px å˜å¾—è·ŸåŸæ¥çš„ 2px çš„é•¿åº¦ä¸€æ ·äº†ã€‚

æ‰€ä»¥ç¼©æ”¾é¡µé¢çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ”¹å˜äº† CSS åƒç´ çš„å¤§å°ï¼Œè€Œæ•°é‡ä¸å˜ã€‚æ‰€ä»¥åŸæ¥éœ€è¦ 320px æ‰èƒ½å¡«æ»¡çš„å®½åº¦ç°åœ¨åªéœ€è¦ 160px å°±åšåˆ°äº†ã€‚

- CSS åƒç´ çš„å®šä¹‰æ˜¯ï¼Œä¸è€ƒè™‘ç¼©æ”¾æƒ…å†µä¸‹ï¼Œ1 ä¸ª CSS åƒç´ ç­‰äº 1 ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚é¡µé¢æ”¾å¤§ 200% æ—¶ï¼ŒCSS åƒç´ ä¸ªæ•°ä¸å˜ï¼Œå¤§å°å˜ä¸ºäºŒå€ï¼Œç›¸å½“äºä¸€ä¸ª CSS åƒç´ åœ¨æ¨ªçºµå‘ä¸Šä¼šè¦†ç›–ä¸¤ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚æµè§ˆå™¨çª—å£å¯å®¹çº³çš„è®¾å¤‡ç‹¬ç«‹åƒç´ æ•°é‡æ˜¯ä¸å˜çš„ï¼Œæ‰€ä»¥å¯è§†åŒºåŸŸå†… CSS åƒç´ æ•°é‡å˜å°‘ã€‚

#### Flexible é€‚é…æ–¹æ¡ˆåŠé—®é¢˜

Flexible çš„å¤§è‡´å®ç°æ€è·¯æ˜¯ï¼Œé¦–å…ˆæ ¹æ® dpr æ¥åŠ¨æ€ä¿®æ”¹ meta æ ‡ç­¾ä¸­ viewport ä¸­çš„ initial-scale çš„å€¼ï¼Œä»¥æ­¤æ¥åŠ¨æ€æ”¹å˜ viewport çš„å¤§å°ï¼›ç„¶åé¡µé¢ä¸Šç»Ÿä¸€ä½¿ç”¨ rem æ¥å¸ƒå±€ï¼Œviewport å®½åº¦å˜åŒ–ä¼šåŠ¨æ€å½±å“ html ä¸­çš„ font-size å€¼ï¼Œä»¥æ­¤æ¥å®ç°é€‚é…ã€‚

- Q:ä¸ºä»€ä¹ˆä¸ç›´æ¥å¼•ç”¨ flexible åº“æ¥è¿›è¡Œç§»åŠ¨ç«¯é€‚é…å‘¢ï¼Ÿ
- A:å› ä¸º lib-flexible è¿™ä¸ªåº“ç›®å‰åŸºæœ¬è¢«å¼ƒç”¨

ç®€å•å®ç°ï¼š

```html
<head>
	<meta
		name="viewport"
		content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1,viewport-fit=cover"
	/>
	<script type="text/javascript">
		// åŠ¨æ€è®¾ç½® viewport çš„ initial-scale
		var viewport = document.querySelector("meta[name=viewport]");
		var dpr = window.devicePixelRatio || 1;
		var scale = 1 / dpr;
		viewport.setAttribute(
			"content",
			"width=device-width," +
				"initial-scale=" +
				scale +
				", maximum-scale=" +
				scale +
				", minimum-scale=" +
				scale +
				", user-scalable=no"
		);
		// è®¡ç®— rem font-size
		var clientWidth =
			document.documentElement.clientWidth || document.body.clientWidth;
		clientWidth > 750 && (clientWidth = 750);
		var ft = (clientWidth / 7.5).toFixed(2); // ä»¥750è®¾è®¡ç¨¿ä¸ºä¾‹
		document.documentElement.style.fontSize = ft + "px";
	</script>
</head>
```

- Q:ä¸ºä»€ä¹ˆé¡µé¢ç¼©æ”¾æ¯”ä¾‹ initial-scale è®¾ç½®ä¸º 1 / dpr ï¼Ÿ
- A:é€šè¿‡è®¾ç½®é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º 1/dprï¼Œå¯å°† viewport çš„å®½åº¦æ‰©å¤§ dpr å€ã€‚è¿˜æ˜¯ä»¥ iPhone6 æ‰‹æœºä¸ºä¾‹ï¼Œä¸è¿›è¡Œé¡µé¢ç¼©æ”¾æ—¶ viewport å®½åº¦ 375pxã€dpr=2ã€‚ç”±äº dpr çš„å­˜åœ¨ä½¿å¾—ä¸€ä¸ª CSS åƒç´ éœ€è¦ä¸¤ä¸ªç‰©ç†åƒç´ æ¥æ¸²æŸ“ã€‚å½“è®¾ç½® initial-scale = 1 / dpr = 0.5 æ—¶ï¼Œè·å–åˆ°çš„ viewport å®½åº¦ clientWidth = 750px ï¼Œè¢«æ‰©å¤§äº† dpr å€ï¼Œå°±æ­£å¥½æ˜¯è®¾å¤‡ç‰©ç†åƒç´ çš„å®½åº¦ã€‚ç®€å•æ¨å¯¼ä¸€ä¸‹å°±æ˜¯ï¼Œå½“ scale=0.5 æ—¶ï¼Œç”±äº viewport å†…å¯å®¹çº³çš„ CSS åƒç´ æ•°é‡çš„å¢å¤šï¼Œç›¸å½“äºä¸€ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ åœ¨æ¨ªçºµå‘ä¸Šä¼šè¦†ç›–ä¸¤ä¸ª CSS åƒç´ ï¼Œæ­¤æ—¶æˆ‘ä»¬å†™çš„ 1px å…¶å®æ­£å¥½æ˜¯ä¸€ä¸ªç‰©ç†åƒç´ çš„å¤§å°ï¼Œå¹¶ä¸”å¯ä»¥è¾ƒå¥½çš„ç”»å‡º 1px çš„è¾¹æ¡†ï¼Œä»è€Œæé«˜æ˜¾ç¤ºç²¾åº¦ï¼Œä»æ­¤æˆ‘ä»¬å°±å¯ä»¥æ„‰å¿«åœ°ç›´æ¥å†™ 1px å•¦ï¼åŒæ—¶è¿™ä¸ªæ–¹æ¡ˆä¹Ÿè¾ƒå¥½çš„è§£å†³äº†åªä½¿ç”¨ rem è¿›è¡Œå¸ƒå±€æ—¶ï¼Œå‡ºç°è®¡ç®—åçš„å„ç§ 0.5pxã€0.55px ç­‰é—®é¢˜ã€‚

```js
CSSåƒç´ ä¸ªæ•° =  è®¾å¤‡ç‹¬ç«‹åƒç´ ä¸ªæ•° /  scale   = ï¼ˆ ç‰©ç†åƒç´ ä¸ªæ•° / dpr ï¼‰/ scale
scale = 1 / dpr
// æ‰€ä»¥
CSSåƒç´ ä¸ªæ•° = ç‰©ç†åƒç´ ä¸ªæ•°
```

### å®¡æŸ¥è®¾è®¡ç¨¿

- è®¾è®¡ç¨¿çš„å®¡æŸ¥æµç¨‹ä¸€èˆ¬éƒ½æ¯”è¾ƒå›ºå®šï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ•´ç†æˆä¸ºå›¢é˜Ÿå†…é€šç”¨çš„å®¡æŸ¥æ¸…å•ï¼š

1. ç¡®å®šè®¾è®¡ç¨¿çš„å¼€å‘å‹å¥½æ€§ï¼ˆæ˜¯å¦æœ‰è¿˜åŸæˆæœ¬é«˜æˆ–æ— æ³•è¿˜åŸçš„åœ°æ–¹ï¼‰
2. ç¡®å®šä¸€äº›ç‰¹æ®Šçš„å…ƒç´ æ˜¯å¦æœ‰åˆç†çš„è¾¹ç•Œå¤„ç†ï¼ˆå¦‚æ–‡æ¡ˆè¶…å‡ºå¤–å±‚å®¹å™¨çš„è¾¹ç•Œæ€ä¹ˆåŠï¼‰
3. ç¡®å®šé¡µé¢çš„æ¡†æ¶ç»“æ„ï¼ˆLayoutï¼‰
4. ç¡®å®šè·¨é¡µé¢å¯å¤ç”¨çš„ç»„ä»¶ï¼ˆSite Componentï¼‰
5. ç¡®å®šå½“å‰é¡µé¢å¯å¤ç”¨çš„ç»„ä»¶ï¼ˆPage Componentï¼‰

- ä¾æ®ç›®æ ‡è®¾å¤‡çš„åˆ†è¾¨ç‡ï¼Œåˆ¶å®šä¸€å¥—åˆé€‚çš„æ ·å¼æ–­ç‚¹ï¼Œå¹¶ä¸ºä¸åŒçš„æ–­ç‚¹å®šåˆ¶å¿…è¦çš„ CSS æ ·å¼ã€‚ ç§»åŠ¨ç«¯ä¼˜å…ˆçš„é¡µé¢ï¼Œå¯ä½¿ç”¨ min-width æŸ¥è¯¢å‚æ•°ä»å°åˆ°å¤§æ¥å®šä¹‰æ–­ç‚¹ã€‚
  æ–­ç‚¹åç§° æ–­ç‚¹æè¿°ï¼‰ï¼š

1. mobile ç§»åŠ¨è®¾å¤‡æ–­ç‚¹ï¼Œè§†çª—å®½åº¦ â‰¤ 768 px
2. tablet å¹³æ¿ç”µè„‘è®¾å¤‡æ–­ç‚¹ï¼Œè§†çª—å®½åº¦ â‰¥ 769 px
3. desktop æ¡Œé¢ç”µè„‘æ–­ç‚¹ï¼Œè§†çª—å®½åº¦ â‰¥ 1024 px
4. widescreen å®½å±ç”µè„‘æ–­ç‚¹ï¼Œè§†çª—å®½åº¦ â‰¥ 1216 px
5. fullhd é«˜æ¸…å®½å±ç”µè„‘æ–­ç‚¹ï¼Œè§†çª—å®½åº¦ â‰¥ 1408 px

- å‹æƒ…æé†’ï¼šæ¡Œé¢ç‰ˆ Chrome æ”¯æŒçš„å­—ä½“å¤§å°é»˜è®¤ä¸èƒ½å°äº 12PXï¼Œå¯é€šè¿‡ ã€Œchrome://settings/ æ˜¾ç¤ºé«˜çº§è®¾ç½®ï¼ç½‘ç»œå†…å®¹ï¼è‡ªå®šä¹‰å­—ä½“ï¼æœ€å°å­—å·ï¼ˆæ»‘åˆ°æœ€å°ï¼‰ã€è®¾ç½®åå†åˆ°æ¨¡æ‹Ÿå™¨é‡Œä½“éªŒ DEMOã€‚

### vw é€‚é…æ–¹æ¡ˆ

vw æ˜¯è§†å£å•ä½ï¼Œè§†å£å•ä½ä¸­çš„â€œè§†å£â€ï¼Œåœ¨æ¡Œé¢ç«¯æŒ‡çš„æ˜¯æµè§ˆå™¨çš„å¯è§†åŒºåŸŸï¼›åœ¨ç§»åŠ¨ç«¯æŒ‡çš„å°±æ˜¯ Viewport ä¸­çš„ Layout Viewportï¼ˆå¸ƒå±€é€‚å£ï¼‰ã€‚

vw ä¸è§†å£å•ä½çš„è½¬æ¢å…³ç³»ï¼š

| å•ä½ | è§£é‡Š                       |
| ---- | -------------------------- |
| vw   | 1vw = è§†å£å®½åº¦çš„ 1%        |
| vh   | 1vh = è§†å£é«˜åº¦çš„ 1%        |
| vmin | é€‰å– vw å’Œ vh ä¸­æœ€å°çš„é‚£ä¸ª |
| vmax | é€‰å– vw å’Œ vh ä¸­æœ€å¤§çš„é‚£ä¸ª |

1. ç§»åŠ¨ç«¯é€‚é…åšæ³•ï¼šé’ˆå¯¹ä¸åŒçš„æœºå‹ï¼Œæˆ‘ä»¬åªè¦ç®—å‡º ui è®¾è®¡ç¨¿å°ºå¯¸ï¼ˆä¸€èˆ¬ä¸º 1080pxï¼‰ä¸è§†å£å°ºå¯¸ï¼ˆå‡è®¾ä¸º 375pxï¼‰çš„æ¯”ä¾‹å…³ç³»ï¼Œç„¶åç”¨ vw å°ºå¯¸å»ä»£æ›¿ px å°ºå¯¸å°±å¥½äº†ã€‚

```
k = 1vw = 1080px / 375px = 2.88

y(vw) = è®¾è®¡ç¨¿çš„å°ºå¯¸xï¼ˆpxï¼‰/ k
```

2. åœ¨å®é™…å¼€å‘è¿‡ç¨‹å½“ä¸­æˆ‘ä»¬å¯ä»¥åˆ©ç”¨`postcss-px-to-viewport`æ’ä»¶æ¥å¸®æˆ‘ä»¬å®Œæˆè¿™é¡¹è®¡ç®—å·¥ä½œã€‚
3. PostCSS æ˜¯ä½¿ç”¨ js æ’ä»¶è½¬æ¢ css çš„å·¥å…·ï¼Œä½ å¯ä»¥æŠŠå®ƒå¯ä»¥ç†è§£æˆä¸ºä¸€ä¸ªå¹³å°ï¼Œé‡ŒåŒ…å«äº†è®¸å¤šå¯¹ css è¿›è¡Œå¤„ç†çš„æ’ä»¶ã€‚å®ƒæœ¬èº«åªæ˜¯è´Ÿè´£æŠŠ css ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ç»“æ„ï¼ˆAbstract Syntax Treeï¼ŒASTï¼‰ï¼Œæˆ‘ç†è§£å°±æ˜¯ä½¿ç”¨ js å¯¹è±¡æ ‘æ¥æè¿° cssï¼Œç„¶åå°±å¯ä»¥é€šè¿‡ä¿®æ”¹ js å¯¹è±¡çš„æ–¹å¼æ¥ä¿®æ”¹ cssï¼Œè¾¾åˆ°å¯¹ css ä¼˜åŒ–å’Œè°ƒæ•´çš„ç›®çš„ã€‚

```js
// 1. å®‰è£…æ’ä»¶: npm install postcss-px-to-viewport
// 2. åœ¨webpackä¸­å¼•å…¥æ’ä»¶ï¼Œå¹¶å¯¹æ’ä»¶è¿›è¡Œä¸€äº›é…ç½®

const PxtoVw = require('postcss-px-to-viewport')

module.exports = {
  css: {
     loaderOptions: {
        postcss: {
       	    plugins: [
               new PxtoVw({
                  unitToConvert: 'px', // éœ€è¦è½¬æ¢çš„å•ä½ï¼Œé»˜è®¤ä¸º"px"ï¼›
                  viewportWidth: 1080, // è®¾è®¡ç¨¿çš„è§†å£å®½åº¦ï¼Œè¿›è¡Œæ¯”ä¾‹æ¢ç®—
                  unitPrecision: 2, // å•ä½è½¬æ¢åä¿ç•™çš„å°æ•°ä½æ•°
                  propList: ['*'], // è¦è¿›è¡Œè½¬æ¢çš„å±æ€§åˆ—è¡¨,*è¡¨ç¤ºåŒ¹é…æ‰€æœ‰,!è¡¨ç¤ºä¸è½¬æ¢
                  viewportUnit: 'vw', // è½¬æ¢åçš„è§†å£å•ä½
                  fontViewportUnit: 'vw', // è½¬æ¢åå­—ä½“ä½¿ç”¨çš„è§†å£å•ä½
                  selectorBlackList: [], // ä¸è¿›è¡Œè½¬æ¢çš„cssé€‰æ‹©å™¨ï¼Œç»§ç»­ä½¿ç”¨åŸæœ‰å•ä½
                  minPixelValue: 1, // è®¾ç½®æœ€å°çš„è½¬æ¢æ•°å€¼
                  mediaQuery: false, // è®¾ç½®åª’ä½“æŸ¥è¯¢é‡Œçš„å•ä½æ˜¯å¦éœ€è¦è½¬æ¢å•ä½
                  replace: true // æ˜¯å¦ç›´æ¥æ›´æ¢å±æ€§å€¼ï¼Œè€Œä¸æ·»åŠ å¤‡ç”¨å±æ€§
                  exclude: [/node_modules/] // å¿½ç•¥æŸäº›æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶  ç”±äºå¼•ç”¨äº†game/vuiçš„toastç»„ä»¶ï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œvmè½¬æ¢é€‚é…
              })
            ]
         }
      }
   }
}
```

4. æ’ä»¶é…ç½®å¥½ä»¥åï¼Œwebpack æ‰“åŒ…é¡¹ç›®æ—¶å°±ä¼šæŠŠ css ä¸­çš„ px å°ºå¯¸æŒ‰ç…§çº¦å®šå¥½çš„æ¯”ä¾‹å…³ç³»è½¬æ¢ä¸º vw å°ºå¯¸ï¼Œå®ç°ç§»åŠ¨ç«¯é€‚é…ï¼Œvw å’Œ rem æ˜¯ç›®å‰ä¸»æµçš„ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆï¼Œå…¼å®¹æ€§ä¸é”™ã€‚
5. åˆ©ç”¨ Sass å‡½æ•°å°†è®¾è®¡ç¨¿å…ƒç´ å°ºå¯¸çš„åƒç´ å•ä½è½¬æ¢ä¸º vw å•ä½

```scss
// iPhone 6å°ºå¯¸ä½œä¸ºè®¾è®¡ç¨¿åŸºå‡†
$vw_base: 375;
@function vw($px) {
	@return ($px / $vm_base) * 100vw;
}
```

### æ€»ç»“

1. ç§»åŠ¨ç«¯é€‚é…ä¸»è¦å°±åˆ†ä¸ºä¸¤æ–¹é¢ï¼Œä¸€æ–¹é¢è¦é€‚é…ä¸åŒæœºå‹çš„å±å¹•å°ºå¯¸ï¼Œä¸€æ–¹é¢æ˜¯å¯¹ç»†èŠ‚åƒç´ çš„å¤„ç†è¿‡ç¨‹ã€‚å¦‚æœä½ åœ¨é¡¹ç›®ä¸­ç›´æ¥å†™äº† 1px ï¼Œç”±äº dpr çš„å­˜åœ¨å±•ç¤ºå¯¼è‡´æ¸²æŸ“åç²—ï¼Œå…¶å®æ˜¯ä¸ç¬¦åˆè®¾è®¡ç¨¿çš„è¦æ±‚ã€‚

2. å¦‚æœä½ ä½¿ç”¨äº† rem å¸ƒå±€è®¡ç®—å‡ºäº†å¯¹åº”çš„å°æ•°å€¼ï¼Œä¸åŒæ‰‹æœºåˆæœ‰æ˜æ˜¾çš„å…¼å®¹æ€§é—®é¢˜ã€‚æ­¤æ—¶è€é¡¹ç›®çš„è¯æ•´ä½“ä¿®æ”¹ viewport æˆæœ¬è¿‡é«˜ï¼Œå¯ä»¥é‡‡ç”¨ç¬¬ä¸€ç§å®ç°æ–¹æ¡ˆè¿›è¡Œ 1px çš„å¤„ç†ï¼›æ–°é¡¹ç›®çš„è¯å¯ä»¥é‡‡ç”¨åŠ¨æ€è®¾ç½® viewport çš„æ–¹å¼ï¼Œä¸€é”®è§£å†³æ‰€æœ‰é€‚é…é—®é¢˜ã€‚

## CSS æ–°ç‰¹æ€§

### 1. @property

`@property`å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰ä¸€ä¸ª CSS å±æ€§ï¼Œç„¶åä½¿ç”¨ã€‚

```html
<style>
	/* è‡ªå®šä¹‰å±æ€§ */
	@property --t {
		syntax: "<integer>";
		inherits: false;
		initial-value: 0;
	}
	@counter-style stop {
		system: cyclic;
		symbols: "Go~";
		range: infinite 0;
	}
	html,
	body {
		margin: 0;
		height: 100%;
		display: grid;
		place-content: center;
	}
	count-downqq {
		display: flex;
		align-items: center;
		justify-content: center;
		font-family: Consolas, Monaco, monospace;
		font-size: 120px;
	}
	count-downqq::after {
		--t: 5;
		--dur: 1;
		counter-reset: time var(--t);
		content: counter(time, stop);
		animation: count calc(var(--t) * var(--dur) * 1s) steps(var(--t)) forwards, shark
				calc(var(--dur) * 1s) calc(var(--dur) * 0.8s) calc(var(--t));
	}
	count-downqq:active::after {
		animation: none;
	}

	@keyframes count {
		to {
			--t: 0;
		}
	}

	@keyframes shark {
		0% {
			opacity: 1;
			transform: scale(1);
		}

		20% {
			opacity: 0;
			transform: scale(0.4);
		}
	}

	@keyframes shark {
		0% {
			opacity: 1;
			transform: translateY(0);
		}

		20% {
			opacity: 0;
			transform: translateY(100px);
		}

		21% {
			opacity: 0;
			transform: translateY(-100px);
		}
	}

	@keyframes shark {
		0% {
			opacity: 1;
			transform: scale(1);
		}

		20% {
			opacity: 0;
			transform: scale(0.4);
		}

		21% {
			opacity: 0;
			transform: scale(5);
		}
	}
</style>

/* è‡ªå®šä¹‰æ ‡ç­¾ï¼Œç„¶åå†styleä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„å±æ€§--t */
<count-downqq style="--t: 5"></count-downqq>
```

## å¦‚ä½•ç”¨ä¸€è¡Œ CSS å®ç° 10 ç§ç°ä»£å¸ƒå±€

### è¶…çº§å±…ä¸­ï¼šplace-items: center

```css
.parent {
	width: 100vw;
	height: 100vh;
	/* grid */
	display: grid;
	align-items: center;
	justify-items: center;
	/* place-items: center; */

	/* flex */
	display: flex;
	align-items: center;
	justify-content: center;
}
```

### è§£æ„ç…é¥¼å¼å¸ƒå±€ï¼š`flex: <grow> <shrink> <baseWidth>`

é…åˆ`flex-wrap`è¿›è¡Œæ¢è¡Œ

1. grow: èƒ½å¦æ”¾å¤§
2. shrink: èƒ½å¦ç¼©å°
3. basis: æœ€å°å®½åº¦

### ä¾§è¾¹æ å¸ƒå±€ï¼š`grid-template-columns: minmax(<min>, <max>) â€¦)`

minmax å¯ä»¥è®¾ç½®æœ€å¤§æœ€å°åŒºé—´

```css
.parent {
	display: grid;
	grid-template-columns: minmax(150px, 25%) 1fr;
}
```

### ç…é¥¼å †æ ˆå¸ƒå±€ï¼š`grid-template-rows: auto 1fr auto`

```css
.parent {
	display: grid;
	grid-template-rows: auto 1fr auto;
}
```

### ç»å…¸åœ£æ¯å¸ƒå±€ï¼š`grid-template: auto 1fr auto / auto 1fr auto`

```css
.parent {
	display: grid;
	grid-template: auto 1fr auto / auto 1fr auto;
}
header {
	padding: 2em;
	grid-column: 1/4;
}
.left-side {
	grid-column: 1/4;
}
```
