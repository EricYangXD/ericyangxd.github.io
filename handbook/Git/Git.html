<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git有用的命令 &amp; VSCode插件 | 木易的OT</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
        (function() {
          if (location.href.indexOf('github.io') > -1 || location.href.indexOf('gitee.io') > -1) {
             location.href = 'https://ericyangxd.top'
           }
        })();
        </script><script type='application/ld+json'>
          {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "Git有用的命令 & VSCode插件",
            "url": "https://ericyangxd.top/handbook/Git/Git.html",
            "image": [
              "https://ericyangxd.top/logo.png"
              ],
            "datePublished": "2022-01-13T00:00:00.000Z",
            "dateModified": "2023-06-01T00:00:00.000Z",
            "author": [{
                "@type": "Person",
                "name": "EricYangXD",
                "url": "https://github.com/EricYangXD/ericyangxd.github.io"
            }]
          }
      </script>
    <meta name="description" content="前端面试,React,Vue,JavaScript,CSS,HTML,HTTP,HTTPS,websocket,UDP,TCP,Webpack,算法,数据结构,LeetCode,小程序,油猴,计算机网络,NodeJs,Vite,Antdesign,EricYangXD,Eric,Chrome,Android,V8,Mac,git,网络安全,开发技巧,路由,router,诗歌,金句,源码,面试,Docker,Shell,clash,Windows">
    <meta name="keywords" content="Git,git,rebase,merge,revert,stash,cherry-pick,fetch,,tag">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    <link rel="preload" href="/assets/css/0.styles.82c89da6.css" as="style"><link rel="preload" href="/assets/js/app.1827c8bf.js" as="script"><link rel="preload" href="/assets/js/4.e4331d91.js" as="script"><link rel="preload" href="/assets/js/3.561be8e5.js" as="script"><link rel="preload" href="/assets/js/2.b25d4684.js" as="script"><link rel="preload" href="/assets/js/1.c7cb60d4.js" as="script"><link rel="preload" href="/assets/js/52.50600936.js" as="script"><link rel="prefetch" href="/assets/js/10.26f8cbb6.js"><link rel="prefetch" href="/assets/js/100.7e2a7e63.js"><link rel="prefetch" href="/assets/js/101.4e95b0f8.js"><link rel="prefetch" href="/assets/js/102.08c53c7a.js"><link rel="prefetch" href="/assets/js/103.ce415830.js"><link rel="prefetch" href="/assets/js/104.c317c446.js"><link rel="prefetch" href="/assets/js/105.44fb88b2.js"><link rel="prefetch" href="/assets/js/106.81a2a610.js"><link rel="prefetch" href="/assets/js/107.907069f4.js"><link rel="prefetch" href="/assets/js/108.31be9d31.js"><link rel="prefetch" href="/assets/js/109.e944ec08.js"><link rel="prefetch" href="/assets/js/11.ec88ce3f.js"><link rel="prefetch" href="/assets/js/110.5133f5e6.js"><link rel="prefetch" href="/assets/js/111.89dc6e02.js"><link rel="prefetch" href="/assets/js/112.b4f1dd6e.js"><link rel="prefetch" href="/assets/js/113.fdea453f.js"><link rel="prefetch" href="/assets/js/114.28b2bdc2.js"><link rel="prefetch" href="/assets/js/115.202796a5.js"><link rel="prefetch" href="/assets/js/116.024259ca.js"><link rel="prefetch" href="/assets/js/117.e4d05c4e.js"><link rel="prefetch" href="/assets/js/118.89a70887.js"><link rel="prefetch" href="/assets/js/119.fbe71e8a.js"><link rel="prefetch" href="/assets/js/120.2ca3b269.js"><link rel="prefetch" href="/assets/js/121.b0de1e7d.js"><link rel="prefetch" href="/assets/js/122.a8c0bd78.js"><link rel="prefetch" href="/assets/js/123.fb4320e0.js"><link rel="prefetch" href="/assets/js/124.dec9e24e.js"><link rel="prefetch" href="/assets/js/125.fa2fe9f6.js"><link rel="prefetch" href="/assets/js/126.e95b7b99.js"><link rel="prefetch" href="/assets/js/127.3a6cfb08.js"><link rel="prefetch" href="/assets/js/128.77fd9b6f.js"><link rel="prefetch" href="/assets/js/129.4aac67e2.js"><link rel="prefetch" href="/assets/js/130.a50070b9.js"><link rel="prefetch" href="/assets/js/131.21bdf818.js"><link rel="prefetch" href="/assets/js/132.08173dfc.js"><link rel="prefetch" href="/assets/js/133.db1dae8f.js"><link rel="prefetch" href="/assets/js/14.77301858.js"><link rel="prefetch" href="/assets/js/15.b8e5af0a.js"><link rel="prefetch" href="/assets/js/16.ed296b89.js"><link rel="prefetch" href="/assets/js/17.d9e3ba74.js"><link rel="prefetch" href="/assets/js/18.8ddab221.js"><link rel="prefetch" href="/assets/js/19.57a74dfb.js"><link rel="prefetch" href="/assets/js/20.e3da0919.js"><link rel="prefetch" href="/assets/js/21.546b406c.js"><link rel="prefetch" href="/assets/js/22.9450f156.js"><link rel="prefetch" href="/assets/js/23.c854b682.js"><link rel="prefetch" href="/assets/js/24.877c6c49.js"><link rel="prefetch" href="/assets/js/25.1110b637.js"><link rel="prefetch" href="/assets/js/26.3f26d858.js"><link rel="prefetch" href="/assets/js/27.533548d8.js"><link rel="prefetch" href="/assets/js/28.98a340e2.js"><link rel="prefetch" href="/assets/js/29.edf59bdf.js"><link rel="prefetch" href="/assets/js/30.b7cf2b52.js"><link rel="prefetch" href="/assets/js/31.1fe66269.js"><link rel="prefetch" href="/assets/js/32.e46a6d14.js"><link rel="prefetch" href="/assets/js/33.db6ae149.js"><link rel="prefetch" href="/assets/js/34.66c83798.js"><link rel="prefetch" href="/assets/js/35.1f8028c0.js"><link rel="prefetch" href="/assets/js/36.86d9fc47.js"><link rel="prefetch" href="/assets/js/37.c2037205.js"><link rel="prefetch" href="/assets/js/38.334016b8.js"><link rel="prefetch" href="/assets/js/39.a4f75b3a.js"><link rel="prefetch" href="/assets/js/40.89908c21.js"><link rel="prefetch" href="/assets/js/41.2ba2c453.js"><link rel="prefetch" href="/assets/js/42.f70f4f9a.js"><link rel="prefetch" href="/assets/js/43.e2967afd.js"><link rel="prefetch" href="/assets/js/44.a677bd37.js"><link rel="prefetch" href="/assets/js/45.b5f8c186.js"><link rel="prefetch" href="/assets/js/46.c7943d1d.js"><link rel="prefetch" href="/assets/js/47.9a298cb9.js"><link rel="prefetch" href="/assets/js/48.e83be3e5.js"><link rel="prefetch" href="/assets/js/49.0a3f6b91.js"><link rel="prefetch" href="/assets/js/5.41516153.js"><link rel="prefetch" href="/assets/js/50.cbd9d193.js"><link rel="prefetch" href="/assets/js/51.feab3e74.js"><link rel="prefetch" href="/assets/js/53.6d507fec.js"><link rel="prefetch" href="/assets/js/54.04880f81.js"><link rel="prefetch" href="/assets/js/55.d5cb97a8.js"><link rel="prefetch" href="/assets/js/56.710f08fd.js"><link rel="prefetch" href="/assets/js/57.d13846ef.js"><link rel="prefetch" href="/assets/js/58.16c2b451.js"><link rel="prefetch" href="/assets/js/59.5c8f1bc6.js"><link rel="prefetch" href="/assets/js/6.dca3a5c8.js"><link rel="prefetch" href="/assets/js/60.b51e1255.js"><link rel="prefetch" href="/assets/js/61.a27e3f44.js"><link rel="prefetch" href="/assets/js/62.6cbb8d14.js"><link rel="prefetch" href="/assets/js/63.ac580b74.js"><link rel="prefetch" href="/assets/js/64.d067f623.js"><link rel="prefetch" href="/assets/js/65.6ba484bb.js"><link rel="prefetch" href="/assets/js/66.1ac21e14.js"><link rel="prefetch" href="/assets/js/67.01b3fbb2.js"><link rel="prefetch" href="/assets/js/68.669fcb66.js"><link rel="prefetch" href="/assets/js/69.30d53f38.js"><link rel="prefetch" href="/assets/js/7.8f6e299c.js"><link rel="prefetch" href="/assets/js/70.a5543f2e.js"><link rel="prefetch" href="/assets/js/71.ccd7e2f2.js"><link rel="prefetch" href="/assets/js/72.023dfa73.js"><link rel="prefetch" href="/assets/js/73.87a3d508.js"><link rel="prefetch" href="/assets/js/74.b1af96c5.js"><link rel="prefetch" href="/assets/js/75.a67962d6.js"><link rel="prefetch" href="/assets/js/76.e42e2a81.js"><link rel="prefetch" href="/assets/js/77.3d1a7c23.js"><link rel="prefetch" href="/assets/js/78.9655f8b0.js"><link rel="prefetch" href="/assets/js/79.d1b91e67.js"><link rel="prefetch" href="/assets/js/8.41d4a20d.js"><link rel="prefetch" href="/assets/js/80.87005869.js"><link rel="prefetch" href="/assets/js/81.48731aed.js"><link rel="prefetch" href="/assets/js/82.ec4d1c90.js"><link rel="prefetch" href="/assets/js/83.6e34373d.js"><link rel="prefetch" href="/assets/js/84.389885db.js"><link rel="prefetch" href="/assets/js/85.0c5c6c78.js"><link rel="prefetch" href="/assets/js/86.82b3e19e.js"><link rel="prefetch" href="/assets/js/87.e1b1adcc.js"><link rel="prefetch" href="/assets/js/88.8da69483.js"><link rel="prefetch" href="/assets/js/89.adfa0429.js"><link rel="prefetch" href="/assets/js/9.492c22f0.js"><link rel="prefetch" href="/assets/js/90.ab647d23.js"><link rel="prefetch" href="/assets/js/91.6fd66c60.js"><link rel="prefetch" href="/assets/js/92.a724077d.js"><link rel="prefetch" href="/assets/js/93.6fc7d128.js"><link rel="prefetch" href="/assets/js/94.23dcf95e.js"><link rel="prefetch" href="/assets/js/95.c94d4e6d.js"><link rel="prefetch" href="/assets/js/96.c74d4640.js"><link rel="prefetch" href="/assets/js/97.bcecfbbc.js"><link rel="prefetch" href="/assets/js/98.ab6305e9.js"><link rel="prefetch" href="/assets/js/99.2b5255b3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.bd007aa5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.82c89da6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>木易的OT</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>前端面试,React,Vue,JavaScript,CSS,HTML,HTTP,HTTPS,websocket,UDP,TCP,Webpack,算法,数据结构,LeetCode,小程序,油猴,计算机网络,NodeJs,Vite,Antdesign,EricYangXD,Eric,Chrome,Android,V8,Mac,git,网络安全,开发技巧,路由,router,诗歌,金句,源码,面试,Docker,Shell,clash,Windows</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>EricYangXD</span>
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">木易的OT</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      木易的OT
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/EricYangXD" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2295436007445021" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <h3 class="name" data-v-39576ba9>
    EricYangXD
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>95</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      木易的OT
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/EricYangXD" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2295436007445021" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>About</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>LeetCode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AntDesign</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Backend（Java Based）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>油猴</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vite</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Google Chrome V8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Git/Git.html" aria-current="page" class="active sidebar-link">Git有用的命令 &amp; VSCode插件</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mac使用记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文章诗句</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Office软件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>股海沉浮</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>打工人须知</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Git有用的命令 &amp; VSCode插件</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>EricYangXD</span>
            
          <!---->
          2024
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">Git有用的命令 &amp; VSCode插件</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>EricYangXD</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2022/1/13</span></i> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/handbook/Git/Git.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="git-命令"><a href="#git-命令" class="header-anchor">#</a> Git 命令</h2> <h3 id="git-rebase"><a href="#git-rebase" class="header-anchor">#</a> git rebase</h3> <blockquote><p>不要对在你的仓库外有副本的分支执行变基。</p></blockquote> <p>与 merge 会保留修改内容的历史记录不同，rebase 是在原有提交的基础上将差异内容反映进去。</p> <ol><li><code>git rebase oem-develop</code> <ul><li>切换到自己的 feature 分支后，执行此命令实现变基</li> <li>解决冲突后的提交不是使用 commit 命令，而是执行 rebase 命令指定 <code>git rebase --continue</code> 选项。</li> <li>若要取消 rebase，指定 <code>--abort</code> 选项。</li></ul></li> <li><code>git push --force-with-lease origin feature/xx</code> <ul><li>强制把本地 rebase 之后的分支推送到远端</li></ul></li> <li>变基操作的实质是丢弃一些现有的提交，然后相应地新建一些内容一样但实际上不同的提交。</li> <li>撤销提交的不同:如果使用 merge 进行合并，可以使用 revert 命令对 merge 的内容进行撤销操作（参考 revert），而使用 rebase 则不行（已经没有 merge commit 了），而需要使用 rebase -i 对提交进行重新编辑。</li> <li>使用 <code>git rebase -i &lt;branch&gt;</code> 可以进入交互式模式，可以对「某一范围内的提交」进行重新编辑。</li> <li>默认情况下，直接使用 <code>git rebase -i</code> 命令的操作对象为自最后一次从 origin 仓库拉取或者向 origin 推送之后的所有提交。</li> <li>删除提交：如果想删除某个提交，使用 <code>git rebase -i</code> 后直接在编辑器中删除那一行 commit 即可</li> <li>拆分提交：如果想把某个 commit 拆分成多个 commit，可以使用 edit 作为 action，edit 表示 使用该提交，但是先在这一步停一下，等我重新编辑完再进行下一步。</li> <li>合并提交：
<ul><li>首先找到起始 commit 的 前一个例如：aaa，rebase 会显示当前分支从这个 comimt 之后的所有 commit。</li> <li>执行 <code>git rebase -i 865b2ac</code>，会自动唤出编辑器，假如想把后三个提交合并到第一个中去，这里需要用到 squash，该 action 表示 使用该提交，但是把它与前一提交合并，所以只需把后三个的 action 改为 squash 即可。</li> <li>保存之后，会唤出编辑器提示基于历史的提交信息创建一个新的提交信息，也就是需要用户编辑一下合并之后的 commit 信息，更改提示信息并保存即可。</li></ul></li></ol> <h3 id="git-reset"><a href="#git-reset" class="header-anchor">#</a> git reset</h3> <p>强制回退，可能会把别人的代码也干掉</p> <ol><li><code>git reset --hard HEAD^SHA256</code> <ul><li>硬回退，不保留 stash</li></ul></li> <li><code>git reset --soft HEAD^/SHA256</code> <ul><li>软回退，保留 stash</li></ul></li></ol> <p>reset 之后再提交代码时需要强制提交-f</p> <h3 id="git-commit-amend"><a href="#git-commit-amend" class="header-anchor">#</a> git commit --amend</h3> <p>直接修改当前的提交信息，如果代码有更改，则需要先执行 git add</p> <h3 id="git-revert"><a href="#git-revert" class="header-anchor">#</a> git revert</h3> <p>原理是在当前提交后面，新增一条提交，抵消掉上一次提交导致的所有变化。它不会改变过去的提交历史，也不会影响后续的提交，所以是安全的，首选的，没有任何丢失代码风险的。</p> <ol><li><code>git revert commitId1 [commitid2 commitId3 ...]</code></li></ol> <h3 id="git-tag"><a href="#git-tag" class="header-anchor">#</a> git tag</h3> <p>Git 中的标签分为两种，一种是轻量标签（lightweight tag），一种是附注标签（annotated tag）。</p> <p>tag 对应某次 commit， 是一个点，是不可移动的。branch 对应一系列 commit，是很多点连成的一根线，有一个 HEAD 指针，是可以依靠 HEAD 指针移动的。所以，两者的区别决定了使用方式，改动代码用 branch，不改动只查看用 tag。常用于上线之前对当前的 commit 记录打一个 tag，方便上线的代码有问题时可以及时回滚。</p> <p>需要特别说明的是，如果我们想要修改 tag 检出代码分支，那么虽然分支中的代码改变了，但是 tag 标记的 commit 还是同一个，标记的代码是不会变的。</p> <ol><li><code>git tag &lt;lightweght_name&gt;</code>：为当前分支所在的提交记录打上轻量标签。</li> <li><code>git tag &lt;lightweght_name&gt; &lt;commit SHA-1 value&gt;</code>：为某次具体的提交记录打上轻量标签。</li> <li><code>git tag -a &lt;anotated_name&gt; -m &lt;tag_message&gt;</code>：为当前分支所在的提交记录打上附注标签。</li> <li><code>git tag</code>或<code>git tag -l</code>：列出所有的标签名。</li> <li><code>git ls-remote --tags origin</code>：查看远程所有 tag。</li> <li><code>git tag -d &lt;tag_name&gt;</code>：删除某个标签，本质上就是移除 <code>.git/refs/tags/</code> 中对应的文件。</li> <li><code>git show &lt;tag_name&gt;</code>：显示标签对应提交记录的具体信息。</li> <li><code>git push &lt;remote&gt; &lt;tag_name&gt;</code>：推送某个标签到远程仓库。</li> <li><code>git push &lt;remote&gt; --tags</code>：推送所有标签到远程仓库。</li> <li><code>git tag -d &lt;tagName&gt;</code>：本地 tag 的删除。</li> <li><code>git push &lt;remote&gt; --delete &lt;tag_name&gt;</code>：删除远程仓库中的某个标签。</li> <li><code>git push &lt;remote&gt; :refs/tags/&lt;tagname&gt;</code>：删除远程仓库某个标签的等价方式，相当于将冒号前面的空值推送到远程标签名，从而高效地删除它。</li> <li><code>git checkout -b &lt;branchName&gt; &lt;tagName&gt;</code>：检出标签，因为 tag 本身指向的就是一个 commit，所以和根据 commit id 检出分支是一个道理。</li> <li><code>git fetch origin refs/tags/*:refs/tags/* --prune</code>：删除不在远程仓库上的任何本地标签。</li> <li>为了自动获取标签，将以下行添加到您的<code>.git/config</code>文件中的条目下<code>[remote &quot;origin&quot;]</code>。<code>fetch = refs/tags/*:refs/tags/*</code>。</li></ol> <p>示例：</p> <ul><li><p>新增 tag <code>git tag -a v1.0.0 -m &quot;my version v1.0.0&quot;</code></p></li> <li><p>查看 tag <code>git show v1.0.0</code></p></li> <li><p>推送远端 <code>git push origin v1.0.0</code></p></li></ul> <p>PS: tag 和在哪个分支创建是没有关系的，tag 只是提交的别名。因此 commit 的能力 tag 均可以使用，比如<code>git reset</code>，<code>git revert [pre-tag]</code></p> <h3 id="git-stash"><a href="#git-stash" class="header-anchor">#</a> git stash</h3> <ol><li><code>git stash save &quot;commit msg&quot;</code></li> <li><code>git stash apply SHA256/stash@{number}</code></li> <li><code>git stash pop</code> <ul><li>默认最近一次 stash</li></ul></li> <li><code>git stash list</code></li> <li><code>git stash drop SHA256/stash@{number}</code></li> <li>误操作 <code>git stash drop</code> 之后想恢复
<ul><li><code>git fsck --lost-found</code> 可以得到 SHA256 列表</li> <li><code>git show SHA256</code> 可以查看详细信息</li> <li><code>git stash apply SHA256</code> 应用</li></ul></li></ol> <h3 id="git-bisect"><a href="#git-bisect" class="header-anchor">#</a> git bisect</h3> <p>使用 git bisect 二分法定位问题的基本步骤：</p> <ol><li><code>git bisect start [最近的出错的 commitid] [较远的正确的 commitid]</code></li> <li>测试相应的功能</li> <li><code>git bisect good</code> 标记正确</li> <li>直到出现问题则 标记错误 <code>git bisect bad</code></li> <li>提示的 commitid 就是导致问题的那次提交</li> <li>具体示例参考<a href="https://mp.weixin.qq.com/s/d0LvAd8cDQD_3KSX1fOpkQ" target="_blank" rel="nofollow noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <h3 id="git-cherry-pick"><a href="#git-cherry-pick" class="header-anchor">#</a> git cherry-pick</h3> <ol><li>选一次提交：<code>git cherry-pick &lt;commitHash&gt;</code></li> <li>选多次提交：<code>git cherry-pick &lt;HashA&gt; &lt;HashB&gt;</code></li> <li>选多次提交：<code>git cherry-pick A..B</code>，提交 A 必须早于提交 B，提交 A 将不会包含在 Cherry pick 中</li> <li>选多次提交：<code>git cherry-pick A^..B</code>，包含提交 A</li> <li>解决冲突后：1. <code>git add .</code></li> <li>解决冲突后：2. <code>git cherry-pick --continue</code></li> <li>发生代码冲突后，放弃合并，回到操作前的样子：<code>git cherry-pick --abort</code></li> <li>发生代码冲突后，退出 Cherry pick，但是不回到操作前的样子：<code>git cherry-pick --quit</code></li></ol> <ul><li>Cherry pick 也支持转移另一个代码库的提交，方法是先将该库加为远程仓库。
<ol><li>添加了一个远程仓库 target：<code>git remote add target git://gitUrl</code></li> <li>远程代码抓取到本地：<code>git fetch target</code></li> <li>检查一下要从远程仓库转移的提交，获取它的哈希值：<code>git log target/master</code></li> <li>使用 git cherry-pick 命令转移提交：<code>git cherry-pick &lt;commitHash&gt;</code></li></ol></li></ul> <h3 id="git-show-ref"><a href="#git-show-ref" class="header-anchor">#</a> git show-ref</h3> <ol><li><code>git show-ref refs/heads/gh-pages</code>/<code>git show-ref gh-pages</code>: 检查本地是否存在某个分支</li></ol> <h3 id="git-ls-remote"><a href="#git-ls-remote" class="header-anchor">#</a> git ls-remote</h3> <ol><li><code>git ls-remote origin refs/heads/gh-pages</code>/<code>git ls-remote origin gh-pages</code>: 检查远程仓库里是否有某个分支</li></ol> <h3 id="git-checkout"><a href="#git-checkout" class="header-anchor">#</a> git checkout</h3> <ol><li>从远程拉一个本地不存在的新分支并切换到这个新分支上：</li></ol> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git fetch origin
git checkout -b new-feature origin/new-feature
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="git-branch"><a href="#git-branch" class="header-anchor">#</a> git branch</h3> <ol><li>列出本地分支：<code>git branch</code></li> <li>设置本地分支跟踪远程仓库分支，后续直接<code>git pull</code>或<code>git push</code>即可：<code>git branch --set-upstream-to=origin/feature my-feature</code></li> <li>还可以使用<code>git config</code>命令配置 Git，在默认情况下自动设置对新分支的跟踪。你可以设置<code>branch.autoSetupMerge</code>配置选项为<code>always</code>，使 Git 在创建新分支时创建跟踪分支。</li></ol> <h3 id="git-status"><a href="#git-status" class="header-anchor">#</a> git status</h3> <ul><li><code>git status --porcelain .</code>: 命令将以紧凑的&quot;porcelain&quot;格式显示 Git 存储库中的文件状态。</li></ul> <h2 id="修改-git-commit-msg"><a href="#修改-git-commit-msg" class="header-anchor">#</a> 修改 git commit msg</h2> <ol><li>修改最近一次的 commit 信息 <code>git commit --amend</code></li> <li><code>git reset --soft HEAD^</code> 重新提交</li> <li><code>git log --oneline -5</code> 查看最近 5 次 commit 的简要信息</li> <li>比如要修改的 commit 是倒数第三条，使用下述命令：</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> rebase -i HEAD~3
退出保存 :wq
执行 <span class="token function">git</span> rebase --continue
执行 <span class="token function">git</span> push -f 推送到服务端。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="vscode-插件-扩展"><a href="#vscode-插件-扩展" class="header-anchor">#</a> VSCode 插件/扩展</h2> <h3 id="git-graph"><a href="#git-graph" class="header-anchor">#</a> Git Graph</h3> <p>可视化查看代码仓库分支和提交记录，右键管理操作分支</p> <h3 id="gitlens"><a href="#gitlens" class="header-anchor">#</a> GitLens</h3> <h3 id="git-history"><a href="#git-history" class="header-anchor">#</a> Git History</h3> <p>提交记录</p> <h3 id="git-blame"><a href="#git-blame" class="header-anchor">#</a> Git Blame</h3> <p>提交记录</p> <h3 id="gitignore"><a href="#gitignore" class="header-anchor">#</a> .gitignore</h3> <p>为.gitignore 文件提供语法支持，远程下载.gitignore 模板</p> <h3 id="git-project-manager"><a href="#git-project-manager" class="header-anchor">#</a> Git Project Manager</h3> <h3 id="git-history-diff"><a href="#git-history-diff" class="header-anchor">#</a> Git History Diff</h3> <p>提交记录对比</p> <h3 id="如何把一份本地代码同时上传-gitlab-和-gitee"><a href="#如何把一份本地代码同时上传-gitlab-和-gitee" class="header-anchor">#</a> 如何把一份本地代码同时上传 gitlab 和 gitee</h3> <p>git 本身是分布式版本控制系统，可以同步到另外一个远程库，当然也可以同步到另外两个远程库，所以一个本地库可以既关联 GitHub，又关联码云！</p> <p>使用多个远程库时，要注意 git 给远程库起的默认名称是 origin，如果有多个远程库，我们需要用不同的名称来标识不同的远程库。仍然以 learngit 本地库为例，先删除已关联的名为 origin 的远程库：</p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote rm origin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后，先关联 GitHub 的远程库：</p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add github git@github.com:xxx/LearnGit.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意，远程库的名称叫 github，不叫 origin 了。
接着，再关联码云的远程库：</p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git remote add gitee git@gitee.com:xxx/LearnGit.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>同样注意，远程库的名称叫 gitee，不叫 origin。
现在，我们用 git remote -v 查看远程库信息，可以看到两个远程库：</p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>gitee git@gitee.com:xxx/LearnGit.git (fetch)
gitee git@gitee.com:xxx/LearnGit.git (push)
github git@github.com:xxx/LearnGit.git (fetch)
github git@github.com:xxx/LearnGit.git (push)如果要推送到GitHub，使用命令：
git push github master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果要推送到码云，使用命令：</p> <div class="language-git line-numbers-mode"><pre class="language-git"><code>git push gitee master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样一来，本地库就可以同时与多个远程库互相同步</p> <h3 id="不切换-git-分支-却能同时在多个分支上工作"><a href="#不切换-git-分支-却能同时在多个分支上工作" class="header-anchor">#</a> 不切换 Git 分支，却能同时在多个分支上工作</h3> <p>正在开发某个 feature，老板突然跳出来说让你做生产上的 hotfix，面对这种情况，使用 Git 的我们通常有两种解决方案：</p> <ol><li>草草提交未完成的 feature，然后切换分支到 hotfix</li> <li><code>git stash | git stash pop</code> 暂存工作内容，然后再切换到 hotfix</li> <li><code>git clone</code> 多个 repo</li></ol> <p>使用 <code>git-worktree</code>，仅需维护一个 repo，又可以同时在多个 branch 上工作，互不影响！！！</p> <p>常用的其实只有下面这四个命令：</p> <div class="language-git line-numbers-mode"><pre class="language-git"><code><span class="token comment"># 添加一个worktree</span>
git worktree add [-f] [--detach] [--checkout] [--lock] [-b &lt;new-branch&gt;] &lt;path&gt; [&lt;commit-ish&gt;]
<span class="token comment"># 列出当前的worktree，在任意一个worktree下都可用</span>
git worktree list [--porcelain]
<span class="token comment"># 移除某些不需要的worktree</span>
git worktree remove [-f] &lt;worktree&gt;
<span class="token comment"># 清洁的兜底操作，可以让我们的工作始终保持整洁</span>
git worktree prune [-n] [-v] [--expire &lt;expire&gt;]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>普及两个你可能忽视的 Git 知识点：</p> <ol><li>默认情况下， git init 或 git clone 初始化的 repo，只有一个 worktree，叫做 main worktree;</li> <li>在某一个目录下使用 Git 命令，当前目录下要么有 .git 文件夹；要么有 .git 文件，如果只有 .git 文件，里面的内容必须是指向 .git 文件夹的;</li></ol> <p>eg.</p> <ul><li><p><code>git worktree add -b &quot;hotfix/JIRA234-fix-naming&quot; ../hotfix/JIRA234-fix-naming</code>.</p></li> <li><p><code>git worktree list</code>.</p></li> <li><p><code>git worktree remove hotfix/hotfix/JIRA234-fix-naming</code>.</p></li></ul> <p>建议：通常使用 git worktree，我会统一目录结构，比如 feature 目录下存放所有 feature 的 worktree，hotfix 目录下存放所有 hotfix 的 worktree，这样整个磁盘目录结构不至于因为创建多个 worktree 而变得混乱。</p> <h3 id="git-命令设置别名"><a href="#git-命令设置别名" class="header-anchor">#</a> git 命令设置别名</h3> <ol><li>git config --global alias.ps push - 把 push 设为 ps；</li> <li>手动编辑全局配置文件：
<ul><li><code>nano ~/.gitconfig</code></li> <li>写入对应的别名对，例：<code>co = checkout pl = pull</code>等并保存退出，</li> <li>执行<code>source ~/.gitconfig</code>使改动生效</li></ul></li></ol> <h3 id="git-hooks-原理"><a href="#git-hooks-原理" class="header-anchor">#</a> git hooks 原理</h3> <ol><li>git 允许在各种操作之前添加一些 hook 脚本，如未正常运行则 git 操作不通过。最出名的还是以下两个：
<ul><li>precommit</li> <li>prepush</li></ul></li> <li>hook 脚本置于目录 ~/.git/hooks 中，以「可执行文件」的形式存在。查看命令：<code>ls -lah .git/hooks</code>。</li> <li>git hooks 可使用 core.hooksPath 自定义脚本位置。</li> <li>husky 即通过自定义 core.hooksPath 并将 npm scripts 写入其中的方式来实现此功能。
<ul><li>在<code>~/.husky</code> 目录下手动创建 hook 脚本。如：<code>vim .husky/pre-commit</code></li> <li>在 hook 脚本中做一些操作，如：在 pre-commit 中进行代码风格校验：<code>npm run lint &amp;&amp; npm run test</code></li></ul></li></ol> <h3 id="git-设置识别文件名大小写"><a href="#git-设置识别文件名大小写" class="header-anchor">#</a> git 设置识别文件名大小写</h3> <p>需要在一个 git 仓库里设置：<code>git config core.ignoreCase true/false</code></p> <h3 id="git-重命名文件-文件夹"><a href="#git-重命名文件-文件夹" class="header-anchor">#</a> git 重命名文件/文件夹</h3> <ol><li>单个文件：<code>git mv dockerfile Dockerfile</code></li> <li>多个文件：有很多个文件都是名字大小写变化，这种情况：
<ol><li>首先可以移除所有 git 缓存：<code>git rm -r --cached .</code></li> <li>这个命令将移除当前文件夹下所有文件/文件夹的 Git 缓存版本。运行这个命令后，会看到所有文件都显示在 git changes 中。</li> <li>接下来，继续运行：<code>git add --all .</code></li> <li>就可以重新添加所有文件，仅显示有更改的文件。</li></ol></li> <li>文件夹：借助一个临时的文件夹名字：<code>git mv myfolder tempFolder &amp;&amp; git mv tempFolder myFolder</code>，或者用 2 中的方法。</li> <li>如果因为大小写问题已经导致远程仓库有俩重复文件，例：dockerfile Dockerfile
<ol><li>使用<code>git mv</code>命令重命名文件/文件夹:
<ul><li><code>git mv old_file.txt new_file.txt</code></li> <li><code>git mv old_folder new_folder</code></li></ul></li> <li><code>git commit -m &quot;Rename file/folder&quot;</code></li></ol></li> <li>使用<em>git mv</em>的优点是:
<ol><li>保留文件/文件夹的历史记录和原有的提交信息。如果你手动删除后新增,那么新的文件就没有任何历史记录了。</li> <li>使得<em>git diff</em>和<em>git blame</em>等命令仍然能跟踪到文件的历史变化。如果手动删除后新增,这些命令对新的文件就失效了。</li> <li>从版本控制的角度更清晰地表示这是一个“重命名”操作,而不是删除后新增两个不相关的操作。</li></ol></li></ol> <h3 id="git-reflog"><a href="#git-reflog" class="header-anchor">#</a> git reflog</h3> <p>结合<code>.git/logs/HEAD</code>，勿删 commit 或分支之后找回。</p> <h3 id="强制禁用-fast-forward"><a href="#强制禁用-fast-forward" class="header-anchor">#</a> 强制禁用 Fast-Forward</h3> <p><code>git merge --no-ff</code>会生成一个新的 commit。如果没有禁止 ff，那么有时候： 假如<code>learn-merge</code> 分支的历史记录包含 <code>master</code> 分支所有的历史记录，当我们要把<code>learn-merge</code>合并到<code>master</code>上时，这个合并是非常简单的。只需要通过把 <code>master</code> 分支的 HEAD 位置移动到 <code>learn-merge</code> 的最新 commit 上，Git 就会合并。fast-forward 模式下是不可能出现冲突的。<strong>此时，即 Fast-Forward 时，没有产生新的 commit！！！</strong></p> <h3 id="压缩多次提交为一次-squash"><a href="#压缩多次提交为一次-squash" class="header-anchor">#</a> 压缩多次提交为一次 squash</h3> <p><strong>没有 squash 这个命令！</strong></p> <ol><li>基础操作，逐次<code>git reset --soft HEAD^</code>，合并冲突，直至到合适的 commit。</li> <li>使用<code>git merge --squash branchName</code>压缩 Git 提交：当我们使用 <code>--squash</code> 选项执行 merge 时，Git 不会像在正常合并中那样在目标分支中创建合并提交。相反，Git 接受源分支中的所有更改，并将其作为本地更改放入目标分支的工作副本中，此时需要 add+commit 然后才可以 push。</li></ol> <div class="language-git line-numbers-mode"><pre class="language-git"><code>&lt;!-- 不可以和 --no-ff同时使用 --&gt;
git merge --squash &lt;source_branch_name_to_squash&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>使用<code>git rebase -i HEAD~n</code>压缩 Git 提交：编辑器使用 pick 命令显示各种提交。它还显示有关可用命令的信息。我们将使用 squash（或 s）命令。其中<code>pick</code>开头的行表示要保留的主提交，其他的要压缩的提交开头改成<code>squash或s</code>。可以编辑提交的信息，然后保存退出即可，无需 add、commit。</li></ol> <h3 id="git-是如何存储信息的"><a href="#git-是如何存储信息的" class="header-anchor">#</a> git 是如何存储信息的</h3> <p>查看<code>.git/objects</code> 目录：</p> <ol><li>当使用 <code>git add</code> 命令把文件加入暂存区时，git 会根据这个对象的内容计算出 SHA-1 值</li> <li>git 接着会用 SHA-1 值的前 2 个字符作为目录名称（避免让<code>.git/objects</code> 目录因为文件过多而降低读取效率），后 38 个字符作为文件名，创建目录及文件并放在<code>.git/objects</code> 目录下</li> <li>文件的内容则是 git 使用压缩算法把原本的内容压缩之后的结果（二进制 blob 文件）</li> <li>git commit 存储的是：打包前存储的是全新文件，打包后使用了类似差异备份的方式进行存储</li> <li>当<code>.git/objects</code> 目录下对象过多时会自动触发资源回收，或者 git push 到远端服务器时，也可通过<code>git gc</code>手动触发</li></ol> <h2 id="开启-ssr-之后无法从-github-下载项目"><a href="#开启-ssr-之后无法从-github-下载项目" class="header-anchor">#</a> 开启 ssr 之后无法从 GitHub 下载项目</h2> <p>打开 SSR 的「HTTP 代理设置」，查看端口，勾选「HTTP 代理设置」。然后在 zsh 执行如下命令：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> config --global http.proxy http://127.0.0.1:port
<span class="token function">git</span> config --global https.proxy http://127.0.0.1:port
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="git-large-file-storage-lfs-大文件存储"><a href="#git-large-file-storage-lfs-大文件存储" class="header-anchor">#</a> Git Large File Storage - LFS 大文件存储</h2> <ol><li><a href="https://git-lfs.github.com/" target="_blank" rel="nofollow noopener noreferrer">下载安装<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或<code>brew install git-lfs</code></li> <li>然后在 git bash 里面安装一下：<code>git lfs install</code></li> <li>接着 track 一下准备上传的文件，按文件格式进行：<code>git lfs track &quot;*.psd&quot;</code></li> <li>进行了上述步骤之后你的文件夹会多出一个<code>.gitattributes</code>文件。接下来的先 add，commit，push 这个文件，之后再进行大文件的上传(正常操作即可)：
<ol><li><code>git add .gitattributes</code></li> <li><code>git add file.psd</code></li> <li><code>git commit -m &quot;Add design file&quot;</code></li> <li><code>git push origin master</code></li></ol></li> <li>请注意，定义 Git LFS 应该跟踪的文件类型本身不会将任何预先存在的文件转换为 Git LFS，例如其他分支上的文件或您之前的提交历史记录中的文件。为此，请使用 <code>git lfs migrate</code> 命令，该命令具有一系列选项，旨在适应各种潜在用例。</li></ol> <h2 id="git-拉代码出问题"><a href="#git-拉代码出问题" class="header-anchor">#</a> git 拉代码出问题</h2> <ol><li>换掉 Git 的 http 版本: <code>git config --global http.version HTTP/1.1</code></li> <li>更改 http buffer: <code>git config --global http.postBuffer 524288000</code></li></ol> <h2 id="git-submodule"><a href="#git-submodule" class="header-anchor">#</a> git submodule</h2> <p>当项目比较复杂，部分代码希望独立为子模块进行版本控制时，可以使用 git submodule 功能。另一个有用的场景是：当项目依赖并跟踪一个开源的第三方库时，将第三方库设置为 submodule。</p> <p>使用 git submodule 功能时，主项目仓库并不会包含子模块的文件，只会保留一份子模块的配置信息及版本信息，作为主项目版本管理的一部分。或者说 git 不会主动/自动帮我们把子模块的代码下载到本地。</p> <h3 id="git-submodule-练习"><a href="#git-submodule-练习" class="header-anchor">#</a> git submodule 练习</h3> <p>假定我们有两个项目：project-main 和 project-sub-1，其中 project-main 表示主项目，而 project-sub-1 表示子模块项目。</p> <p>接下来，我们希望在 project-main 中添加 project-sub-1 ，而又保持 project-sub-1 自身独立的版本控制。</p> <p>一种选择是使用 git submodule。</p> <ol><li><p>创建 submodule：<code>git submodule add &lt;submodule_url&gt;</code>可以在项目中创建一个子模块。</p> <ul><li>此时项目仓库中会多出两个文件：.gitmodules 和 project-sub-1 。</li> <li>前者的内容是子模块的相关信息；而后者实际上保存的是子模块当前版本的版本号信息。</li> <li>比如需要修改子模块默认使用的分支，那么可以在.gitmodules 中修改 branch</li> <li>如果此前项目中已经存在 .gitmodules 文件，则会在文件内容中多出上述三行记录：<code>submodule、path、url</code>。</li> <li>通常此时可以在主项目中使用 <code>git commit -m &quot;add submodule xxx&quot;</code> 提交一次，表示引入了某个子模块。提交后，在主项目仓库中，会显示出子模块文件夹，并带上其所在仓库的「版本号」。</li> <li>上述步骤在创建子模块的过程中，会自动将相关代码克隆到对应路径，但对于后续使用者而言，对于主项目使用普通的 clone 操作并不会拉取到子模块中的实际代码。</li> <li>如果希望子模块代码也获取到，一种方式是在克隆主项目的时候带上参数 <code>--recurse-submodules</code>，这样会递归地将项目中所有子模块的代码拉取。</li></ul></li> <li><p>获取 submodule：<code>git clone https://github.com/username/project-main.git --recurse-submodules</code></p> <ul><li>另外一种可行的方式是，在当前主项目中执行：<code>git submodule init</code>，<code>git submodule update</code></li></ul></li> <li><p>子模块内容的更新：对于子模块而言，并不需要知道引用自己的主项目的存在。对于自身来讲，子模块就是一个完整的 Git 仓库，按照正常的 Git 代码管理规范操作即可。</p></li> <li><p>对于主项目而言，子模块的内容发生变动时，通常有三种情况：</p> <ul><li><ol><li>当前项目下子模块文件夹内的内容发生了未跟踪的内容变动；这时进入子模块文件夹，按照子模块内部的版本控制体系提交代码即可。</li></ol></li> <li><ol start="2"><li>当前项目下子模块文件夹内的内容发生了版本变化；可以使用 <code>git add/commit</code> 将其添加到主项目的代码提交中，实际的改动就是那个子模块 文件 所表示的版本信息，通常当子项目更新后，主项目修改其所依赖的版本时，会产生类似这种情景的 commit 提交信息。</li></ol></li> <li><ol start="3"><li>当前项目下子模块文件夹内的内容没变，但是子模块远程有更新；此时「当前主项目记录的子模块版本」还没有变化，在主项目看来当前情况一切正常。此时，需要让主项目主动进入子模块拉取新版代码，进行升级操作-<code>git pull origin master</code>。当主项目的子项目特别多时，可能会不太方便，此时可以使用 <code>git submodule</code> 的一个命令 foreach 执行：<code>git submodule foreach 'git pull origin master'</code></li></ol></li></ul></li> <li><p>情况汇总:</p> <ul><li>对于子模块，只需要管理好自己的版本，并推送到远程分支即可；</li> <li>对于父模块，若子模块版本信息未提交，需要更新子模块目录下的代码，并执行 commit 操作提交子模块版本信息；</li> <li>对于父模块，若子模块版本信息已提交，需要使用 <code>git submodule update</code> ，Git 会自动根据子模块版本信息更新所有子模块目录的相关代码。</li></ul></li> <li><p>主项目可以使用 <code>git submodule update</code> 更新子模块的代码，但那是指 「当前主项目文件夹下的子模块目录内容」 与 「当前主项目记录的子模块版本」 不一致时，会参考后者进行更新。</p></li> <li><p>删除子模块</p> <ul><li>先使用 <code>git submodule deinit</code> 命令卸载一个子模块。这个命令如果添加上参数 <code>--force</code>，则子模块工作区内即使有本地的修改，也会被移除。该命令的实际效果，是自动在 <code>.git/config</code> 中删除了以下内容：<code>submodule、url...</code></li> <li>然后执行<code>git rm project-sub-1</code>移除 <code>project-sub-1</code> 文件夹，并自动在 <code>.gitmodules</code> 中删除了以下内容：<code>submodule、path、url</code>。</li> <li>此时，主项目中关于子模块的信息基本已经删除（虽然貌似 .git/modules 目录下还有残余）：执行<code>git commit -m ...</code>提交代码，完成对子模块的删除。</li> <li>网上流传了一些偏法，主要步骤是直接移除模块，并手动修改 <code>.gitmodules</code>、<code>.git/config</code> 和 <code>.git/modules</code> 内容。包含了一大堆类似<code>git rm --cached &lt;sub-module&gt;</code>、<code>rm -rf &lt;sub-moduel&gt;</code>、<code>rm .gitmodules</code> 和 <code>git rm --cached</code> 之类的代码。</li></ul></li> <li><p>submodule 管理起来不够灵活，可以使用 lerna 进行管理。</p></li> <li><p>除了 submodule，还有个方法还可以的，就是 <code>mklink</code>（windows 是 <code>mklink</code>，Linux 是 <code>ln -s /path/to/src/origin /path/to/dst/target</code>，删除<code>rm -rf target</code>，修改<code>ln -snf [源文件或目录] [目标文件或目录]</code>），就是等于把子模块复制一份到主模块中，两边所有的修改都会自动同步。 <code>mklink /d/j sub-module ..\sub-module\</code></p></li> <li><p>第 2 步中的简写<code>git submodule update --init --recursive</code></p></li> <li><p>更换 submodule 的 url 也就是把 submodule 的 git 切换到另一个仓库：</p> <ul><li><ol><li>在子仓库中运行 <code>git remote set-url origin xx.git</code> 属于直接更换远程仓库</li></ol></li> <li><ol start="2"><li>在主目录<code>.gitsubmodule</code> 文件中，直接修改 <code>url=xx.git</code></li></ol></li></ul></li> <li><p>不 cd 进子模块，直接在主项目中拉取指定子模块更新的代码：</p> <ul><li><ol><li><code>git submodule update --init --recursive</code> 递归</li></ol></li> <li><ol start="2"><li>在<code>.gitsubmodule</code> 文件中把其他不需要更新的模块先注释掉然后使用命令：<code>git submodule update --recusive</code></li></ol></li></ul></li> <li><p>把子模块添加到指定目录：在第一次拉取的时候使用这个命令<code>git add submodule -f xxxx.git [目标路径]</code>，一定要用-f，表示强制</p></li></ol> <h2 id="报奇怪的错误"><a href="#报奇怪的错误" class="header-anchor">#</a> 报奇怪的错误</h2> <h3 id="known-hosts"><a href="#known-hosts" class="header-anchor">#</a> known_hosts</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED<span class="token operator">!</span>     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY<span class="token operator">!</span>
Someone could be eavesdropping on you right now <span class="token punctuation">(</span>man-in-the-middle attack<span class="token punctuation">)</span><span class="token operator">!</span>
It is also possible that a <span class="token function">host</span> key has just been changed.
The fingerprint <span class="token keyword">for</span> the RSA key sent by the remote <span class="token function">host</span> is
SHA256:uNiVztksCsDhcc0u9e8BujQXVUpKZIDTMczCvj3tD2s.
Please contact your system administrator.
Add correct <span class="token function">host</span> key <span class="token keyword">in</span> /Users/eric/.ssh/known_hosts to get rid of this message.
Offending RSA key <span class="token keyword">in</span> /Users/eric/.ssh/known_hosts:1
RSA <span class="token function">host</span> key <span class="token keyword">for</span> github.com has changed and you have requested strict checking.
Host key verification failed.
fatal: Could not <span class="token builtin class-name">read</span> from remote repository.

Please <span class="token function">make</span> sure you have the correct access rights
and the repository exists.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>解决办法：去<code>~/.ssh</code>下面把<code>known_hosts</code>文件给删了，然后重新 pull/push 代码即可。</p> <h3 id="rebase-冲突解决"><a href="#rebase-冲突解决" class="header-anchor">#</a> rebase 冲突解决</h3> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>Git: warning: Pulling without specifying how to reconcile divergent branches is
<span class="token comment"># 不建议在没有为偏离分支指定合并策略时执行pull 操作</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="如何-sync-那些-fork-过来的项目"><a href="#如何-sync-那些-fork-过来的项目" class="header-anchor">#</a> 如何 Sync 那些 fork 过来的项目</h3> <p>当源项目有更新和自己的修改发生冲突时，通常无法直接 Sync 代码，（如果不想把自己的改动丢掉）此时需要手动操作：</p> <ol><li><code>git checkout -b Yidadaa-main mainYours</code>: 先从你的最新的（要合并的）分支中 checkout 一个新分支</li> <li><code>git pull git@github.com:Yidadaa/ChatGPT-Next-Web.git mainYours</code>: 把源项目的最新改动分支拉到你的项目中，这些操作都是在你自己的项目中操作的，注意！</li> <li><code>git checkout mainYours</code>: 切换到你自己的最新（主）分支中</li> <li><code>git merge --no-ff Yidadaa-main</code>: 合并源仓库的最新（主）分支到你的主分支上</li> <li>解决代码冲突并 commit</li> <li><code>git push origin mainYours</code>: 把你的最新（主）分支推送到远程仓库。over。</li></ol> <p>设置为 rebase：<code>git config pull.rebase false</code></p> <h2 id="github-actions"><a href="#github-actions" class="header-anchor">#</a> GitHub Actions</h2> <p>记录本 repo 的打包、同步码云以及推送到服务器的各个步骤，具体看注释。重点是使用的那几个别人发布的 action，以及设置 secrets。</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token comment"># workflow name</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>ci

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> master

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token comment"># 任务jobID</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token comment"># 运行环境</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># 使用别人的action:</span>
      <span class="token comment"># checkout@v3:拉代码</span>
      <span class="token comment"># setup-node@v3:设置特定nodejs版本</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">submodules</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 子模块也一并pull下来</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment"># Fetch all history for .GitInfo and .Lastmod</span>

      <span class="token comment"># 设置nodejs版本</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token number">16</span>

      <span class="token comment"># 安装依赖</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm install

      <span class="token comment"># 更新browserslist</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Update Browsers List
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npx browserslist@latest <span class="token punctuation">-</span><span class="token punctuation">-</span>update<span class="token punctuation">-</span>db

      <span class="token comment"># 构建打包</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run docs<span class="token punctuation">:</span>build

      <span class="token comment"># 把一些其他文件也拷贝到dist文件夹下</span>
      <span class="token comment"># 重点是搞清楚当前的目录结构，然后就好操作了</span>
      <span class="token comment"># cp -r ../../../.github ./</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Copy demos/ and the other files to dist/
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          cd ./docs/.vuepress/dist
          cp -r ../../../CNAME ./
          cp -r ../../../demos ./</span>

      <span class="token comment"># 发布到gh-pages</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to GitHub Pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> Cecilapp/GitHub<span class="token punctuation">-</span>Pages<span class="token punctuation">-</span>deploy@v3
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token comment"># 要自己在当前repo中设置，但是这个token需要先在user-&gt;settings里生成，同理，下面的各个secret都要提前设置好。具体可以谷歌</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">email</span><span class="token punctuation">:</span> xxx@gmail.com
          <span class="token key atrule">build_dir</span><span class="token punctuation">:</span> <span class="token string">&quot;docs/.vuepress/dist&quot;</span> <span class="token comment"># 打包生成产物的存放文件夹路径，optional</span>
          <span class="token key atrule">branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages <span class="token comment"># 要部署的分支，optional</span>
          <span class="token key atrule">cname</span><span class="token punctuation">:</span> domain.name <span class="token comment"># 生成CNAME文件，optional</span>
          <span class="token key atrule">jekyll</span><span class="token punctuation">:</span> no <span class="token comment"># 是否使用的jekyll，optional</span>
          <span class="token key atrule">commit_message</span><span class="token punctuation">:</span> <span class="token string">&quot;deploy gh-pages&quot;</span> <span class="token comment"># msg，optional</span>

      <span class="token comment"># 把代码同步到Gitee</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Sync to Gitee
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> Yikun/hub<span class="token punctuation">-</span>mirror<span class="token punctuation">-</span>action@master
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">src</span><span class="token punctuation">:</span> <span class="token string">&quot;github/EricYangXD&quot;</span>
          <span class="token key atrule">dst</span><span class="token punctuation">:</span> <span class="token string">&quot;gitee/EricYangXD&quot;</span>
          <span class="token key atrule">dst_key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.xxx <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">dst_token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.xxx <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">mappings</span><span class="token punctuation">:</span> <span class="token string">&quot;ericyangxd.github.io=&gt;my-vuepress-blog&quot;</span>
          <span class="token key atrule">static_list</span><span class="token punctuation">:</span> <span class="token string">&quot;ericyangxd.github.io&quot;</span>
          <span class="token key atrule">force_update</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
          <span class="token key atrule">debug</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

      <span class="token comment"># 发布到云服务器上</span>
      <span class="token comment"># - name: Deploy to Oracle Cloud Server</span>
      <span class="token comment">#   # 因为构建之后，需要把代码上传到服务器上，所以需要连接到ssh，并且做一个拷贝操作</span>
      <span class="token comment">#   uses: cross-the-world/scp-pipeline@master</span>
      <span class="token comment">#   env:</span>
      <span class="token comment">#     WELCOME: &quot;ssh scp ssh pipelines&quot;</span>
      <span class="token comment">#     LASTSSH: &quot;Doing something after copying&quot;</span>
      <span class="token comment">#   with:</span>
      <span class="token comment">#     host: ${{ secrets.xxx }}</span>
      <span class="token comment">#     user: ${{ secrets.xxx }}</span>
      <span class="token comment">#     pass: ${{ secrets.xxx }}</span>
      <span class="token comment">#     port: ${{ secrets.xxx }}</span>
      <span class="token comment">#     connect_timeout: 15s</span>
      <span class="token comment">#     local: &quot;./docs/.vuepress/dist/*&quot;</span>
      <span class="token comment">#     remote: &quot;/home/xxx/xxx/&quot;</span>

      <span class="token comment"># 发布到云服务器上</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to Your Cloud Server
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> appleboy/scp<span class="token punctuation">-</span>action@master
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">host</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.xxx <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 注意，换成你自己的secrets</span>
          <span class="token key atrule">username</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.xxx <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 注意，换成你自己的secrets</span>
          <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.xxx <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 注意，换成你自己的secrets</span>
          <span class="token key atrule">port</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.xxx <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 注意，换成你自己的secrets</span>
          <span class="token key atrule">source</span><span class="token punctuation">:</span> <span class="token string">&quot;docs/.vuepress/dist/*&quot;</span> <span class="token comment"># # 注意，换成你自己的生成文件路径，需要配合下面的strip_components</span>
          <span class="token key atrule">target</span><span class="token punctuation">:</span> <span class="token string">&quot;/home/zzz/xxx/&quot;</span> <span class="token comment"># 注意，换成你自己的nginx或其他服务器配置的资源地址</span>
          <span class="token key atrule">strip_components</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token comment"># 打包是以&quot;docs/.vuepress/dist/*&quot;整体打包的，解压的时候需要往上回退3层，才能解压到&quot;/home/zzz/xxx&quot;下面</span>

      <span class="token comment"># 全流程结束</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Done
        <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
          echo &quot;Complete Successfully!&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">6/1/2023</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/handbook/Chrome/Tips.html" class="prev">
            DevTools Tips
          </a></span> <span class="next"><a href="/handbook/Mac/Mac.html">
            Mac配置&amp;使用记录
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-命令" class="sidebar-link reco-side-git-命令" data-v-cb1513f6>Git 命令</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-rebase" class="sidebar-link reco-side-git-rebase" data-v-cb1513f6>git rebase</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-reset" class="sidebar-link reco-side-git-reset" data-v-cb1513f6>git reset</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-commit-amend" class="sidebar-link reco-side-git-commit-amend" data-v-cb1513f6>git commit --amend</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-revert" class="sidebar-link reco-side-git-revert" data-v-cb1513f6>git revert</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-tag" class="sidebar-link reco-side-git-tag" data-v-cb1513f6>git tag</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-stash" class="sidebar-link reco-side-git-stash" data-v-cb1513f6>git stash</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-bisect" class="sidebar-link reco-side-git-bisect" data-v-cb1513f6>git bisect</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-cherry-pick" class="sidebar-link reco-side-git-cherry-pick" data-v-cb1513f6>git cherry-pick</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-show-ref" class="sidebar-link reco-side-git-show-ref" data-v-cb1513f6>git show-ref</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-ls-remote" class="sidebar-link reco-side-git-ls-remote" data-v-cb1513f6>git ls-remote</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-checkout" class="sidebar-link reco-side-git-checkout" data-v-cb1513f6>git checkout</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-branch" class="sidebar-link reco-side-git-branch" data-v-cb1513f6>git branch</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-status" class="sidebar-link reco-side-git-status" data-v-cb1513f6>git status</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#修改-git-commit-msg" class="sidebar-link reco-side-修改-git-commit-msg" data-v-cb1513f6>修改 git commit msg</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#vscode-插件-扩展" class="sidebar-link reco-side-vscode-插件-扩展" data-v-cb1513f6>VSCode 插件/扩展</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-graph" class="sidebar-link reco-side-git-graph" data-v-cb1513f6>Git Graph</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#gitlens" class="sidebar-link reco-side-gitlens" data-v-cb1513f6>GitLens</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-history" class="sidebar-link reco-side-git-history" data-v-cb1513f6>Git History</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-blame" class="sidebar-link reco-side-git-blame" data-v-cb1513f6>Git Blame</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#gitignore" class="sidebar-link reco-side-gitignore" data-v-cb1513f6>.gitignore</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-project-manager" class="sidebar-link reco-side-git-project-manager" data-v-cb1513f6>Git Project Manager</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-history-diff" class="sidebar-link reco-side-git-history-diff" data-v-cb1513f6>Git History Diff</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#如何把一份本地代码同时上传-gitlab-和-gitee" class="sidebar-link reco-side-如何把一份本地代码同时上传-gitlab-和-gitee" data-v-cb1513f6>如何把一份本地代码同时上传 gitlab 和 gitee</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#不切换-git-分支-却能同时在多个分支上工作" class="sidebar-link reco-side-不切换-git-分支-却能同时在多个分支上工作" data-v-cb1513f6>不切换 Git 分支，却能同时在多个分支上工作</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-命令设置别名" class="sidebar-link reco-side-git-命令设置别名" data-v-cb1513f6>git 命令设置别名</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-hooks-原理" class="sidebar-link reco-side-git-hooks-原理" data-v-cb1513f6>git hooks 原理</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-设置识别文件名大小写" class="sidebar-link reco-side-git-设置识别文件名大小写" data-v-cb1513f6>git 设置识别文件名大小写</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-重命名文件-文件夹" class="sidebar-link reco-side-git-重命名文件-文件夹" data-v-cb1513f6>git 重命名文件/文件夹</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-reflog" class="sidebar-link reco-side-git-reflog" data-v-cb1513f6>git reflog</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#强制禁用-fast-forward" class="sidebar-link reco-side-强制禁用-fast-forward" data-v-cb1513f6>强制禁用 Fast-Forward</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#压缩多次提交为一次-squash" class="sidebar-link reco-side-压缩多次提交为一次-squash" data-v-cb1513f6>压缩多次提交为一次 squash</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-是如何存储信息的" class="sidebar-link reco-side-git-是如何存储信息的" data-v-cb1513f6>git 是如何存储信息的</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#开启-ssr-之后无法从-github-下载项目" class="sidebar-link reco-side-开启-ssr-之后无法从-github-下载项目" data-v-cb1513f6>开启 ssr 之后无法从 GitHub 下载项目</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-large-file-storage-lfs-大文件存储" class="sidebar-link reco-side-git-large-file-storage-lfs-大文件存储" data-v-cb1513f6>Git Large File Storage - LFS 大文件存储</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-拉代码出问题" class="sidebar-link reco-side-git-拉代码出问题" data-v-cb1513f6>git 拉代码出问题</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-submodule" class="sidebar-link reco-side-git-submodule" data-v-cb1513f6>git submodule</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#git-submodule-练习" class="sidebar-link reco-side-git-submodule-练习" data-v-cb1513f6>git submodule 练习</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#报奇怪的错误" class="sidebar-link reco-side-报奇怪的错误" data-v-cb1513f6>报奇怪的错误</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#known-hosts" class="sidebar-link reco-side-known-hosts" data-v-cb1513f6>known_hosts</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#rebase-冲突解决" class="sidebar-link reco-side-rebase-冲突解决" data-v-cb1513f6>rebase 冲突解决</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Git/Git.html#如何-sync-那些-fork-过来的项目" class="sidebar-link reco-side-如何-sync-那些-fork-过来的项目" data-v-cb1513f6>如何 Sync 那些 fork 过来的项目</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Git/Git.html#github-actions" class="sidebar-link reco-side-github-actions" data-v-cb1513f6>GitHub Actions</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div></div></div>
    <script src="/assets/js/app.1827c8bf.js" defer></script><script src="/assets/js/4.e4331d91.js" defer></script><script src="/assets/js/3.561be8e5.js" defer></script><script src="/assets/js/2.b25d4684.js" defer></script><script src="/assets/js/1.c7cb60d4.js" defer></script><script src="/assets/js/52.50600936.js" defer></script>
  </body>
</html>
