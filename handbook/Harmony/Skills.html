<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>鸿蒙开发笔记 | 木易的OT</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
        (function() {
          if (location.href.indexOf('github.io') > -1 || location.href.indexOf('gitee.io') > -1) {
             location.href = 'https://ericyangxd.top'
           }
        })();
        </script><script type='application/ld+json'>
          {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "鸿蒙开发笔记",
            "url": "https://ericyangxd.top/handbook/Harmony/Skills.html",
            "image": [
              "https://ericyangxd.top/logo.png"
              ],
            "datePublished": "2025-12-22T00:00:00.000Z",
            "dateModified": "2025-12-23T00:00:00.000Z",
            "author": [{
                "@type": "Person",
                "name": "EricYangXD",
                "url": "https://github.com/EricYangXD/ericyangxd.github.io"
            }]
          }
      </script>
    <meta name="description" content="前端面试,React,Vue,JavaScript,CSS,HTML,HTTP,HTTPS,websocket,UDP,TCP,Webpack,算法,数据结构,LeetCode,小程序,油猴,计算机网络,NodeJs,Vite,Antdesign,EricYangXD,Eric,Chrome,Android,V8,Mac,git,网络安全,开发技巧,路由,router,诗歌,金句,源码,面试,Docker,Shell,clash,Windows">
    <meta name="keywords" content="HarmonyOS,鸿蒙开发">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    <link rel="preload" href="/assets/css/0.styles.a862ac17.css" as="style"><link rel="preload" href="/assets/js/app.d821e47e.js" as="script"><link rel="preload" href="/assets/js/4.e4a90c70.js" as="script"><link rel="preload" href="/assets/js/3.ad1ccd56.js" as="script"><link rel="preload" href="/assets/js/2.0240bc78.js" as="script"><link rel="preload" href="/assets/js/1.b94e320b.js" as="script"><link rel="preload" href="/assets/js/58.344d81f6.js" as="script"><link rel="prefetch" href="/assets/js/10.d09001be.js"><link rel="prefetch" href="/assets/js/100.b9d11c11.js"><link rel="prefetch" href="/assets/js/101.1d282c12.js"><link rel="prefetch" href="/assets/js/102.611d90c2.js"><link rel="prefetch" href="/assets/js/103.dd3123d0.js"><link rel="prefetch" href="/assets/js/104.42aaa666.js"><link rel="prefetch" href="/assets/js/105.fdce32e9.js"><link rel="prefetch" href="/assets/js/106.f99fa9a6.js"><link rel="prefetch" href="/assets/js/107.3813f673.js"><link rel="prefetch" href="/assets/js/108.aa43102e.js"><link rel="prefetch" href="/assets/js/109.d4412c5e.js"><link rel="prefetch" href="/assets/js/11.74c854af.js"><link rel="prefetch" href="/assets/js/110.b7c3d28f.js"><link rel="prefetch" href="/assets/js/111.bb2ca401.js"><link rel="prefetch" href="/assets/js/112.4bff4517.js"><link rel="prefetch" href="/assets/js/113.2286128f.js"><link rel="prefetch" href="/assets/js/114.9d2bbf99.js"><link rel="prefetch" href="/assets/js/115.ed227512.js"><link rel="prefetch" href="/assets/js/116.9e9011c2.js"><link rel="prefetch" href="/assets/js/117.18a71793.js"><link rel="prefetch" href="/assets/js/118.0a6a5b23.js"><link rel="prefetch" href="/assets/js/119.7e1bbfd1.js"><link rel="prefetch" href="/assets/js/120.1add94ba.js"><link rel="prefetch" href="/assets/js/121.9adb4bff.js"><link rel="prefetch" href="/assets/js/122.bc8b61f2.js"><link rel="prefetch" href="/assets/js/123.f1370cac.js"><link rel="prefetch" href="/assets/js/124.9a238bd0.js"><link rel="prefetch" href="/assets/js/125.ea304253.js"><link rel="prefetch" href="/assets/js/126.31f15370.js"><link rel="prefetch" href="/assets/js/127.8ae80f39.js"><link rel="prefetch" href="/assets/js/128.d0cee607.js"><link rel="prefetch" href="/assets/js/129.6aac80c0.js"><link rel="prefetch" href="/assets/js/130.dc840cf0.js"><link rel="prefetch" href="/assets/js/131.9f0e92cd.js"><link rel="prefetch" href="/assets/js/132.7181971f.js"><link rel="prefetch" href="/assets/js/133.fd482739.js"><link rel="prefetch" href="/assets/js/134.509bb0e1.js"><link rel="prefetch" href="/assets/js/135.bf0df5e3.js"><link rel="prefetch" href="/assets/js/136.5721918a.js"><link rel="prefetch" href="/assets/js/137.9c3aea83.js"><link rel="prefetch" href="/assets/js/138.f9d1bf7b.js"><link rel="prefetch" href="/assets/js/139.b7fd1fde.js"><link rel="prefetch" href="/assets/js/14.6852c925.js"><link rel="prefetch" href="/assets/js/140.1ee35228.js"><link rel="prefetch" href="/assets/js/141.ce603543.js"><link rel="prefetch" href="/assets/js/142.e4947ce8.js"><link rel="prefetch" href="/assets/js/143.0774b582.js"><link rel="prefetch" href="/assets/js/144.966de030.js"><link rel="prefetch" href="/assets/js/145.be792bb7.js"><link rel="prefetch" href="/assets/js/146.34d0901a.js"><link rel="prefetch" href="/assets/js/147.d769d293.js"><link rel="prefetch" href="/assets/js/148.971789fc.js"><link rel="prefetch" href="/assets/js/149.7850b507.js"><link rel="prefetch" href="/assets/js/15.13cca212.js"><link rel="prefetch" href="/assets/js/150.29820faf.js"><link rel="prefetch" href="/assets/js/16.4899876e.js"><link rel="prefetch" href="/assets/js/17.13bc3b8f.js"><link rel="prefetch" href="/assets/js/18.76e876d7.js"><link rel="prefetch" href="/assets/js/19.b5d33ae1.js"><link rel="prefetch" href="/assets/js/20.29dbec92.js"><link rel="prefetch" href="/assets/js/21.96fceba8.js"><link rel="prefetch" href="/assets/js/22.d2b3e267.js"><link rel="prefetch" href="/assets/js/23.64c64b94.js"><link rel="prefetch" href="/assets/js/24.b558a260.js"><link rel="prefetch" href="/assets/js/25.bb57ebb2.js"><link rel="prefetch" href="/assets/js/26.47cd7229.js"><link rel="prefetch" href="/assets/js/27.8d7938d4.js"><link rel="prefetch" href="/assets/js/28.f894eb36.js"><link rel="prefetch" href="/assets/js/29.525cb35a.js"><link rel="prefetch" href="/assets/js/30.cbeef5b7.js"><link rel="prefetch" href="/assets/js/31.51f58f47.js"><link rel="prefetch" href="/assets/js/32.3f80a1ce.js"><link rel="prefetch" href="/assets/js/33.418aa3e9.js"><link rel="prefetch" href="/assets/js/34.ce30b292.js"><link rel="prefetch" href="/assets/js/35.097a405e.js"><link rel="prefetch" href="/assets/js/36.2bca446e.js"><link rel="prefetch" href="/assets/js/37.03c8c74a.js"><link rel="prefetch" href="/assets/js/38.06c1896e.js"><link rel="prefetch" href="/assets/js/39.631eea29.js"><link rel="prefetch" href="/assets/js/40.aefbd995.js"><link rel="prefetch" href="/assets/js/41.34037413.js"><link rel="prefetch" href="/assets/js/42.b5ec6c84.js"><link rel="prefetch" href="/assets/js/43.c9d8665a.js"><link rel="prefetch" href="/assets/js/44.53ba8d37.js"><link rel="prefetch" href="/assets/js/45.e217f9fd.js"><link rel="prefetch" href="/assets/js/46.8ff4e869.js"><link rel="prefetch" href="/assets/js/47.25732b64.js"><link rel="prefetch" href="/assets/js/48.5f0532ce.js"><link rel="prefetch" href="/assets/js/49.0db7e20d.js"><link rel="prefetch" href="/assets/js/5.73d03319.js"><link rel="prefetch" href="/assets/js/50.126da332.js"><link rel="prefetch" href="/assets/js/51.9527628b.js"><link rel="prefetch" href="/assets/js/52.cfb8c970.js"><link rel="prefetch" href="/assets/js/53.e4fe9349.js"><link rel="prefetch" href="/assets/js/54.c68dc655.js"><link rel="prefetch" href="/assets/js/55.275082d7.js"><link rel="prefetch" href="/assets/js/56.b2104d86.js"><link rel="prefetch" href="/assets/js/57.f326e95c.js"><link rel="prefetch" href="/assets/js/59.43973321.js"><link rel="prefetch" href="/assets/js/6.ef81b8ef.js"><link rel="prefetch" href="/assets/js/60.c33dafb7.js"><link rel="prefetch" href="/assets/js/61.7d86129d.js"><link rel="prefetch" href="/assets/js/62.5c79b7b9.js"><link rel="prefetch" href="/assets/js/63.254db6ae.js"><link rel="prefetch" href="/assets/js/64.01637f67.js"><link rel="prefetch" href="/assets/js/65.a8679468.js"><link rel="prefetch" href="/assets/js/66.f0a5314c.js"><link rel="prefetch" href="/assets/js/67.39a03a9e.js"><link rel="prefetch" href="/assets/js/68.5921cd66.js"><link rel="prefetch" href="/assets/js/69.9fa152fd.js"><link rel="prefetch" href="/assets/js/7.126283bf.js"><link rel="prefetch" href="/assets/js/70.70f0bddb.js"><link rel="prefetch" href="/assets/js/71.1684c39e.js"><link rel="prefetch" href="/assets/js/72.81ea8639.js"><link rel="prefetch" href="/assets/js/73.5b0462aa.js"><link rel="prefetch" href="/assets/js/74.ac7e32a5.js"><link rel="prefetch" href="/assets/js/75.4ed84085.js"><link rel="prefetch" href="/assets/js/76.0f98f5d6.js"><link rel="prefetch" href="/assets/js/77.311aa5db.js"><link rel="prefetch" href="/assets/js/78.0d7716f0.js"><link rel="prefetch" href="/assets/js/79.ed3d50e2.js"><link rel="prefetch" href="/assets/js/8.4a5e8a86.js"><link rel="prefetch" href="/assets/js/80.6a57733d.js"><link rel="prefetch" href="/assets/js/81.54ceb3ab.js"><link rel="prefetch" href="/assets/js/82.1a78dc3d.js"><link rel="prefetch" href="/assets/js/83.125ddc95.js"><link rel="prefetch" href="/assets/js/84.e63abfe6.js"><link rel="prefetch" href="/assets/js/85.83192bb9.js"><link rel="prefetch" href="/assets/js/86.25fe8e09.js"><link rel="prefetch" href="/assets/js/87.c5cf3d56.js"><link rel="prefetch" href="/assets/js/88.28b2148b.js"><link rel="prefetch" href="/assets/js/89.720f97e9.js"><link rel="prefetch" href="/assets/js/9.ed44c863.js"><link rel="prefetch" href="/assets/js/90.41feae61.js"><link rel="prefetch" href="/assets/js/91.8ed06ed9.js"><link rel="prefetch" href="/assets/js/92.4b23a56d.js"><link rel="prefetch" href="/assets/js/93.18329e73.js"><link rel="prefetch" href="/assets/js/94.e62ca35d.js"><link rel="prefetch" href="/assets/js/95.c50fdba7.js"><link rel="prefetch" href="/assets/js/96.7ea96d66.js"><link rel="prefetch" href="/assets/js/97.56adb7e0.js"><link rel="prefetch" href="/assets/js/98.6ec67304.js"><link rel="prefetch" href="/assets/js/99.ea4d0247.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.52b9ad0c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a862ac17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>木易的OT</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>前端面试,React,Vue,JavaScript,CSS,HTML,HTTP,HTTPS,websocket,UDP,TCP,Webpack,算法,数据结构,LeetCode,小程序,油猴,计算机网络,NodeJs,Vite,Antdesign,EricYangXD,Eric,Chrome,Android,V8,Mac,git,网络安全,开发技巧,路由,router,诗歌,金句,源码,面试,Docker,Shell,clash,Windows</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>EricYangXD</span>
            
          <!---->
          2025
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">木易的OT</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      木易的OT
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/EricYangXD" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2295436007445021" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <h3 class="name" data-v-39576ba9>
    EricYangXD
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>112</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      木易的OT
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/EricYangXD" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2295436007445021" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>About</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Harmony</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Harmony/Skills.html" aria-current="page" class="active sidebar-link">鸿蒙开发</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>LeetCode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AntDesign</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Backend（Java Based）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>油猴</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vite</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Google Chrome V8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mac使用记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文章诗句</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Office软件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>股海浮沉</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>打工人须知</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>鸿蒙开发笔记</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>EricYangXD</span>
            
          <!---->
          2025
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">鸿蒙开发笔记</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>EricYangXD</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2025/12/22</span></i> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/handbook/Harmony/Skills.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="尼尔森十大可用性原则"><a href="#尼尔森十大可用性原则" class="header-anchor">#</a> 尼尔森十大可用性原则</h2> <h3 id="_1-系统状态可见性"><a href="#_1-系统状态可见性" class="header-anchor">#</a> 1 系统状态可见性</h3> <ol><li>告诉用户处在系统的什么位置</li> <li>让用户知道自己在做什么</li> <li>让用户知道系统在做什么</li> <li>让用户知道系统做了什么</li> <li>利用多种形式的反馈</li> <li>对系统延迟响应进行反馈</li></ol> <h3 id="_2-系统与用户现实匹配"><a href="#_2-系统与用户现实匹配" class="header-anchor">#</a> 2 系统与用户现实匹配</h3> <ol><li>使用用户的语言</li> <li>符合现实世界的使用习惯</li> <li>使用现实世界的隐喻</li> <li>操作手势符合联想</li></ol> <h3 id="_3-用户控制和自由"><a href="#_3-用户控制和自由" class="header-anchor">#</a> 3 用户控制和自由</h3> <ol><li>用户可自由导航</li> <li>用户可自由退出</li> <li>不可逆转的操作需要警告</li></ol> <h3 id="_4-一致性与标准化"><a href="#_4-一致性与标准化" class="header-anchor">#</a> 4 一致性与标准化</h3> <ol><li>产品内部保持一致</li> <li>不同版本之间有延续性</li> <li>与业内产品保持一致</li></ol> <h3 id="_5-防止错误"><a href="#_5-防止错误" class="header-anchor">#</a> 5 防止错误</h3> <ol><li>在执行危险操作之前请用户确认</li> <li>利用清晰的提示防止错误</li> <li>利用用户的联想防止错误</li></ol> <h3 id="_6-再认而不是回忆"><a href="#_6-再认而不是回忆" class="header-anchor">#</a> 6 再认而不是回忆</h3> <ol><li>将选择对象可视化</li> <li>丰富记忆线索</li> <li>使用通用的命令，减少用户记忆负担</li> <li>更多地让用户选择而不是输入</li></ol> <h3 id="_7-灵活高效的使用"><a href="#_7-灵活高效的使用" class="header-anchor">#</a> 7 灵活高效的使用</h3> <ol><li>提供快捷键</li> <li>允许用户使用重复操作</li> <li>提供系统默认值，减少用户多余操作</li></ol> <h3 id="_8-美观简洁的设计"><a href="#_8-美观简洁的设计" class="header-anchor">#</a> 8 美观简洁的设计</h3> <ol><li>避免界面元素过于杂乱</li> <li>对重点信息突出显示</li></ol> <h3 id="_9-帮助用户认知、判断和修复错误"><a href="#_9-帮助用户认知、判断和修复错误" class="header-anchor">#</a> 9 帮助用户认知、判断和修复错误</h3> <ol><li>引起用户注意</li> <li>提供建设性建议</li> <li>自动纠错</li></ol> <h3 id="_10-帮助文档及使用手册"><a href="#_10-帮助文档及使用手册" class="header-anchor">#</a> 10 帮助文档及使用手册</h3> <ol><li>方便用户查找</li> <li>便于用户理解</li> <li>便于用户应用</li> <li>信息量简短</li></ol> <h2 id="preferences-是否具备-acid"><a href="#preferences-是否具备-acid" class="header-anchor">#</a> Preferences 是否具备 ACID？</h2> <p>❌ 不具备完整的 ACID 特性：</p> <ul><li>原子性 (A)：put() + flush() 才能保证写入持久化，但不能保证多条写入操作作为一个“事务”原子完成。
如果应用崩溃或掉电，可能只写了一部分。</li> <li>一致性 (C)：没有严格的一致性约束，只能依赖开发者逻辑控制。</li> <li>隔离性 (I)：多线程/多进程同时访问时没有强隔离机制，需要自己加锁或避免并发写入。</li> <li>持久性 (D)：调用 flush() 后数据会落盘，有一定持久化能力，但不如数据库那样有 WAL 日志和 crash-safe 保证。</li></ul> <h2 id="uint8array"><a href="#uint8array" class="header-anchor">#</a> Uint8Array</h2> <ul><li>是 JavaScript/TypeScript 标准内置的 TypedArray 类型，在鸿蒙 ArkTS 中同样可用。</li> <li>它表示一个 无符号 8 位整型数组，每个元素占用 1 个字节（0 ~ 255）。</li> <li>底层基于 ArrayBuffer 内存视图，可以直接操作二进制数据。</li></ul> <p>简单理解：普通数组<code>[1,2,3]</code>存的是 JS 数字对象，而<code>Uint8Array([1,2,3])</code>存的是紧凑的二进制字节，更适合处理底层数据。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方式一：指定长度（默认填充为0）</span>
<span class="token keyword">let</span> <span class="token literal-property property">arr1</span><span class="token operator">:</span> Uint8Array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0,0,0,0,0]</span>

<span class="token comment">// 方式二：通过普通数组初始化</span>
<span class="token keyword">let</span> <span class="token literal-property property">arr2</span><span class="token operator">:</span> Uint8Array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>

<span class="token comment">// 方式三：基于 ArrayBuffer 创建</span>
<span class="token keyword">let</span> <span class="token literal-property property">buffer</span><span class="token operator">:</span> ArrayBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">arr3</span><span class="token operator">:</span> Uint8Array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">;</span>
arr3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">255</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [255,0,0,0]</span>

<span class="token keyword">let</span> u8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
u8<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>u8<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,9,9]</span>

<span class="token keyword">let</span> sub <span class="token operator">=</span> u8<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [9,9]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="抽象类和接口"><a href="#抽象类和接口" class="header-anchor">#</a> 抽象类和接口</h2> <ol><li>抽象类与接口都无法实例化。抽象类是类的抽象，抽象类用来捕捉子类的通用特性，接口是行为的抽象。</li> <li>一个类只能继承一个抽象类，而一个类可以实现一个或多个接口；</li> <li>接口中不能含有静态代码块以及静态方法，而抽象类可以有静态代码块和静态方法；</li> <li>抽象类里面可以有方法的实现，但是接口没有方法的实现，是完全抽象的；</li> <li>抽象类可以有构造函数，而接口不能有构造函数。</li></ol> <h2 id="typescript-中-extends-的三种核心用法"><a href="#typescript-中-extends-的三种核心用法" class="header-anchor">#</a> TypeScript 中 extends 的三种核心用法</h2> <p>总结：</p> <table><thead><tr><th>用法</th> <th>场景</th> <th>示例</th></tr></thead> <tbody><tr><td>1. 类继承</td> <td>OOP，代码复用</td> <td><code>class Dog extends Animal</code></td></tr> <tr><td>2. 接口继承</td> <td>组合契约</td> <td><code>interface Square extends Shape, PenStroke</code></td></tr> <tr><td>3. 泛型约束</td> <td>限制类型范围</td> <td><code>&lt;T extends HasLength&gt;</code></td></tr> <tr><td>4. 条件类型</td> <td>类型编程</td> <td><code>T extends U ? X : Y</code></td></tr></tbody></table> <h3 id="typescript-基础知识"><a href="#typescript-基础知识" class="header-anchor">#</a> TypeScript 基础知识</h3> <ol><li>接口继承类的时候，接口中会自动抽离类中公共的/私有的/受保护的属性和方法；</li> <li>接口之间可以相互继承实现接口的复用，类之间也可以相互继承 extends 实现方法属性的复用；接口只能约束类的公有成员，一个类实现一个接口时必需实现其所包含的所有属性和方法。</li> <li>TS 中的命名空间不要和 module 混用，多个文件可以共享一个命名空间，本质就是一个立即执行函数的闭包，这个空间名上挂了一些导出的属性和方法；</li> <li>命名空间中引入其他依赖时要使用三斜线<code>/// &lt;reference path=&quot;xxx.ts&quot; /&gt;</code>；</li> <li>可以通过<code>import aaa = MyNameSpace.aFunc</code>的形式为命名空间中的函数设置别名，简化调用；</li> <li>接口合并：最常见的是 interface，同名属性类型必需相同否则报错，同名函数自动重载，后声明的会先于先声明的匹配，对于函数参数是字符串字面量的情况，这种会单独提取出来优先匹配，如果有多个同名的依然遵守后声明的会先于先声明的匹配的规则。</li> <li>命名空间合并：多个文件中定义的同名命名空间会自动合并，但是对于导出的同名变量、方法会冲突。</li> <li>命名空间和函数声明合并：对一个函数再声明一个同名的命名空间，并在该命名空间中声明并导出新的属性，则相当于给这个函数添加了新的属性。</li> <li>命名空间和类的合并：同上和函数合并类似，只是相当于给类添加了静态属性。</li> <li>命名空间和枚举的合并：在同名命名空间中导出一个方法相当于给该枚举类型增加了一个方法。</li> <li>注意：8/9 中合并时，注意要把命名空间的声明放在函数/类声明的后面。</li> <li>如果引入了第三方库并安装了 types 声明库，那么还需要对该库进行声明 declare，在<code>xx.d.ts</code>中：<code>declare function xx</code>或者<code>declare namespace xxx { ... }</code>。</li> <li>使用<code>export = moduleLib</code>导出生命的命名空间，兼容性较好。</li> <li>通过<code>declare module 'moment' { export function myFunc(): void }</code>的形式，为第三方库添加自定义方法的声明。</li> <li>tsconfig 中的<code>rootDirs</code>用于将多个文件夹目录放在一个虚拟目录下，这样编译之后他们的相对路径就会保持不变，不需要再去改动代码，用于运行时。</li> <li>流水线中取到的<code>.hap</code>或者编译出来的<code>.hap</code>包，修改文件格式为<code>.zip</code>，即可打开项目包的相关文件；从<code>module.json</code>和<code>pack.info</code>文件中可以详细读取到<code>targetAPIVersion</code>等项目包相关的字段；</li> <li>延时加载图片逻辑</li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token function">Image</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bookCoverUrl<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">visibility</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bookCoverLoadingSuccess <span class="token operator">?</span> Visibility<span class="token punctuation">.</span>Visible <span class="token operator">:</span> Visibility<span class="token punctuation">.</span>None<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token operator">?.</span>loadingStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>bookCoverLoadingSuccess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="把本地的-kit-仓库中的-module-作为依赖添加到-master-仓库"><a href="#把本地的-kit-仓库中的-module-作为依赖添加到-master-仓库" class="header-anchor">#</a> 把本地的 kit 仓库中的 module 作为依赖添加到 master 仓库</h2> <p>这样本地修改 kit 仓的时候，运行 MyGameForHarmonyOS 工程可以把改动的部分体现出来。直接把这几个仓库 clone 到同一层级的目录下，然后修改 master 仓库的<code>build-profile.json5</code>，比如对于<code>lib_base</code>的<code>srcPath</code>直接改为<code>../MyGameKitForHarmonyOS/lib_base</code>，其他的路径同理，找到对应的地方就行。对于依赖的引用方式<code>oh-package.json5</code>，原来是对某些库引用指定的版本，现在直接把<code>overrides</code>下的对应的依赖版本号替换成本地的<code>module</code>或<code>service</code>等的路径就行了，比如<code>&quot;@wefoundi-games/game_component&quot;: &quot;file:../MyGameKitForHarmonyOS/game_component&quot;</code>。</p> <h2 id="鸿蒙知识"><a href="#鸿蒙知识" class="header-anchor">#</a> 鸿蒙知识</h2> <p>ArkUI 提供了<code>@State+@Prop</code>、<code>@State+@Link</code>、<code>@State+@Observed+@ObjectLink</code>、<code>@Provide+@Consume</code>、<code>AppStorage</code>、<code>LocalStorage</code>六种装饰器组合以解决不同范围内的组件间状态共享。</p> <ol><li><p>@State+@Prop 组合方案：
@Prop 装饰器支持接收 Object、class、string、number、boolean、enum 类型，以及这些类型的数组。
@Prop 装饰的变量是对父组件传入状态值的深拷贝，当@Prop 装饰器装饰的变量为复杂 Object、class 或其类型数组时，会增加状态创建时间以及占用大量内存。
@Prop 装饰的变量和父组件是单向绑定的关系。当父组件数据源发生变化时，接收该数据源的@Prop 所在组件的实例会重新渲染。 当该组件内被@Prop 装饰的变量被修改时，父组件数据源不会变化，父组件实例也不会重新渲染。</p></li> <li><p>@State+@Link 组合方案：
@Link 装饰器支持接收 Object、class、string、number、boolean、enum 类型，以及这些类型的数组。
@Link 装饰器修饰的变量是对父组件传入状态的引用的拷贝，两者指向同一个地址。当状态是简单数据类型或简单 Object 类型时，@Link 和@Prop 在状态创建时间和内存的占用方面区别不大。当状态为复杂的 Object、class 或其类型数组时，@Link 相较@Prop 能明显减少状态创建时间和内存的占用。
@Link 装饰器的变量和父组件是双向绑定的关系。当父组件数据源发生变化时，接收该数据源的@Link 所在组件的实例会重新渲染。 当该组件内被@Link 装饰的变量被修改时，父组件数据源会同步修改，父组件实例也会重新渲染。</p></li> <li><p>@State+@Observed+@ObjectLink 组合方案：
@ObjectLink 只支持接收被@Observed 装饰的 class 实例及继承 Date 或者 Array 的 class 实例。
@ObjectLink 装饰的变量是只读的，不支持对状态重新赋值。
@ObjectLink 必须配合@Observed 使用，它的设计是为了解决对嵌套类对象属性变化的监听，如需要观察对象数组中单个数据项的属性值变化，或嵌套对象的对象类型属性的子属性变化。</p></li></ol> <p>结合三个方案的特性，在选择时有如下建议：</p> <ul><li>需要观察嵌套类对象的深层属性变化的场景，选择@State+@Observed+@ObjectLink。</li> <li>状态是复杂对象、类或其类型数组的场景，选择@State+@Link。</li> <li>状态是简单数据类型时，使用@State+@Link 和@State+@Prop 均可。在功能层面上，依据@Prop 单向绑定的特性，@State+@Prop 适合用于非实时修改的场景，如编辑电话薄联系人信息时，展示编辑界面的子组件信息的修改要求不实时同步回父组件，需要等到编辑完成后点击“确认”按钮时才会以事件驱动的方式修改父组件的状态。依据@Link 双向绑定的特性，@State+@Link 适合用于实时修改的场景，如组件嵌套时的滚动条同步。</li></ul> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>在实际开发中，合理选择装饰器主要包含以下三步：</p> <ol><li><p>首先根据状态需要共享的范围大小，尽量选择共享能力小的装饰器方案，优先级依次为@State+@Prop、@State+@Link 或@State+@Observed+@ObjectLink &gt; @Provide+@Consume &gt; LocalStorage &gt; AppStorage。</p></li> <li><p>当共享的状态的组件间层级相差较大时，为避免较差的代码可扩展性和可维护性，@Provide+@Consume 的方案要优于层层传递的共享方案。</p></li> <li><p>对于具有相同优先级的@State+@Prop、@State+@Link 或@State+@Observed+@ObjectLink 三个方案，应结合状态的复杂程度和装饰器各自的特性选择。</p></li></ol> <p>实际开发中，应根据业务需求衡量优先级选择合适的装饰器，整体可参考如下建议：</p> <ul><li>@State+@Prop：适合状态结构简单，且共享状态的组件间层级相差不大的场景。或功能上要求子组件不实时同步修改给父组件的场景。</li> <li>@State+@Link：适合状态结构复杂，且共享状态的组件间层级相差不大的场景。或功能上要求子组件对状态的修改实时同步给父组件的场景。</li> <li>@State+@Observed+@ObjectLink：适合需要观察嵌套类对象的子属性变化的场景或对象数组的数据项属性变化的场景，如监听列表卡片上某个属性的变化。</li> <li>@Provide+@Consume：适合用于对于整个组件树而言“全局”的状态，且该状态改动不频繁的状态共享场景，如共享界面的路由信息。</li> <li>AppStorage：适合对于整个应用而言“全局”的变量或应用的主线程内多个 UIAbility 实例间的状态共享，如用户信息。</li> <li>LocalStorage：适合对于单个 Ability 而言“全局”的变量，主要用于不同页面间的状态共享场景。</li></ul> <h3 id="父子组件通信"><a href="#父子组件通信" class="header-anchor">#</a> 父子组件通信</h3> <ul><li>父到子：@Prop 传递@state 或者 callback 函数</li> <li>子到父：@Prop 中传入的回调函数</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 子组件 MyChild.ets</span>
@Component
struct MyChild <span class="token punctuation">{</span>
  @Prop message<span class="token operator">:</span> string<span class="token punctuation">;</span> <span class="token comment">// 接收父传来的属性</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Text</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">fontSize</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">fontColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span>Blue<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 父组件 Parent.ets</span>
@Component
struct Parent <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;Hello from Parent&quot;</span><span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">MyChild</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 父传子</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 子组件 MyButton.ets</span>
@Component
struct MyButton <span class="token punctuation">{</span>
  @Prop <span class="token function-variable function">onClickCallback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">&quot;点我&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onClickCallback</span><span class="token punctuation">(</span><span class="token string">&quot;子组件点击了按钮&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 父组件 Parent.ets</span>
@Component
struct Parent <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token literal-property property">info</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>info<span class="token punctuation">)</span>

      <span class="token function">MyButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">onClickCallback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">val</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 接收子回调的数据</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> val<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="跨层级通信-状态共享"><a href="#跨层级通信-状态共享" class="header-anchor">#</a> 跨层级通信（状态共享）</h3> <p>如果多个不相关的兄弟/跨层级组件需要共享状态，可以使用 状态管理装饰器：</p> <ul><li>@State：本地状态</li> <li>@Prop：从父接收</li> <li>@Link：双向绑定</li> <li>@Provide / @Consume：类似 Vue 的 provide/inject，用于跨层级共享</li> <li>使用自定义事件发布订阅，当组件关系复杂或跨越层级过多时，推荐使用 EventHub 或者 Emitter 自定义事件发布订阅的方式。当数据源改变时发布事件，依赖该数据源的组件通过订阅事件来获取数据源的改变，完成业务逻辑的处理，从而实现组件的精准刷新。</li></ul> <p>详细代码示例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 顶层 App.ets</span>
@Component
struct AppRoot <span class="token punctuation">{</span>
  @Provide themeColor<span class="token operator">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Red<span class="token punctuation">;</span> <span class="token comment">// 提供一个全局颜色</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">ChildA</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token function">ChildB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子 A 使用这个颜色渲染文字</span>
@Component struct ChildA <span class="token punctuation">{</span>
  @Consume themeColor<span class="token operator">:</span> Color<span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;我是 ChildA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>themeColor<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 子 B 使用同样的颜色渲染文字</span>
@Component struct ChildB <span class="token punctuation">{</span>
  @State localThemeColor<span class="token operator">:</span> Color<span class="token punctuation">;</span>
  <span class="token comment">// @Consume themeColor: Color;</span>
  <span class="token comment">// 还可以和watch配合，执行新的逻辑</span>
  @<span class="token function">Consume</span><span class="token punctuation">(</span><span class="token string">'themeColor'</span><span class="token punctuation">)</span> @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">'onThemeColorChange'</span><span class="token punctuation">)</span> themeColor<span class="token operator">:</span> Color<span class="token punctuation">;</span>
  <span class="token comment">// 还可以改个名字</span>
  @<span class="token function">Consume</span><span class="token punctuation">(</span><span class="token string">'themeColor'</span><span class="token punctuation">)</span> myThemeColor<span class="token operator">:</span> Color<span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">&quot;我是 ChildB&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fontColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>themeColor<span class="token punctuation">)</span> <span class="token punctuation">}</span>

  <span class="token comment">// 不要用private修饰</span>
  <span class="token function">onThemeColorChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>localThemeColor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>themeColor <span class="token operator">+</span> <span class="token string">&quot;FF&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Step 1: 用 @Observed 装饰一个类</span>
@Observed
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> number<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@Component
struct ParentComponent <span class="token punctuation">{</span>
  <span class="token comment">// Step 2: 父组件持有状态（可以是 @State, @Link, @StorageLink 等）</span>
  @State user<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">'OldName'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Parent: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
      <span class="token comment">// Step 3: 将对象的引用传递给子组件</span>
      <span class="token function">ChildComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">userLink</span><span class="token operator">:</span> $user <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 使用 $ 操作符传递引用</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@Component
struct ChildComponent <span class="token punctuation">{</span>
  <span class="token comment">// Step 4: 子组件用 @ObjectLink 接收对象引用</span>
  <span class="token comment">// 注意：这里不是通过构造参数直接赋值，而是通过 @Link 建立引用关系</span>
  @Link userLink<span class="token operator">:</span> User<span class="token punctuation">;</span>
  <span class="token comment">// Step 5: 用 @ObjectLink 装饰一个变量来监听属性变化</span>
  @ObjectLink user<span class="token operator">:</span> User<span class="token punctuation">;</span>

  <span class="token comment">// 在 aboutToAppear 中初始化 @ObjectLink 变量</span>
  <span class="token function">aboutToAppear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>user <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>userLink<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Step 6: 修改属性，UI会更新！</span>
      <span class="token function">TextInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">newName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>name <span class="token operator">=</span> newName<span class="token punctuation">;</span> <span class="token comment">// 直接修改属性，无需创建新对象！</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token function">TextInput</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>age<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">newAge</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>user<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>newAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> PersistentStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@kit.ArkData'</span><span class="token punctuation">;</span>

<span class="token comment">// 获取 PersistentStore 实例</span>
<span class="token keyword">let</span> store <span class="token operator">=</span> PersistentStore<span class="token punctuation">.</span><span class="token function">getPersistentStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MyAppSettings'</span><span class="token punctuation">,</span> <span class="token comment">// 存储文件的名称，自定义</span>
  <span class="token literal-property property">level</span><span class="token operator">:</span> PersistentStore<span class="token punctuation">.</span>Level<span class="token punctuation">.</span><span class="token constant">STORE_LEVEL_DEVICE</span> <span class="token comment">// 存储级别</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// 存储字符串</span>
  store<span class="token punctuation">.</span><span class="token function">putSync</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 存储数字</span>
  store<span class="token punctuation">.</span><span class="token function">putSync</span><span class="token punctuation">(</span><span class="token string">'userAge'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 存储布尔值</span>
  store<span class="token punctuation">.</span><span class="token function">putSync</span><span class="token punctuation">(</span><span class="token string">'isAgreed'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 存储对象 (会自动序列化为JSON字符串)</span>
  store<span class="token punctuation">.</span><span class="token function">putSync</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token string">'VIP'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Data saved successfully.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to save data. Code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token comment">// 读取数据，如果key不存在，则返回提供的默认值</span>
  <span class="token keyword">let</span> userName <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'DefaultUser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; '张三'</span>
  <span class="token keyword">let</span> age <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'userAge'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; 28</span>
  <span class="token keyword">let</span> isAgreed <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'isAgreed'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; true</span>
  <span class="token keyword">let</span> userInfo <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'userInfo'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token string">''</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; { id: 123, level: 'VIP' }</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Username: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>userName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to get data. Code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">deleteSync</span><span class="token punctuation">(</span><span class="token string">'userAge'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 删除 userAge 这个key及其对应的值</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Data deleted successfully.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to delete data. Code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> hasKey <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">hasSync</span><span class="token punctuation">(</span><span class="token string">'username'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -&gt; true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hasKey<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行某些操作</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to check data. Code: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>code<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, message: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Index.ets @Entry 组件中</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> AppStorage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@kit.ArkData'</span><span class="token punctuation">;</span>

<span class="token function">aboutToAppear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 获取 PersistentStore 实例</span>
  <span class="token keyword">let</span> store <span class="token operator">=</span> PersistentStore<span class="token punctuation">.</span><span class="token function">getPersistentStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'MyAppSettings'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">level</span><span class="token operator">:</span> PersistentStore<span class="token punctuation">.</span>Level<span class="token punctuation">.</span><span class="token constant">STORE_LEVEL_DEVICE</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2. 从持久化存储中读取数据</span>
    <span class="token keyword">const</span> savedTheme <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'appTheme'</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> isLoggedIn <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'isLoggedIn'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> userToken <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getSync</span><span class="token punctuation">(</span><span class="token string">'userToken'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3. 将数据加载到全局内存状态 AppStorage 中</span>
    AppStorage<span class="token punctuation">.</span><span class="token function">SetOrCreate</span><span class="token punctuation">(</span><span class="token string">'appTheme'</span><span class="token punctuation">,</span> savedTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
    AppStorage<span class="token punctuation">.</span><span class="token function">SetOrCreate</span><span class="token punctuation">(</span><span class="token string">'isLoggedIn'</span><span class="token punctuation">,</span> isLoggedIn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    AppStorage<span class="token punctuation">.</span><span class="token function">SetOrCreate</span><span class="token punctuation">(</span><span class="token string">'userToken'</span><span class="token punctuation">,</span> userToken<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Failed to load persistent data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>err<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 例如，在一个设置页面，用户切换了主题</span>
<span class="token keyword">function</span> <span class="token function">onThemeChange</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">newTheme</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1. 更新内存状态（UI立即响应）</span>
  AppStorage<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">'appTheme'</span><span class="token punctuation">,</span> newTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 2. 更新持久化存储（保证下次启动生效）</span>
  <span class="token keyword">let</span> store <span class="token operator">=</span> PersistentStore<span class="token punctuation">.</span><span class="token function">getPersistentStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    store<span class="token punctuation">.</span><span class="token function">putSync</span><span class="token punctuation">(</span><span class="token string">'appTheme'</span><span class="token punctuation">,</span> newTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 处理错误</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><h3 id="全局状态管理-appstorage-localstorage"><a href="#全局状态管理-appstorage-localstorage" class="header-anchor">#</a> 全局状态管理（AppStorage / LocalStorage）</h3> <p>如果是全局范围的数据（比如用户信息、登录态），可以用 AppStorage 或 LocalStorage。</p> <ul><li><code>AppStorage.SetOrCreate('userName', '李四');</code></li> <li><code>@StorageLink('userName') name:string = ''; // 取值并重命名，且自动双向绑定</code></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 在 AppStorage 中初始化一个全局主题色，或者在某个入口组件中初始化</span>
<span class="token comment">// AppStorage.SetOrCreate('AppTheme', '#007AFF');</span>

@Component
struct ThemeSettingPage <span class="token punctuation">{</span>
  <span class="token comment">// 双向绑定：修改 localTheme，会自动更新 AppStorage 中的 'AppTheme'</span>
  <span class="token comment">// AppStorage 中 'AppTheme' 变化，也会自动更新 localTheme</span>
  @<span class="token function">StorageLink</span><span class="token punctuation">(</span><span class="token string">'AppTheme'</span><span class="token punctuation">)</span> localTheme<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'#007AFF'</span><span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Column</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">Text</span><span class="token punctuation">(</span><span class="token string">'Select Theme'</span><span class="token punctuation">)</span>
      <span class="token function">ColorPicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>localTheme <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> ColorPickerResult</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// 修改会同步到全局 AppStorage</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>localTheme <span class="token operator">=</span> value<span class="token punctuation">.</span>color<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

@Component
struct ThemedButton <span class="token punctuation">{</span>
  <span class="token comment">// 单向绑定：只从 AppStorage 读取 'AppTheme'，本地修改不会影响全局</span>
  @<span class="token function">StorageProp</span><span class="token punctuation">(</span><span class="token string">'AppTheme'</span><span class="token punctuation">)</span> buttonColor<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'#000'</span><span class="token punctuation">;</span>

  <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">Button</span><span class="token punctuation">(</span><span class="token string">'Themed Button'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">backgroundColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>buttonColor<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这个修改不会影响 AppStorage 和其他组件</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>buttonColor <span class="token operator">=</span> <span class="token string">'#FF0000'</span><span class="token punctuation">;</span> <span class="token comment">// 仅本组件按钮临时变红</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="开发知识笔记"><a href="#开发知识笔记" class="header-anchor">#</a> 开发知识笔记</h2> <ol><li>沙箱路径：<code>file://com.myapp.demo/data/app/el2/100/base/com.example.app.games/haps/MyGames/files</code>，在<code>DevEco Testing &gt; 实用工具 &gt; HarmonyAtlas &gt; 文件系统</code>，书籍所需文件包括 epub、图片、html 等都存在这里。也可以存到<code>temp</code>下面。</li> <li>书封图片存储路径：<code>${GlobalContext.getInstance().getAbilityContext().filesDir}/ebook/${bookId}/cover/${fileName}</code></li> <li>精品书动效使用的 <code>webview+lottie</code> 动画库实现，在<code>DetailNode &gt; dynamicLoadWebPage</code> 中的<code>DefinedBookWebPage.ets</code>组件里写的。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 沙箱目录中图片文件的路径 1</span>
<span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUIContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> common<span class="token punctuation">.</span>UIAbilityContext<span class="token punctuation">;</span>
<span class="token keyword">let</span> fileName <span class="token operator">=</span> <span class="token string">'startIcon.png'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tempPath1 <span class="token operator">=</span> context<span class="token punctuation">.</span>tempDir <span class="token operator">+</span> fileName<span class="token punctuation">;</span> <span class="token comment">// 沙箱目录中图片文件的路径</span>
<span class="token comment">// filesDir /data/storage/el2/base/haps/MyGames/files</span>

<span class="token comment">// 沙箱目录中图片文件的路径 2</span>
<span class="token keyword">const</span> filePath2 <span class="token operator">=</span> GlobalContext<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAbilityContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>filesDir <span class="token operator">+</span> <span class="token string">'/custome/path/'</span><span class="token punctuation">;</span> <span class="token comment">// GlobalContext.getInstance().getAbilityContext()需自行封装</span>
<span class="token comment">// tempDir /data/storage/el2/base/haps/MyGames/temp</span>

<span class="token comment">// 最终</span>
<span class="token keyword">let</span> dirUri <span class="token operator">=</span> fileUri<span class="token punctuation">.</span><span class="token function">getUriFromPath</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过传入的路径path生成uri：'file://com.example.app.games/data/storage/el2/base/haps/MyGames/files/ebook/200011532806316459025921/covers/xxx.webp'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="4"><li><p>外层 Stack 组件设置了<code>onClick</code>和<code>PanGesture</code>事件，子组件设置的<code>onClick</code>事件无法触发：在内层子节点的外面给<code>NodeContainer</code>添加<code>hitTestBehavior</code>属性，设置<code>HitTestMode.Transparent</code>模式，支持兄弟节点的触摸测试。</p></li> <li><p>设置鼠标样式状态，使用<code>import { pointer } from '@kit.InputKit';</code>结合<code>onMouse()</code>方法等来控制鼠标样式和显隐等。</p></li></ol> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// const cursorController = this.getUIContext().getCursorController();</span>
<span class="token comment">// cursorController.setCursor(pointer.PointerStyle.DEFAULT); // 隐藏光标</span>
<span class="token comment">// cursorController.restoreDefault(); // 恢复默认</span>

<span class="token function">MyMainPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token constant">TAG</span> <span class="token operator">+</span> <span class="token string">'MyMainPage'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onMouseMove</span><span class="token punctuation">(</span><span class="token string">'onClick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ComponentStatusManager.getComponentPopUpStatus() !== ComponentPopUpStatus.POP_NONE</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// pointer.setPointerStyleSync();</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUIContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCursorController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCursor</span><span class="token punctuation">(</span>pointer<span class="token punctuation">.</span>PointerStyle<span class="token punctuation">.</span><span class="token constant">EAST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// cursorControl.setCursor(pointer.PointerStyle.EAST)</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      pointer<span class="token punctuation">.</span><span class="token function">setPointerVisible</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>pointerFlag<span class="token punctuation">,</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Set pointer visible failed, error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">code</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">message</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Set pointer visible success</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pointerFlag<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pointerFlag <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>pointerFlag<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Set pointer visible failed, error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">code</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">message</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">getLastWindow</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUIContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> BusinessError<span class="token punctuation">,</span> win<span class="token operator">:</span> window<span class="token punctuation">.</span>Window<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Failed to obtain the top window. Cause: '</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">let</span> windowId <span class="token operator">=</span> win<span class="token punctuation">.</span><span class="token function">getWindowProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>id<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>windowId <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Invalid windowId</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        pointer<span class="token punctuation">.</span><span class="token function">setPointerStyle</span><span class="token punctuation">(</span>windowId<span class="token punctuation">,</span> pointer<span class="token punctuation">.</span>PointerStyle<span class="token punctuation">.</span><span class="token constant">CROSS</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Set pointer style success</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Set pointer style failed, error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">code</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">message</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">onMouse</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">onMouseMove</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h2 id="hdc"><a href="#hdc" class="header-anchor">#</a> hdc</h2> <h3 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h3> <ol><li>重启进入 fastboot 模式：<code>hdc shell reboot bootloader或hdc shell &quot;echo c &gt; /proc/sysrq-trigger&quot;</code>；手机 USB 连上电脑后，同时按电源和音量下键；手机关机断开 usb 连接，长按音量下键然后手机连接上 USB。</li> <li>查看设备型号：<code>hdc shell param get const.product.model</code></li> <li>查看设备系统 ROM 版本（组合包版本号）1：<code>hdc shell param get const.product.software.version</code> -- <code>VDE-AL10 6.0.0.110(SP5C00E110R3P5log)</code></li> <li>查看设备系统版本（组合包版本号）2：<code>hdc shell param get const.build.ver.physical</code> -- <code>VDE-AL10 206.0.0.110(SP5C00E110R3P5log)</code></li> <li>重启设备：<code>hdc shell reboot（或者hdc target boot）</code></li> <li>获取手机的 sn 号：<code>hdc list targets</code></li> <li>查询 ROM 版本号：<code>adb shell getprop ro.build.display.id</code></li> <li>查询手机解锁状态：<code>fastboot oem lock-state info</code></li> <li>获取 SOCID 方法：<code>fastboot oem get_socid</code></li> <li>清空缓存：<code>hdc shell bm clean -n com.wefoundi.app.games -d</code></li> <li>查看设备的 api 版本：<code>hdc shell param get const.ohos.apiversion</code></li></ol> <h3 id="安装-pc-上的-hap-到手机上"><a href="#安装-pc-上的-hap-到手机上" class="header-anchor">#</a> 安装 pc 上的 hap 到手机上</h3> <ul><li><p>安装：<code>hdc install D:\apps\demo.hap</code>，先进入到相应的目录下（直接从文件夹拖到 cmd），不然路径可能不对。</p></li> <li><p>卸载：<code>hdc uninstall com.wefoundi.app.games</code></p></li> <li><p><code>hdc -t &lt;deviceId&gt; install demo.hap</code></p></li> <li><p><code>hdc shell aa start -a EntryAbility -b com.wefoundi.app.games</code></p></li> <li><p><code>hdc shell bm dump com.wefoundi.app.games</code></p></li> <li><p>保存手机上的 app 到本地：<code>hdc file recv &quot;/data/app/el1/bundle/public/com.wefoundi.app.games/MyGames.hap&quot; &quot;D:\backup\MyGames.3.1.8.hap&quot;</code></p></li> <li><p>查看设备型号：<code>hdc shell bm dump com.wefoundi.app.games</code>/<code>hdc shell param get const.build.product</code></p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">12</span>:10:26.619: Build task <span class="token keyword">in</span> <span class="token number">25</span> s <span class="token number">612</span> ms
<span class="token number">12</span>:10:26.619: Launching com.wefoundi.app.games
<span class="token number">12</span>:10:26.620: $ hdc shell aa force-stop com.wefoundi.app.games
<span class="token number">12</span>:10:27.183: $ hdc shell <span class="token function">mkdir</span> data/local/tmp/d33b3090fac74957a84501fbed862594
<span class="token number">12</span>:10:31.646: $ hdc <span class="token function">file</span> send D:<span class="token punctuation">\</span>work<span class="token punctuation">\</span>MyGameForHarmonyOS<span class="token punctuation">\</span>product<span class="token punctuation">\</span>default<span class="token punctuation">\</span>build<span class="token punctuation">\</span>default<span class="token punctuation">\</span>outputs<span class="token punctuation">\</span>default<span class="token punctuation">\</span>MyGames-default-signed.hap <span class="token string">&quot;data/local/tmp/d33b3090fac74957a84501fbed862594&quot;</span> <span class="token keyword">in</span> <span class="token number">4</span> s <span class="token number">463</span> ms
<span class="token number">12</span>:10:33.276: $ hdc shell bm <span class="token function">install</span> <span class="token parameter variable">-p</span> data/local/tmp/d33b3090fac74957a84501fbed862594 <span class="token keyword">in</span> <span class="token number">1</span> s <span class="token number">630</span> ms
<span class="token number">12</span>:10:33.434: $ hdc shell <span class="token function">rm</span> <span class="token parameter variable">-rf</span> data/local/tmp/d33b3090fac74957a84501fbed862594
<span class="token number">12</span>:10:33.906: $ hdc shell aa start <span class="token parameter variable">-a</span> MainAbility <span class="token parameter variable">-b</span> com.wefoundi.app.games <span class="token keyword">in</span> <span class="token number">236</span> ms
<span class="token number">12</span>:10:33.906: com.wefoundi.app.games successfully launched within <span class="token number">7</span> s <span class="token number">287</span> ms
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="git-恢复本地删除的分支或者提交"><a href="#git-恢复本地删除的分支或者提交" class="header-anchor">#</a> git 恢复本地删除的分支或者提交</h3> <p>前提是知道被删掉的 commitId。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 从服务器拿到所有提交对象（防止没有完整对象）</span>
<span class="token function">git</span> fetch origin

<span class="token comment"># 假设最后一个提交 id 是 abc123456789</span>
<span class="token function">git</span> checkout <span class="token parameter variable">-b</span> master-c abc123456789
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="git-忽略某些不需要提交的本地改动"><a href="#git-忽略某些不需要提交的本地改动" class="header-anchor">#</a> git 忽略某些不需要提交的本地改动</h3> <p><code>git update-index --assume-unchanged relative/path/*</code></p> <h3 id="powershell-安装-posh-git"><a href="#powershell-安装-posh-git" class="header-anchor">#</a> powerShell 安装 posh-git</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Install-Module posh-git <span class="token parameter variable">-Scope</span> CurrentUser

Import-Module posh-git

notepad <span class="token variable">$PROFILE</span> <span class="token comment"># 在文件中添加  Import-Module posh-git</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="查看-powershell-版本"><a href="#查看-powershell-版本" class="header-anchor">#</a> 查看 PowerShell 版本</h3> <p><code>$PSVersionTable</code>/<code>$PSVersionTable.PSVersion</code></p> <h3 id="css"><a href="#css" class="header-anchor">#</a> CSS</h3> <h4 id="设置正方形"><a href="#设置正方形" class="header-anchor">#</a> 设置正方形</h4> <p>自适应保持正方形比例</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 1. 使用aspect-ratio */</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1 / 1<span class="token punctuation">;</span> <span class="token comment">/* 设置宽高比为1:1 */</span>

<span class="token comment">/* 2. 使用padding-bottom技巧 */</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token property">padding-bottom</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/* 1:1的宽高比 */</span>

<span class="token comment">/* 3. 使用vw单位 */</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
<span class="token property">max-width</span><span class="token punctuation">:</span> 666px<span class="token punctuation">;</span> <span class="token comment">/* 限制最大尺寸 */</span>
<span class="token property">max-height</span><span class="token punctuation">:</span> 666px<span class="token punctuation">;</span>

<span class="token comment">/* 4. 使用CSS Grid */</span>
<span class="token property">display</span><span class="token punctuation">:</span> grid<span class="token punctuation">;</span>
<span class="token property">place-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token property">aspect-ratio</span><span class="token punctuation">:</span> 1 / 1<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">12/23/2025</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/handbook/Vue/Skills.html" class="prev">
            Vue开发体会
          </a></span> <span class="next"><a href="/handbook/LeetCode/BinaryTree.html">
            二叉树
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#尼尔森十大可用性原则" class="sidebar-link reco-side-尼尔森十大可用性原则" data-v-cb1513f6>尼尔森十大可用性原则</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_1-系统状态可见性" class="sidebar-link reco-side-_1-系统状态可见性" data-v-cb1513f6>1 系统状态可见性</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_2-系统与用户现实匹配" class="sidebar-link reco-side-_2-系统与用户现实匹配" data-v-cb1513f6>2 系统与用户现实匹配</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_3-用户控制和自由" class="sidebar-link reco-side-_3-用户控制和自由" data-v-cb1513f6>3 用户控制和自由</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_4-一致性与标准化" class="sidebar-link reco-side-_4-一致性与标准化" data-v-cb1513f6>4 一致性与标准化</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_5-防止错误" class="sidebar-link reco-side-_5-防止错误" data-v-cb1513f6>5 防止错误</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_6-再认而不是回忆" class="sidebar-link reco-side-_6-再认而不是回忆" data-v-cb1513f6>6 再认而不是回忆</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_7-灵活高效的使用" class="sidebar-link reco-side-_7-灵活高效的使用" data-v-cb1513f6>7 灵活高效的使用</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_8-美观简洁的设计" class="sidebar-link reco-side-_8-美观简洁的设计" data-v-cb1513f6>8 美观简洁的设计</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_9-帮助用户认知、判断和修复错误" class="sidebar-link reco-side-_9-帮助用户认知、判断和修复错误" data-v-cb1513f6>9 帮助用户认知、判断和修复错误</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#_10-帮助文档及使用手册" class="sidebar-link reco-side-_10-帮助文档及使用手册" data-v-cb1513f6>10 帮助文档及使用手册</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#preferences-是否具备-acid" class="sidebar-link reco-side-preferences-是否具备-acid" data-v-cb1513f6>Preferences 是否具备 ACID？</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#uint8array" class="sidebar-link reco-side-uint8array" data-v-cb1513f6>Uint8Array</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#抽象类和接口" class="sidebar-link reco-side-抽象类和接口" data-v-cb1513f6>抽象类和接口</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#typescript-中-extends-的三种核心用法" class="sidebar-link reco-side-typescript-中-extends-的三种核心用法" data-v-cb1513f6>TypeScript 中 extends 的三种核心用法</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#typescript-基础知识" class="sidebar-link reco-side-typescript-基础知识" data-v-cb1513f6>TypeScript 基础知识</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#把本地的-kit-仓库中的-module-作为依赖添加到-master-仓库" class="sidebar-link reco-side-把本地的-kit-仓库中的-module-作为依赖添加到-master-仓库" data-v-cb1513f6>把本地的 kit 仓库中的 module 作为依赖添加到 master 仓库</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#鸿蒙知识" class="sidebar-link reco-side-鸿蒙知识" data-v-cb1513f6>鸿蒙知识</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#总结" class="sidebar-link reco-side-总结" data-v-cb1513f6>总结</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#父子组件通信" class="sidebar-link reco-side-父子组件通信" data-v-cb1513f6>父子组件通信</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#跨层级通信-状态共享" class="sidebar-link reco-side-跨层级通信-状态共享" data-v-cb1513f6>跨层级通信（状态共享）</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#全局状态管理-appstorage-localstorage" class="sidebar-link reco-side-全局状态管理-appstorage-localstorage" data-v-cb1513f6>全局状态管理（AppStorage / LocalStorage）</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#开发知识笔记" class="sidebar-link reco-side-开发知识笔记" data-v-cb1513f6>开发知识笔记</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#hdc" class="sidebar-link reco-side-hdc" data-v-cb1513f6>hdc</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#常用命令" class="sidebar-link reco-side-常用命令" data-v-cb1513f6>常用命令</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#安装-pc-上的-hap-到手机上" class="sidebar-link reco-side-安装-pc-上的-hap-到手机上" data-v-cb1513f6>安装 pc 上的 hap 到手机上</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#git-恢复本地删除的分支或者提交" class="sidebar-link reco-side-git-恢复本地删除的分支或者提交" data-v-cb1513f6>git 恢复本地删除的分支或者提交</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#git-忽略某些不需要提交的本地改动" class="sidebar-link reco-side-git-忽略某些不需要提交的本地改动" data-v-cb1513f6>git 忽略某些不需要提交的本地改动</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#powershell-安装-posh-git" class="sidebar-link reco-side-powershell-安装-posh-git" data-v-cb1513f6>powerShell 安装 posh-git</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#查看-powershell-版本" class="sidebar-link reco-side-查看-powershell-版本" data-v-cb1513f6>查看 PowerShell 版本</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/Harmony/Skills.html#css" class="sidebar-link reco-side-css" data-v-cb1513f6>CSS</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div></div></div>
    <script src="/assets/js/app.d821e47e.js" defer></script><script src="/assets/js/4.e4a90c70.js" defer></script><script src="/assets/js/3.ad1ccd56.js" defer></script><script src="/assets/js/2.0240bc78.js" defer></script><script src="/assets/js/1.b94e320b.js" defer></script><script src="/assets/js/58.344d81f6.js" defer></script>
  </body>
</html>
