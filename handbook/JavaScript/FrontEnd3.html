<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>记录一些前端知识(3) | 木易的OT</title>
    <meta name="generator" content="VuePress 1.9.10">
    <script>
        (function() {
          if (location.href.indexOf('github.io') > -1 || location.href.indexOf('gitee.io') > -1) {
             location.href = 'https://ericyangxd.top'
           }
        })();
        </script><script type='application/ld+json'>
          {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "记录一些前端知识(3)",
            "url": "https://ericyangxd.top/handbook/JavaScript/FrontEnd3.html",
            "image": [
              "https://ericyangxd.top/logo.png"
              ],
            "datePublished": "2022-06-24T00:00:00.000Z",
            "dateModified": "2024-01-18T00:00:00.000Z",
            "author": [{
                "@type": "Person",
                "name": "EricYangXD",
                "url": "https://github.com/EricYangXD/ericyangxd.github.io"
            }]
          }
      </script>
    <meta name="description" content="前端面试,React,Vue,JavaScript,CSS,HTML,HTTP,HTTPS,websocket,UDP,TCP,Webpack,算法,数据结构,LeetCode,小程序,油猴,计算机网络,NodeJs,Vite,Antdesign,EricYangXD,Eric,Chrome,Android,V8,Mac,git,网络安全,开发技巧,路由,router,诗歌,金句,源码,面试,Docker,Shell,clash,Windows">
    <meta name="keywords" content="前端监控,上报,常识">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    
    <link rel="preload" href="/assets/css/0.styles.82c89da6.css" as="style"><link rel="preload" href="/assets/js/app.a72dbfee.js" as="script"><link rel="preload" href="/assets/js/4.e4331d91.js" as="script"><link rel="preload" href="/assets/js/3.561be8e5.js" as="script"><link rel="preload" href="/assets/js/2.b25d4684.js" as="script"><link rel="preload" href="/assets/js/1.c7cb60d4.js" as="script"><link rel="preload" href="/assets/js/68.1c2bfd08.js" as="script"><link rel="prefetch" href="/assets/js/10.26f8cbb6.js"><link rel="prefetch" href="/assets/js/100.7fae6247.js"><link rel="prefetch" href="/assets/js/101.f89d53fa.js"><link rel="prefetch" href="/assets/js/102.daf4b1af.js"><link rel="prefetch" href="/assets/js/103.dd41178a.js"><link rel="prefetch" href="/assets/js/104.9a5e8609.js"><link rel="prefetch" href="/assets/js/105.c39fd5c7.js"><link rel="prefetch" href="/assets/js/106.f0a0cafe.js"><link rel="prefetch" href="/assets/js/107.9daa49d2.js"><link rel="prefetch" href="/assets/js/108.42733c23.js"><link rel="prefetch" href="/assets/js/109.ab3bea29.js"><link rel="prefetch" href="/assets/js/11.ec88ce3f.js"><link rel="prefetch" href="/assets/js/110.d4bf9e04.js"><link rel="prefetch" href="/assets/js/111.7b8c0c60.js"><link rel="prefetch" href="/assets/js/112.6472474a.js"><link rel="prefetch" href="/assets/js/113.f954937d.js"><link rel="prefetch" href="/assets/js/114.4e05e8dc.js"><link rel="prefetch" href="/assets/js/115.9b610737.js"><link rel="prefetch" href="/assets/js/116.6d6681b8.js"><link rel="prefetch" href="/assets/js/117.ee1fc7e1.js"><link rel="prefetch" href="/assets/js/118.fb2332ef.js"><link rel="prefetch" href="/assets/js/119.d25b30e3.js"><link rel="prefetch" href="/assets/js/120.2c702778.js"><link rel="prefetch" href="/assets/js/121.e2186a28.js"><link rel="prefetch" href="/assets/js/122.3db35d03.js"><link rel="prefetch" href="/assets/js/123.d510795a.js"><link rel="prefetch" href="/assets/js/124.3e1b9be7.js"><link rel="prefetch" href="/assets/js/125.eb49b725.js"><link rel="prefetch" href="/assets/js/126.c5dece5c.js"><link rel="prefetch" href="/assets/js/127.3ba58f0b.js"><link rel="prefetch" href="/assets/js/128.15b1c045.js"><link rel="prefetch" href="/assets/js/129.0a002a4a.js"><link rel="prefetch" href="/assets/js/130.d034fbb6.js"><link rel="prefetch" href="/assets/js/131.461fc811.js"><link rel="prefetch" href="/assets/js/132.17038b4f.js"><link rel="prefetch" href="/assets/js/133.0b55ab58.js"><link rel="prefetch" href="/assets/js/134.f09eb71f.js"><link rel="prefetch" href="/assets/js/14.eb1152a3.js"><link rel="prefetch" href="/assets/js/15.b8e5af0a.js"><link rel="prefetch" href="/assets/js/16.ed296b89.js"><link rel="prefetch" href="/assets/js/17.d9e3ba74.js"><link rel="prefetch" href="/assets/js/18.8ddab221.js"><link rel="prefetch" href="/assets/js/19.57a74dfb.js"><link rel="prefetch" href="/assets/js/20.e3da0919.js"><link rel="prefetch" href="/assets/js/21.546b406c.js"><link rel="prefetch" href="/assets/js/22.9450f156.js"><link rel="prefetch" href="/assets/js/23.c854b682.js"><link rel="prefetch" href="/assets/js/24.877c6c49.js"><link rel="prefetch" href="/assets/js/25.1110b637.js"><link rel="prefetch" href="/assets/js/26.3f26d858.js"><link rel="prefetch" href="/assets/js/27.533548d8.js"><link rel="prefetch" href="/assets/js/28.98a340e2.js"><link rel="prefetch" href="/assets/js/29.edf59bdf.js"><link rel="prefetch" href="/assets/js/30.b7cf2b52.js"><link rel="prefetch" href="/assets/js/31.1fe66269.js"><link rel="prefetch" href="/assets/js/32.e46a6d14.js"><link rel="prefetch" href="/assets/js/33.db6ae149.js"><link rel="prefetch" href="/assets/js/34.66c83798.js"><link rel="prefetch" href="/assets/js/35.1f8028c0.js"><link rel="prefetch" href="/assets/js/36.86d9fc47.js"><link rel="prefetch" href="/assets/js/37.c2037205.js"><link rel="prefetch" href="/assets/js/38.334016b8.js"><link rel="prefetch" href="/assets/js/39.a4f75b3a.js"><link rel="prefetch" href="/assets/js/40.89908c21.js"><link rel="prefetch" href="/assets/js/41.93437118.js"><link rel="prefetch" href="/assets/js/42.0e8b29fc.js"><link rel="prefetch" href="/assets/js/43.9ef740ec.js"><link rel="prefetch" href="/assets/js/44.c1702fc4.js"><link rel="prefetch" href="/assets/js/45.c46822a1.js"><link rel="prefetch" href="/assets/js/46.ce87f9ac.js"><link rel="prefetch" href="/assets/js/47.9a298cb9.js"><link rel="prefetch" href="/assets/js/48.e83be3e5.js"><link rel="prefetch" href="/assets/js/49.0a3f6b91.js"><link rel="prefetch" href="/assets/js/5.41516153.js"><link rel="prefetch" href="/assets/js/50.cbd9d193.js"><link rel="prefetch" href="/assets/js/51.b5ffd127.js"><link rel="prefetch" href="/assets/js/52.50600936.js"><link rel="prefetch" href="/assets/js/53.6d507fec.js"><link rel="prefetch" href="/assets/js/54.04880f81.js"><link rel="prefetch" href="/assets/js/55.d5cb97a8.js"><link rel="prefetch" href="/assets/js/56.2062e511.js"><link rel="prefetch" href="/assets/js/57.98cfb129.js"><link rel="prefetch" href="/assets/js/58.c40a7c90.js"><link rel="prefetch" href="/assets/js/59.e72acdce.js"><link rel="prefetch" href="/assets/js/6.dca3a5c8.js"><link rel="prefetch" href="/assets/js/60.71fb8919.js"><link rel="prefetch" href="/assets/js/61.a27e3f44.js"><link rel="prefetch" href="/assets/js/62.6cbb8d14.js"><link rel="prefetch" href="/assets/js/63.ac580b74.js"><link rel="prefetch" href="/assets/js/64.313b075e.js"><link rel="prefetch" href="/assets/js/65.f86d9afb.js"><link rel="prefetch" href="/assets/js/66.8ef18e94.js"><link rel="prefetch" href="/assets/js/67.fa38a7b6.js"><link rel="prefetch" href="/assets/js/69.30d53f38.js"><link rel="prefetch" href="/assets/js/7.8f6e299c.js"><link rel="prefetch" href="/assets/js/70.a5543f2e.js"><link rel="prefetch" href="/assets/js/71.2ce687e2.js"><link rel="prefetch" href="/assets/js/72.023dfa73.js"><link rel="prefetch" href="/assets/js/73.87a3d508.js"><link rel="prefetch" href="/assets/js/74.b1af96c5.js"><link rel="prefetch" href="/assets/js/75.a67962d6.js"><link rel="prefetch" href="/assets/js/76.e42e2a81.js"><link rel="prefetch" href="/assets/js/77.3d1a7c23.js"><link rel="prefetch" href="/assets/js/78.0bcf7804.js"><link rel="prefetch" href="/assets/js/79.ed5bb15b.js"><link rel="prefetch" href="/assets/js/8.41d4a20d.js"><link rel="prefetch" href="/assets/js/80.6e7f447c.js"><link rel="prefetch" href="/assets/js/81.d7cecd71.js"><link rel="prefetch" href="/assets/js/82.500f9df2.js"><link rel="prefetch" href="/assets/js/83.6e34373d.js"><link rel="prefetch" href="/assets/js/84.a26952d2.js"><link rel="prefetch" href="/assets/js/85.8a360392.js"><link rel="prefetch" href="/assets/js/86.62e2e4e6.js"><link rel="prefetch" href="/assets/js/87.aa0d55ff.js"><link rel="prefetch" href="/assets/js/88.8da69483.js"><link rel="prefetch" href="/assets/js/89.adfa0429.js"><link rel="prefetch" href="/assets/js/9.492c22f0.js"><link rel="prefetch" href="/assets/js/90.ab647d23.js"><link rel="prefetch" href="/assets/js/91.6fd66c60.js"><link rel="prefetch" href="/assets/js/92.8c54c4c9.js"><link rel="prefetch" href="/assets/js/93.aa949989.js"><link rel="prefetch" href="/assets/js/94.0fde1ad7.js"><link rel="prefetch" href="/assets/js/95.0f2e400a.js"><link rel="prefetch" href="/assets/js/96.fdd0f60c.js"><link rel="prefetch" href="/assets/js/97.2ce141e1.js"><link rel="prefetch" href="/assets/js/98.dfaa0c18.js"><link rel="prefetch" href="/assets/js/99.98e8f369.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.bd007aa5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.82c89da6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>木易的OT</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>前端面试,React,Vue,JavaScript,CSS,HTML,HTTP,HTTPS,websocket,UDP,TCP,Webpack,算法,数据结构,LeetCode,小程序,油猴,计算机网络,NodeJs,Vite,Antdesign,EricYangXD,Eric,Chrome,Android,V8,Mac,git,网络安全,开发技巧,路由,router,诗歌,金句,源码,面试,Docker,Shell,clash,Windows</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>EricYangXD</span>
            
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">木易的OT</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      木易的OT
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/EricYangXD" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2295436007445021" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <h3 class="name" data-v-39576ba9>
    EricYangXD
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>96</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      木易的OT
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/EricYangXD" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2295436007445021" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>About</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>LeetCode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/JavaScript/FrontEnd1.html" class="sidebar-link">前端开发技巧(1)</a></li><li><a href="/handbook/JavaScript/FrontEnd2.html" class="sidebar-link">前端开发技巧(2)</a></li><li><a href="/handbook/JavaScript/FrontEnd3.html" aria-current="page" class="active sidebar-link">前端开发技巧(3)</a></li><li><a href="/handbook/JavaScript/Api.html" class="sidebar-link">APIs</a></li><li><a href="/handbook/JavaScript/Promise.html" class="sidebar-link">手写Promise</a></li><li><a href="/handbook/JavaScript/Quill.html" class="sidebar-link">Quill编辑器</a></li><li><a href="/handbook/JavaScript/RegExp.html" class="sidebar-link">正则表达式</a></li><li><a href="/handbook/JavaScript/TS.html" class="sidebar-link">TypeScript</a></li><li><a href="/handbook/JavaScript/JS.html" class="sidebar-link">JavaScript</a></li><li><a href="/handbook/JavaScript/Cojs.html" class="sidebar-link">co.js</a></li><li><a href="/handbook/JavaScript/Function1.html" class="sidebar-link">手写函数1</a></li><li><a href="/handbook/JavaScript/Function2.html" class="sidebar-link">手写函数2</a></li><li><a href="/handbook/JavaScript/PackageManageTools.html" class="sidebar-link">包管理工具</a></li><li><a href="/handbook/JavaScript/Axios.html" class="sidebar-link">用TS封装Axios</a></li><li><a href="/handbook/JavaScript/ESLint.html" class="sidebar-link">ESLint+Prettier</a></li><li><a href="/handbook/JavaScript/Jest.html" class="sidebar-link">Jest</a></li><li><a href="/handbook/JavaScript/NextJS.html" class="sidebar-link">Next.js</a></li><li><a href="/handbook/JavaScript/Mock.html" class="sidebar-link">Mock数据</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AntDesign</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发技巧</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Backend（Java Based）</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>油猴</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nodejs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vite</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Google Chrome V8</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mac使用记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>文章诗句</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Office软件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>股海沉浮</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>打工人须知</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>记录一些前端知识(3)</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>EricYangXD</span>
            
          <!---->
          2024
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">记录一些前端知识(3)</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>EricYangXD</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2022/6/24</span></i> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/handbook/JavaScript/FrontEnd3.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="前端监控上报数据"><a href="#前端监控上报数据" class="header-anchor">#</a> 前端监控上报数据</h2> <p>重点解析在 <strong>页面实例关闭</strong> 时，如何将监控数据上传到服务端的解决方案。涉及到 4 种方案，分别为：</p> <ul><li>同步<code>XMLHttpRequest</code></li> <li><code>img.src</code></li> <li><code>navigator.sendBeacon</code></li> <li><code>fetch keepalive</code></li></ul> <h3 id="同步-xmlhttprequest"><a href="#同步-xmlhttprequest" class="header-anchor">#</a> 同步 XMLHttpRequest</h3> <p>已废弃。</p> <p>为什么同步 XMLHttpRequest 可以在页面关闭时上传数据？同步请求阻止代码的执行，这会导致屏幕上出现“冻结”和无响应的用户体验。</p> <p>缺点:</p> <ul><li>用户体验差，会阻塞页面切换</li> <li>只有旧版的浏览器支持 Chrome&lt;80</li> <li>无法读取 reponse 的返回值</li></ul> <h3 id="img-src"><a href="#img-src" class="header-anchor">#</a> img.src</h3> <p>创建一个<code>&lt;img&gt;</code>元素，并设置<code>src</code>。大部分的浏览器，都会延迟卸载当前页面，优先加载图像。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">time</span><span class="token operator">:</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://api.wangxiaokai.vip/test?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>缺点:</p> <ul><li>数据传输不可靠，有可能浏览器卸载当前页面，直接杀掉图像请求</li> <li>只能发起 GET 请求</li> <li>数据大小有限制</li></ul> <h3 id="navigator-sendbeacon"><a href="#navigator-sendbeacon" class="header-anchor">#</a> navigator.sendBeacon</h3> <p>通过 HTTP POST 请求，将少量数据使用异步的方式，发送到服务端。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">reportEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&quot;http://api.wangxiaokai.vip/test&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  navigator<span class="token punctuation">.</span><span class="token function">sendBeacon</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;visibilitychange&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>visiblityState <span class="token operator">===</span> <span class="token string">&quot;hidden&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">reportEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol><li>浏览器端自动判断合适的时机进行发送。</li> <li>不会产生阻塞，影响当前页面的卸载。</li> <li>不影响下个新页面的加载，不存在性能问题。</li> <li>另外，数据传输可靠。</li> <li>当浏览器将数据成功加入传输队列时，sendBeacon 方法会返回 true，否则返回 false。注意返回值的时机：成功加入传输队列，而不是服务端的处理成功后的返回。</li></ol> <p>缺点:</p> <ul><li>只能发起 POST 请求</li> <li>无法自定义请求头参数</li> <li>数据大小有限制 （Chrome 限制大小为 64kb）</li> <li>只能在 window 事件 visibilitychange 和 beforeunload 中使用，其他事件中回调，会丢失数据</li></ul> <blockquote><p>出于兼容性原因，请确保使用 document.addEventListener 而不是 window.addEventListener 来注册<code>visibilitychange</code>回调。</p></blockquote> <h3 id="fetch-keepalive"><a href="#fetch-keepalive" class="header-anchor">#</a> fetch keepalive</h3> <blockquote><p>The keepalive option can be used to allow the request to outlive the page. Fetch with the keepalive flag is a replacement for the Navigator.sendBeacon() API.
keepalive 选项可用来允许一个请求在页面关闭后继续存在。带 keepalive 标志的 Fetch 可以替代 Navigator.sendBeacon() API。</p></blockquote> <p>标记 keepalive 的 fetch 请求允许在页面卸载后执行。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&quot;http://api.wangxiaokai.vip/test&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">time</span><span class="token operator">:</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">body</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;Content-Type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">keepalive</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h2> <p>不要再直接写 undefined，因为可以局部也起一个叫 undefined 的变量并给它赋值，如果此时用到了 undefined，那么可能出现 bug。示例如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">value is undefined</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">value is not undefined</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> value<span class="token punctuation">;</span>
<span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'value is not undefined'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>推荐的做法：使用<code>void 0</code>或<code>void(0)</code>代替<code>undefined</code>。</p> <p>void 运算符是对给定的表达式进行求值，然后返回 undefined 。而且， void 是不能重新定义的，不然会报语法错误，这样也保证了用 void 来代替 undefined 的不会出现被重定义而造成的 bug。</p> <h2 id="js-判断图片是否被缓存"><a href="#js-判断图片是否被缓存" class="header-anchor">#</a> js 判断图片是否被缓存</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 url 测试图片路径
 被缓存返回true，没被缓存返回false
 */</span>
<span class="token keyword">function</span> <span class="token function">testCache</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;执行&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://www.8chedao.com/page/images/webIndex-logo.png&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> myImg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myImg<span class="token punctuation">.</span>src <span class="token operator">=</span> url<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>myImg<span class="token punctuation">.</span>complete<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;图片被缓存&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;图片没被缓存&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myImg<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;图片已经下载成功!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="正则-捕获组"><a href="#正则-捕获组" class="header-anchor">#</a> 正则-捕获组</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;2022-07&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?&lt;year&gt;[0-9]{4})-(?&lt;month&gt;[0-9]{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> group <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span>year<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="css-中-html-和-body-的区别"><a href="#css-中-html-和-body-的区别" class="header-anchor">#</a> css 中 html 和 body 的区别</h2> <ol><li>在 html 中，<code>&lt;html&gt;</code>包含<code>&lt;body&gt;</code></li> <li>在 html 文档中，<code>&lt;html&gt;</code>是根元素。</li> <li>在 css 中有一个<code>:root</code>选择器，和<code>html</code>选择器作用一样，甚至<code>:root</code>具有更高的优先级！</li> <li>以下内联属性 Inline Attribute 最初在规范 spec 中分配给了<code>&lt;body&gt;</code>：<code>background</code>、<code>bgcolor</code>、<code>marginbottom</code>、<code>marginleft</code>、<code>marginright</code>、<code>margintop</code>、<code>text</code></li> <li>相应的 CSS 属性：<code>background</code>、<code>background/background-color</code>、<code>margin-bottom</code>、<code>margin-left</code>、<code>margin-right</code>、<code>margin-top</code>、<code>font</code></li> <li><code>rem</code> 单位是相对于文档根目录的。是相对于 <code>&lt;html&gt;</code> 元素的字体大小的。</li> <li>如何将 <code>&lt;html&gt;</code> 上的字体大小设置为百分比，以便在使用 rem 单位时用作重置:<a href="http://snook.ca/archives/html_and_css/font-size-with-rem" target="_blank" rel="nofollow noopener noreferrer">1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>在 body 上设置<code>background-color</code>，</li> <li>在 html 上设置<code>background-color</code>，</li> <li>JavaScript 也存在差异。例如，html 是 <code>document.rootElement</code>，body 是 <code>document.body</code>。</li> <li>body 元素实际上没有浏览器窗口那么高。它只和里面的内容一样高，就像 div 或其他任何东西一样。所以在 body 上设置 background 时要特别注意，背景有可能撑不起来：如果 html 元素没有背景，body 背景将覆盖页面。如果 html 元素上有背景，则 body 背景的行为与任何其他元素一样。所以背景色要么设置在 html 上，要么给 body 设置一个高度，以防万一。</li> <li>将基本字体大小定义为 62.5%，以便以类似于使用 px 的方式方便地调整 rems 大小。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* 不考虑兼容性 */</span>
<span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 62.5%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">/* =14px */</span>
<span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 2.4rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">/* =24px */</span>

<span class="token comment">/* 考虑兼容性 */</span>
<span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 62.5%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.4rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">/* =14px */</span>
<span class="token selector">h1</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 2.4rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">/* =24px */</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ol start="13"><li>关键在于区分那些属性是可覆盖的，然后设置在不同的标签上</li></ol> <h2 id="why-not-iframe"><a href="#why-not-iframe" class="header-anchor">#</a> Why Not Iframe</h2> <p>为什么不用 iframe，这几乎是所有微前端方案第一个会被 challenge 的问题。但是大部分微前端方案又不约而同放弃了 iframe 方案，自然是有原因的，并不是为了 &quot;炫技&quot; 或者刻意追求 &quot;特立独行&quot;。</p> <p>如果不考虑体验问题，iframe 几乎是最完美的微前端解决方案了。</p> <p>iframe 最大的特性就是提供了浏览器原生的硬隔离方案，不论是样式隔离、js 隔离这类问题统统都能被完美解决。但他的最大问题也在于他的隔离性无法被突破，导致应用间上下文无法被共享，随之带来的开发体验、产品体验的问题。</p> <ul><li>url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。</li> <li>UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中。</li> <li>全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免- 登效果。</li> <li>慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。</li></ul> <p>其中有的问题比较好解决(问题 1)，有的问题我们可以睁一只眼闭一只眼(问题 4)，但有的问题我们则很难解决(问题 3)甚至无法解决(问题 2)，而这些无法解决的问题恰恰又会给产品带来非常严重的体验问题， 最终导致我们舍弃了 iframe 方案。</p> <h2 id="为-iframe-正名"><a href="#为-iframe-正名" class="header-anchor">#</a> 为 iframe 正名</h2> <h2 id="javascript-深拷贝性能分析"><a href="#javascript-深拷贝性能分析" class="header-anchor">#</a> JavaScript 深拷贝性能分析</h2> <h3 id="引用传值"><a href="#引用传值" class="header-anchor">#</a> 引用传值</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mutate</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">mutate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol><li>对于基本类型，是进行值传递；对于引用类型，传递的是这个对象的指针。</li> <li>在值传递的场景中，函数的形参只是实参的一个副本 ——a copy—— 当函数调用完成后，并不改变实参。但是在 JavaScript 这种引用传递的场景中，函数的形参和实参指向同一个对象，当参数内部改变形参的时候，函数外面的实参也被改变了。</li></ol> <h3 id="浅拷贝-object-assign"><a href="#浅拷贝-object-assign" class="header-anchor">#</a> 浅拷贝：Object.assign ()</h3> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">mutateDeepObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>thing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">thing</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> copy <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">mutateDeepObject</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">.</span>thing<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints true</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>d<span class="token punctuation">.</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
b<span class="token punctuation">.</span>d<span class="token punctuation">.</span>e <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>d<span class="token punctuation">.</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol><li><code>Object.assign(target, sources...)</code>。它接受任意数量的源对象，枚举它们的所有属性并分配给 target。如果我们使用一个新的空对象 target，那么我们就可以实现对象的复制。注意，第一个参数 target，会被改变！</li> <li>该方法只适合拷贝没有嵌套对象的情况，否则要注意：他只是个浅拷贝，对于深层的对象只是拷贝的指针。修改新的对象可能会导致源对象发生变化！</li> <li>注意：对象解构运算，这也是浅拷贝。</li></ol> <h3 id="深拷贝的几种方法"><a href="#深拷贝的几种方法" class="header-anchor">#</a> 深拷贝的几种方法</h3> <p>深拷贝是一个常见需求，我们可以通过 <code>JSON</code> 转换、递归、lodash 的<code>_.cloneDeep()</code>等方式实现。</p> <h4 id="json-parse-json-stringify"><a href="#json-parse-json-stringify" class="header-anchor">#</a> <code>JSON.parse()</code>+<code>JSON.stringify()</code></h4> <p>将该对象转换为其 JSON 字符串表示形式，然后将其解析回对象。</p> <blockquote><p>缺点</p></blockquote> <ul><li>需要创建一个临时的，可能很大的字符串，只是为了把它重新放回解析器。</li> <li>不能处理循环对象。而且循环对象经常发生。</li> <li>诸如 Map, Set, RegExp, Date, ArrayBuffer 和其他内置类型在进行序列化时会丢失。</li> <li>不能克隆 function。</li> <li>对于值为 undefined 的属性，克隆之后会被丢弃。值为 null 的属性会被保留。可以通过改写<code>JSON.stringify()</code>的第二个参数进行「修复」。</li> <li>原理：<code>JSON.stringify</code> 只能处理基本对象、数组和基本类型，而其他类型的值在转换之后都可能出现出乎意料的结果，例如 Date 会转化为字符串， Set 会转化为 {}。<code>JSON.stringify</code> 甚至完全忽略某些内容，比如 undefined 或函数。</li> <li>除此之外，<code>JSON.parse(JSON.stringify(x))</code> 无法对包含循环引用的对象进行深克隆</li></ul> <h4 id="structured-clone-结构化克隆算法"><a href="#structured-clone-结构化克隆算法" class="header-anchor">#</a> Structured Clone 结构化克隆算法</h4> <p>Structured cloning 是一种现有的算法，用于将值从一个地方转移到另一地方。例如，每当您调用 postMessage 将消息发送到另一个窗口或 WebWorker 时，都会使用它。关于结构化克隆的好处在于它处理循环对象并 支持大量的内置类型。</p> <p>实际上，JavaScript 中提供了一个原生 API 来执行对象的深拷贝：<code>structuredClone()</code>。它可以通过结构化克隆算法创建一个给定值的深拷贝，并且还可以传输原始值的可转移对象。</p> <p><code>structuredClone()</code> 的实用方式很简单，只需将原始对象传递给该函数，它将返回具有不同引用和对象属性引用的深层副本。</p> <p>注意事项：</p> <ol><li>拷贝无限嵌套的对象和数组；</li> <li>拷贝循环引用；当对象中存在循环引用时，仍然可以通过 <code>structuredClone()</code> 进行深拷贝。</li> <li>拷贝各种 JavaScript 类型，例如 Date、Set、Map、Error、RegExp、ArrayBuffer、Blob、File、ImageData 等；</li> <li>拷贝使用 structuredClone()得到的对象；</li> <li><code>structuredClone()</code>不能克隆 DOM 元素。将 HTMLElement 对象传递给 <code>structuredClone()</code>将导致错误。</li> <li>可以拷贝任何可转移的对象。要注意的是，使用可转移对象时必须小心处理，因为一旦对象被转移，原线程将不再拥有该对象的所有权，因此在发送线程中不能再访问该对象。此外，在接收线程中使用可转移对象时，也需要根据需求进行显式释放，否则可能会导致内存泄漏和其他问题。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> originalObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">set</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">regex</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">foo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">array</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>someBlobData<span class="token punctuation">,</span> <span class="token string">&quot;file.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">error</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
originalObject<span class="token punctuation">.</span>circular <span class="token operator">=</span> originalObject<span class="token punctuation">;</span>

<span class="token keyword">const</span> copied <span class="token operator">=</span> <span class="token function">structuredClone</span><span class="token punctuation">(</span>originalObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><p>在 JavaScript 中，可转移对象（Transferable Objects）是指 ArrayBuffer 和 MessagePort 等类型的对象，它们可以在主线程和 Web Worker 线程之间相互传递，同时还可以实现零拷贝内存共享，提高性能。这是由于可转移对象具有两个特点：</p> <ol><li>可共享：可转移对象本身没有所有权，可以在多个线程之间共享，实现零拷贝内存共享。</li> <li>可转移：调用 Transferable API 时，可转移对象会从发送方（发送线程）转移到接收方（接收线程），不再存在于原始线程中，因此可以避免内存拷贝和分配等开销。</li></ol></li></ul> <ol start="7"><li><p><code>structuredClone()</code> 不能拷贝的数据类型:</p> <ol><li>函数或方法，会抛出异常。</li> <li>DOM 节点，也会抛出异常。</li> <li>属性描述符、setter 和 getter，以及类似的元数据都不能被克隆。</li> <li>对象原型，原型链不能被遍历或拷贝。所以如果克隆一个实例 MyClass，克隆的对象将不再是这个类的一个实例（但是这个类的所有有效属性都将被拷贝）。</li></ol></li> <li><p>支持拷贝的类型如下：</p> <ol><li>JS 内置对象：Array（数组）、ArrayBuffer（数据缓冲区）、Boolean（布尔类型）、DataView（数据视图）、Date（日期类型）、Error（错误类型，包括下面列出的具体类型）、Map（映射类型）、Object （仅指纯对象，如从对象字面量中创建的对象）、原始类型（除 symbol 外，即 number、string、null、undefined、boolean、BigInt）、RegExp（正则表达式）、Set（集合类型）、TypedArray（类型化数组）。</li> <li>Error 类型：Error、EvalError、RangeError、ReferenceError、SyntaxError、TypeError、URIError。</li> <li>Web/API 类型：AudioData、Blob、CryptoKey、DOMException、DOMMatrix、DOMMatrixReadOnly、DOMPoint、DomQuad、DomRect、File、FileList、FileSystemDirectoryHandle、FileSystemFileHandle、FileSystemHandle、ImageBitmap、ImageData、RTCCertificate、VideoFrame。</li></ol></li> <li><p>目前主流浏览器都支持 structuredClone API。</p></li></ol> <h4 id="messagechannel"><a href="#messagechannel" class="header-anchor">#</a> MessageChannel</h4> <p>可以创建一个 MessageChannel 并发送消息。在接收端，消息包含我们原始数据对象的结构化克隆。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">structuralClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> <span class="token punctuation">{</span>port1<span class="token punctuation">,</span> port2<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     port2<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token parameter">ev</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>ev<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
     port1<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> clone <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">structuralClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>缺点是它是异步的。虽然这并无大碍，但是有时候你需要使用同步的方式来深度拷贝一个对象。</p> <h4 id="history-api"><a href="#history-api" class="header-anchor">#</a> History API</h4> <p><code>history.pushState()</code>可以提供一个状态对象来保存 URL。这个状态对象使用结构化克隆 - 而且是同步的。</p> <p>为了防止发生任何意外，请使用 <code>history.replaceState()</code> 而不是 <code>history.pushState()</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">structuralClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> oldState <span class="token operator">=</span> history<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
		history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> document<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> copy <span class="token operator">=</span> history<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
		history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span>oldState<span class="token punctuation">,</span> document<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> copy<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> clone <span class="token operator">=</span> <span class="token function">structuralClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="notification-api"><a href="#notification-api" class="header-anchor">#</a> Notification API</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">structuralClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Notification</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">data</span><span class="token operator">:</span> obj<span class="token punctuation">,</span> <span class="token literal-property property">silent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token comment">/* ... */</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> clone <span class="token operator">=</span> <span class="token function">structuralClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>浏览器支持度不够。</p> <h4 id="常规的遍历对象并赋值"><a href="#常规的遍历对象并赋值" class="header-anchor">#</a> 常规的遍历对象并赋值</h4> <p><code>for..in</code>+<code>Object.hasOwnProperty()</code></p> <h4 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h4> <ul><li>如果没有循环对象，并且不需要保留内置类型，则可以使用跨浏览器 <code>JSON.parse(JSON.stringify())</code> 获得最快的克隆性能。</li> <li>如果你想要一个适当的结构化克隆，<code>MessageChannel</code> 是你唯一可靠的跨浏览器的选择。</li></ul> <h3 id="console-log-与内存泄漏"><a href="#console-log-与内存泄漏" class="header-anchor">#</a> console.log 与内存泄漏</h3> <ol><li><code>console.log</code> 在 devtools 打开的时候是有内存泄漏的，因为控制台打印的是对象引用，但是不打开 devtools 是不会有内存泄漏的。</li> <li>通过<code>performance.memory.totalJSHeapSize/1024/1024</code>，配合 <code>console.log</code> 打印可以验证。</li> <li><code>string</code> 基本类型因为常量池的存在，同样的字符串实际只会创建一次。而 <code>new String</code> 的话才会在堆中创建一个对象，然后指向常量池中的字符串字面量。</li> <li>nodejs 打印的是序列化后的对象，所以没有内存泄露。</li> <li>生产环境是可以使用 <code>console.log</code> 的，没有内存泄漏问题。</li></ol> <h3 id="peerdependency"><a href="#peerdependency" class="header-anchor">#</a> peerDependency</h3> <p>peerDependency 可以避免核心依赖库被重复下载的问题。比如：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">..</span>.
├── helloWorld
│   └── node_modules
│       ├── packageA
│       ├── plugin1
│       │   └── nodule_modules
│       │       └── packageA
│       └── plugin2
│       │   └── nodule_modules
│       │       └── packageA
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol><li>此时 helloWorld 本身已经安装了一次 packageA，但是因为因为在 plugin1 和 plugin2 中的 dependencies 也声明了 packageA，所以最后 packageA 会被安装三次，有两次安装是冗余的。</li> <li>如果在 plugin1 和 plugin2 的 package.json 中使用 peerDependency 来声明核心依赖库，例如：</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// plugin1/package.json</span>
<span class="token punctuation">{</span>
	<span class="token string-property property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&quot;packageA&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.1&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// plugin2/package.json</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;peerDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;packageA&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// helloWorld/package.json</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;packageA&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ol start="3"><li>此时在主系统中执行 <code>npm install</code> 生成的依赖图就是这样的：可以看到这时候生成的依赖图是扁平的，packageA 也只会被安装一次。</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">..</span>.
├── helloWorld
│   └── node_modules
│       ├── packageA
│       ├── plugin1
│       └── plugin2
<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="4"><li>总结：在插件使用 dependencies 声明依赖库的特点：
<ul><li>如果用户显式依赖了核心库，则可以忽略各插件的 peerDependency 声明；</li> <li>如果用户没有显式依赖核心库，则按照插件 peerDependencies 中声明的版本将库安装到项目根目录中；</li> <li>当用户依赖的版本、各插件依赖的版本之间不相互兼容，会报错让用户自行修复；</li></ul></li></ol> <h2 id="webgl"><a href="#webgl" class="header-anchor">#</a> WebGL</h2> <p><a href="http://js1k.com/2016-elemental/demo/2552" target="_blank" rel="nofollow noopener noreferrer">DEMO 网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="vue3diff"><a href="#vue3diff" class="header-anchor">#</a> Vue3diff</h2> <p><a href="https://blog.csdn.net/zl_Alien/article/details/106595459" target="_blank" rel="nofollow noopener noreferrer">Vue3 diff<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="iframe-防止他人嵌套自己的网站"><a href="#iframe-防止他人嵌套自己的网站" class="header-anchor">#</a> iframe 防止他人嵌套自己的网站</h2> <p>TODO</p> <ol><li>通过 parent 判断 origin</li></ol> <h2 id="几个框架对比总结"><a href="#几个框架对比总结" class="header-anchor">#</a> 几个框架对比总结</h2> <ol><li>不同框架编译之后的差异：</li></ol> <ul><li>🚀 React 编译之后是 Jsx 函数返回的虚拟 DOM</li> <li>🚀 Vue 编译之后是 render 函数返回的虚拟 DOM</li> <li>🚀 SolidJS 编译之后返回的真实 DOM 字符串</li> <li>🚀 Svelte 编译之后返回的是真实 DOM 片段</li></ul> <ol start="2"><li><p>React 由于架构机制决定了每当状态发生改变，从当前组件开始一直到叶子组件重新加载。</p></li> <li><p>Vue 由于给每个组件建立了 watchEffect 监听机制，每当组件依赖的状态发生改变，当前组件重新加载。</p></li> <li><p>SolidJS 和 Svelte 由于在编译之后就确定了当状态发生改变 UI 随之变化的关系，所以仅仅是具体 DOM 的重新加载。</p></li> <li><p>相对来说，react 更新粒度最粗，但是配合 useMemo/memo 之后可以跟 Vue 差不多，Vue 更新粒度中等，SolidJS 和 Svelte 更新粒度相对最细。</p></li></ol> <h2 id="totp"><a href="#totp" class="header-anchor">#</a> TOTP</h2> <p>基于时间的一次性密码算法（Time-based One-Time Password，简称：TOTP）是一种根据预共享的密钥与当前时间计算一次性密码的算法。</p> <ol><li>前端库：<code>@nest-public/totp</code>，默认使用 SHA1 散列算法和 30 秒的时间步长。</li></ol> <h2 id="本地快速启动-server"><a href="#本地快速启动-server" class="header-anchor">#</a> 本地快速启动 server</h2> <p>有时候我们需要给静态页面或文件，启动服务在浏览器中查看。推荐两个启动服务的 npm 包。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>npx http-server <span class="token punctuation">[</span>path<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span>

<span class="token comment"># 比如</span>
npx http-server <span class="token builtin class-name">.</span> -p <span class="token number">8090</span>

<span class="token function">npm</span> repo http-server 可直达仓库地址

npx serve <span class="token punctuation">[</span>path<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span>
<span class="token comment"># 比如</span>
npx serve <span class="token builtin class-name">.</span> -p <span class="token number">9090</span>

<span class="token function">npm</span> repo serve 可直达仓库地址
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="js-实现函数重载"><a href="#js-实现函数重载" class="header-anchor">#</a> JS 实现函数重载</h2> <p>不同于 TS，JS 没有类型系统</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createOverload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> fnMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">overload</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> fn <span class="token operator">=</span> fnMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;没有找到对应的实现&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  overload<span class="token punctuation">.</span><span class="token function-variable function">addImpl</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> fn <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> fn <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;最后一个参数必须是函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> key <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    fnMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> overload<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// usage</span>
<span class="token keyword">const</span> getUsers <span class="token operator">=</span> <span class="token function">createOverload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

getUsers<span class="token punctuation">.</span><span class="token function">addImpl</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;查询所有用户&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">searchPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">page<span class="token punctuation">,</span> size <span class="token operator">=</span> <span class="token number">10</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;按照页码和数量查询用户&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
getUsers<span class="token punctuation">.</span><span class="token function">addImpl</span><span class="token punctuation">(</span><span class="token string">&quot;number&quot;</span><span class="token punctuation">,</span> searchPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
getUsers<span class="token punctuation">.</span><span class="token function">addImpl</span><span class="token punctuation">(</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;按照姓名查询用户&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">getUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">1/18/2024</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/handbook/JavaScript/FrontEnd2.html" class="prev">
            前端开发技巧(2)
          </a></span> <span class="next"><a href="/handbook/JavaScript/Api.html">
            APIs
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#前端监控上报数据" class="sidebar-link reco-side-前端监控上报数据" data-v-cb1513f6>前端监控上报数据</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#同步-xmlhttprequest" class="sidebar-link reco-side-同步-xmlhttprequest" data-v-cb1513f6>同步 XMLHttpRequest</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#img-src" class="sidebar-link reco-side-img-src" data-v-cb1513f6>img.src</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#navigator-sendbeacon" class="sidebar-link reco-side-navigator-sendbeacon" data-v-cb1513f6>navigator.sendBeacon</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#fetch-keepalive" class="sidebar-link reco-side-fetch-keepalive" data-v-cb1513f6>fetch keepalive</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#undefined" class="sidebar-link reco-side-undefined" data-v-cb1513f6>undefined</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#js-判断图片是否被缓存" class="sidebar-link reco-side-js-判断图片是否被缓存" data-v-cb1513f6>js 判断图片是否被缓存</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#正则-捕获组" class="sidebar-link reco-side-正则-捕获组" data-v-cb1513f6>正则-捕获组</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#css-中-html-和-body-的区别" class="sidebar-link reco-side-css-中-html-和-body-的区别" data-v-cb1513f6>css 中 html 和 body 的区别</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#why-not-iframe" class="sidebar-link reco-side-why-not-iframe" data-v-cb1513f6>Why Not Iframe</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#为-iframe-正名" class="sidebar-link reco-side-为-iframe-正名" data-v-cb1513f6>为 iframe 正名</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#javascript-深拷贝性能分析" class="sidebar-link reco-side-javascript-深拷贝性能分析" data-v-cb1513f6>JavaScript 深拷贝性能分析</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#引用传值" class="sidebar-link reco-side-引用传值" data-v-cb1513f6>引用传值</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#浅拷贝-object-assign" class="sidebar-link reco-side-浅拷贝-object-assign" data-v-cb1513f6>浅拷贝：Object.assign ()</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#深拷贝的几种方法" class="sidebar-link reco-side-深拷贝的几种方法" data-v-cb1513f6>深拷贝的几种方法</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#console-log-与内存泄漏" class="sidebar-link reco-side-console-log-与内存泄漏" data-v-cb1513f6>console.log 与内存泄漏</a></li><li class="level-3" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#peerdependency" class="sidebar-link reco-side-peerdependency" data-v-cb1513f6>peerDependency</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#webgl" class="sidebar-link reco-side-webgl" data-v-cb1513f6>WebGL</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#vue3diff" class="sidebar-link reco-side-vue3diff" data-v-cb1513f6>Vue3diff</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#iframe-防止他人嵌套自己的网站" class="sidebar-link reco-side-iframe-防止他人嵌套自己的网站" data-v-cb1513f6>iframe 防止他人嵌套自己的网站</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#几个框架对比总结" class="sidebar-link reco-side-几个框架对比总结" data-v-cb1513f6>几个框架对比总结</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#totp" class="sidebar-link reco-side-totp" data-v-cb1513f6>TOTP</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#本地快速启动-server" class="sidebar-link reco-side-本地快速启动-server" data-v-cb1513f6>本地快速启动 server</a></li><li class="level-2" data-v-cb1513f6><a href="/handbook/JavaScript/FrontEnd3.html#js-实现函数重载" class="sidebar-link reco-side-js-实现函数重载" data-v-cb1513f6>JS 实现函数重载</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div></div></div>
    <script src="/assets/js/app.a72dbfee.js" defer></script><script src="/assets/js/4.e4331d91.js" defer></script><script src="/assets/js/3.561be8e5.js" defer></script><script src="/assets/js/2.b25d4684.js" defer></script><script src="/assets/js/1.c7cb60d4.js" defer></script><script src="/assets/js/68.1c2bfd08.js" defer></script>
  </body>
</html>
