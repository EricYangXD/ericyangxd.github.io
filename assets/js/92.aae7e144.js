(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{767:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"记录-nodejs-知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#记录-nodejs-知识"}},[s._v("#")]),s._v(" 记录 nodejs 知识")]),s._v(" "),a("h3",{attrs:{id:"npx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npx"}},[s._v("#")]),s._v(" npx")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("npx 想要解决的主要问题:")]),s._v(" "),a("ol",[a("li",[s._v("就是「"),a("strong",[s._v("调用项目内部安装的模块")]),s._v("」。")]),s._v(" "),a("li",[s._v("npx 还能「"),a("strong",[s._v("避免全局安装的模块")]),s._v("」。")])])]),s._v(" "),a("li",[a("p",[s._v("Node 自带 npm 模块(npm 从 5.2 版开始，增加了 npx 命令)，所以可以直接使用 npx 命令。万一不能用，就要手动安装一下。"),a("code",[s._v("npm install -g npx")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("npx 的原理很简单，就是运行的时候，会到"),a("code",[s._v("node_modules/.bin")]),s._v("路径和环境变量"),a("code",[s._v("$PATH")]),s._v("里面，检查命令是否存在。")])]),s._v(" "),a("li",[a("p",[s._v("由于 npx 会检查环境变量"),a("code",[s._v("$PATH")]),s._v("，所以系统命令也可以调用。"),a("code",[s._v("ls")]),s._v("=="),a("code",[s._v("npx ls")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("注意，Bash 内置的命令不在"),a("code",[s._v("$PATH")]),s._v("里面，所以不能用。比如，"),a("code",[s._v("cd")]),s._v("是 Bash 命令，因此就不能用"),a("code",[s._v("npx cd")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("npx 还能避免全局安装的模块。比如，"),a("code",[s._v("create-react-app")]),s._v("这个模块是全局安装，npx 可以运行它，而且不进行全局安装。")])]),s._v(" "),a("li",[a("p",[s._v("下载全局模块时，npx 允许指定版本。")])]),s._v(" "),a("li",[a("p",[s._v("注意，只要 npx 后面的模块无法在本地发现，就会下载同名模块。比如，本地没有安装 http-server 模块，后面的命令会自动下载该模块，在当前目录启动一个 Web 服务。"),a("code",[s._v("npx http-server")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("如果想让 npx 强制使用本地模块，不下载远程模块，可以使用"),a("code",[s._v("--no-install")]),s._v("参数。如果本地不存在该模块，就会报错。"),a("code",[s._v("npx --no-install http-server")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("如果忽略本地的同名模块，强制安装使用远程模块，可以使用"),a("code",[s._v("--ignore-existing")]),s._v("参数。比如，本地已经全局安装了"),a("code",[s._v("create-react-app")]),s._v("，但还是想使用远程模块，就用这个参数。"),a("code",[s._v("npx --ignore-existing create-react-app my-react-app")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("利用 npx 可以下载模块这个特点，可以指定某个版本的 Node 运行脚本。它的窍门就是使用 npm 的 node 模块。"),a("code",[s._v("npx node@0.12.8 -v")]),s._v("。命令会使用 0.12.8 版本的 Node 执行脚本。原理是从 npm 下载这个版本的 node，使用后再删掉。某些场景下，这个方法用来切换 Node 版本，要比 nvm 那样的版本管理器方便一些。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("-p")]),s._v("参数用于指定 npx 所要安装的模块，所以上个的命令可以写成这样："),a("code",[s._v("npx -p node@0.12.8 node -v")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("-p")]),s._v("参数对于需要安装多个模块的场景很有用。"),a("code",[s._v("npx -p lolcatjs -p cowsay [command]")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("-c")]),s._v("参数可以将所有命令都用 npx 解释。如果 npx 安装多个模块，默认情况下，所执行的命令之中，只有第一个可执行项会使用 npx 安装的模块，后面的可执行项还是会交给 Shell 解释。"),a("code",[s._v("npx -p lolcatjs -p cowsay -c 'cowsay hello | lolcatjs'")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("-c")]),s._v("参数的另一个作用，是将环境变量带入所要执行的命令。"),a("code",[s._v("npx -c 'echo \"$npm_package_name\"'")])])]),s._v(" "),a("li",[a("p",[s._v("npx 还可以执行 GitHub 上面的模块源码。执行 Gist 代码"),a("code",[s._v("npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32")])])]),s._v(" "),a("li",[a("p",[s._v("执行仓库代码"),a("code",[s._v("npx github:piuccio/cowsay hello")])])]),s._v(" "),a("li",[a("p",[s._v("注意，远程代码必须是一个模块，即必须包含"),a("code",[s._v("package.json")]),s._v("和入口脚本。")])])]),s._v(" "),a("h4",{attrs:{id:"调用项目内部安装的模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调用项目内部安装的模块"}},[s._v("#")]),s._v(" 调用项目内部安装的模块")]),s._v(" "),a("ol",[a("li",[s._v("比如，项目内部安装了测试工具 Mocha。"),a("code",[s._v("npm install -D mocha")])]),s._v(" "),a("li",[s._v("一般来说，调用 Mocha ，只能在项目脚本和 package.json 的 scripts 字段里面，如果想在命令行下调用，必须像下面这样。"),a("code",[s._v("node-modules/.bin/mocha --version")])]),s._v(" "),a("li",[s._v("通过 npx 调用就会很简单："),a("code",[s._v("npx mocha --version")])]),s._v(" "),a("li",[s._v("npx 的原理很简单，就是运行的时候，会到"),a("code",[s._v("node_modules/.bin")]),s._v("路径和环境变量"),a("code",[s._v("$PATH")]),s._v("里面，检查命令是否存在。")]),s._v(" "),a("li",[s._v("由于 npx 会检查环境变量"),a("code",[s._v("$PATH")]),s._v("，所以系统命令也可以调用。"),a("code",[s._v("npx ls")])]),s._v(" "),a("li",[s._v("注意，Bash 内置的命令不在"),a("code",[s._v("$PATH")]),s._v("里面，所以不能用。比如，cd 是 Bash 命令，因此就不能用"),a("code",[s._v("npx cd")]),s._v("。")])]),s._v(" "),a("h4",{attrs:{id:"避免全局安装的模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#避免全局安装的模块"}},[s._v("#")]),s._v(" 避免全局安装的模块")]),s._v(" "),a("ul",[a("li",[s._v("npx 可以运行某些模块/脚手架工具，而且不进行全局安装。"),a("code",[s._v("npx create-react-app my-react-app")])]),s._v(" "),a("li",[s._v("npx 将"),a("code",[s._v("create-react-app")]),s._v("下载到一个临时目录，使用以后再删除。所以，以后再次执行上面的命令，会重新下载"),a("code",[s._v("create-react-app")]),s._v("。只要 npx 后面的模块无法在本地发现，就会下载同名模块。")]),s._v(" "),a("li",[s._v("下载全局模块时，npx 允许指定版本。"),a("code",[s._v("npx uglify-js@3.1.0 main.js -o ./dist/main.js")])])]),s._v(" "),a("h3",{attrs:{id:"require-工作原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#require-工作原理"}},[s._v("#")]),s._v(" require 工作原理")]),s._v(" "),a("ul",[a("li",[s._v("require 方法")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("require")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("typeof")]),s._v(" id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ERR_INVALID_ARG_TYPE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ERR_INVALID_ARG_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"must be a non-empty string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("_load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* isMain */")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("ul",[a("li",[s._v("_load 方法")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("_load")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" isMain")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Module._load REQUEST %s parent: %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" filename "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("_resolveFilename")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" isMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" cachedModule "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cachedModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("updateChildren")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cachedModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cachedModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NativeModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nonInternalExists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("debug")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"load native module %s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" NativeModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Don't call updateChildren(), Module constructor already does.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" module "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("mainModule "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  Module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("_cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tryModuleLoad")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" filename"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("p",[s._v("如上，require 的大致过程如下：")]),s._v(" "),a("ol",[a("li",[s._v("先检测传入的 id 是否有效。")]),s._v(" "),a("li",[s._v("如果有效，则调用 Module._load 方法，该方法主要负责加载新模块和管理模块的缓存，而 require 本身就是对该方法的一个封装。")]),s._v(" "),a("li",[s._v("然后会调用 Module._resolveFilename 去取文件地址。")])]),s._v(" "),a("ul",[a("li",[a("ol",[a("li",[s._v("查询文件名是否是核心模块，如果是直接返回传入的 id")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[s._v("因为 option 没有参数传入，所以会调用 Module._resolveLookupPaths 方法去获取路径")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[s._v("调用 Module._findPath 方法")])]),s._v(" "),a("ul",[a("li",[s._v("_resolveLookupPaths：其实就是 node 解析模块中的路径查找，他会向父目录查找，直到根目录为止。")]),s._v(" "),a("li",[s._v("_findPath：其实就是将_resolveLookupPaths 查找出来的文件名和文件 id 向匹配，返回一个文件地址。")])])])]),s._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[s._v("判断是否有缓存模块，如果有则返回缓存模块的 exports。")]),s._v(" "),a("li",[s._v("如果没有缓存，再检测文件名是否是核心模块，如果是则调用核心模块的 require。")]),s._v(" "),a("li",[s._v("如果不是核心模块，那么创建一个新的 module 对象。")]),s._v(" "),a("li",[s._v("在 Module._cache 中缓存该对象，"),a("code",[s._v("Module._cache[filename] = module;")]),s._v("。")]),s._v(" "),a("li",[s._v("调用"),a("code",[s._v("tryModuleLoad(module, filename);")]),s._v("，去尝试加载模块，如果报错，那么清除模块的缓存。")]),s._v(" "),a("li",[s._v("返回模块本身的 exports 对象。")])]),s._v(" "),a("h2",{attrs:{id:"rpc-协议之-protobuf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-协议之-protobuf"}},[s._v("#")]),s._v(" RPC 协议之 protobuf")]),s._v(" "),a("p",[s._v("nodejs 中的 "),a("code",[s._v("protobufjs")]),s._v(" 库包含一个 "),a("code",[s._v("toObject")]),s._v(" 方法，该方法提供一个可以传递给 "),a("code",[s._v("JSON.stringify()")]),s._v(" 的纯 javascript 对象。接收一个 protobuf 实例对象和一个配置对象。返回一个 js 对象。")]),s._v(" "),a("h2",{attrs:{id:"常用-npm-脚本示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用-npm-脚本示例"}},[s._v("#")]),s._v(" 常用 npm 脚本示例")]),s._v(" "),a("div",{staticClass:"language-Bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除目录")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"clean"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rimraf dist/*"')]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地搭建一个 HTTP 服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"serve"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http-server -p 9090 dist/"')]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开浏览器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"open:dev"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"opener http://localhost:9090"')]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实时刷新")]),s._v("\n "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"livereload"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"live-reload --port 9091 dist/"')]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建 HTML 文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build:html"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jade index.jade > dist/index.html"')]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只要 CSS 文件有变动，就重新执行构建")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"watch:css"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"watch 'npm run build:css' assets/styles/\"")]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只要 HTML 文件有变动，就重新执行构建")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"watch:html"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"watch 'npm run build:html' assets/html\"")]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 部署到 Amazon S3")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deploy:prod"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s3-cli sync ./dist/ s3://example-com/prod-site/"')]),s._v(",\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建 favicon")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build:favicon"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node scripts/favicon.js"')]),s._v(",\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"npm-adduser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-adduser"}},[s._v("#")]),s._v(" npm adduser")]),s._v(" "),a("p",[s._v("切换私有仓库之后，可能需要登录才能下载依赖。")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("yrm/nrm")]),s._v(" 切换到对应的源。或者手动切换"),a("code",[s._v("npm config set registry=xxxx")]),s._v("。")]),s._v(" "),a("li",[s._v("然后"),a("code",[s._v("npm adduser")]),s._v(":输入用户名密码邮箱即可。")]),s._v(" "),a("li",[s._v("之后"),a("code",[s._v(".npmrc")]),s._v("文件中会增加一行类似："),a("code",[s._v("//registry.npmjs.org/:_authToken=MYTOKEN")])]),s._v(" "),a("li",[s._v("重新"),a("code",[s._v("npm i")]),s._v("。")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://docs.npmjs.com/cli/v8/configuring-npm/npmrc",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("参考这里"),a("OutboundLink")],1)])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v('Unable to authenticate, need: BASIC realm="Sonatype Nexus Repository Manager"')]),s._v("这个报错怎么解决？")])]),s._v(" "),a("ol",[a("li",[s._v("如上，登录即可，注意"),a("code",[s._v(".npmrc")]),s._v("文件中的 registry 要配置正确，应该以"),a("code",[s._v("/")]),s._v("结尾？？（TODO）")]),s._v(" "),a("li",[a("code",[s._v("package-lock=false")]),s._v(" // 在安装时忽略 lock 文件。")]),s._v(" "),a("li",[a("code",[s._v("loglevel=timing")]),s._v(" // 安装依赖包的时候指定日志的类型")]),s._v(" "),a("li",[a("code",[s._v("ignore-scripts=false")]),s._v(" // 执行通过"),a("code",[s._v("npm i")]),s._v("安装的依赖中的脚本")])]),s._v(" "),a("h2",{attrs:{id:"基础-api-方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础-api-方法"}},[s._v("#")]),s._v(" 基础 api/方法")]),s._v(" "),a("h3",{attrs:{id:"path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path"}},[s._v("#")]),s._v(" path")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("const path = require('path');")]),s._v("，"),a("code",[s._v("node:path")]),s._v(" 模块提供了用于处理文件和目录路径的实用程序。")]),s._v(" "),a("li",[a("code",[s._v("path.basename(path[, suffix(加上后缀，则只返回文件名)])")]),s._v(":返回路径的最后一部分，类似于 Unix basename 命令。忽略尾随目录分隔符。")]),s._v(" "),a("li",[a("code",[s._v("path.dirname('/foo/bar/baz/asdf/quux');")]),s._v(":返回路径的目录名称'/foo/bar/baz/asdf'，类似于 Unix dirname 命令。")]),s._v(" "),a("li",[a("code",[s._v("path.parse(path)")]),s._v(":解析路径字符串，返回一个对象，其属性表示路径的重要元素：dir、root、base、name、ext")])]),s._v(" "),a("h3",{attrs:{id:"path-join-vs-path-resolve-with-dirname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path-join-vs-path-resolve-with-dirname"}},[s._v("#")]),s._v(" path.join vs path.resolve with "),a("code",[s._v("__dirname")])]),s._v(" "),a("ol",[a("li",[a("code",[s._v("const absolutePath = path.join(__dirname, some, dir);")]),s._v(":"),a("code",[s._v("path.join")]),s._v(" 将连接 "),a("code",[s._v("__dirname")]),s._v("--它是当前文件的目录名，与 some 和 dir 的值连接，带有特定于平台的分隔符。(从左向右进行拼接)，返回相对路径。参数都是 string")]),s._v(" "),a("li",[a("code",[s._v("const absolutePath = path.resolve(__dirname, some, dir);")]),s._v(":"),a("code",[s._v("path.resolve")]),s._v(" 将处理 "),a("code",[s._v("__dirname")]),s._v("、some 和 dir，即从左到右处理，如果第一个参数不是绝对路径或"),a("code",[s._v("__dirname")]),s._v("，那么默认使用当前路径的绝对路径，也就是说，如果三个（全部）参数都是相对路径，那么默认使用当前路径的绝对路径作为第 0 个参数，然后依次拼接后续参数，返回绝对路径。如果 some 或 dir 的任何值对应于根路径(以"),a("code",[s._v("/")]),s._v("开头？)，则先前的路径将被省略，并通过将其视为根来处理--即从右往左找到第一个绝对路径，以他为根，再向右拼接其余相对路径。")]),s._v(" "),a("li",[a("code",[s._v("__dirname")]),s._v(":"),a("strong",[a("code",[s._v("__dirname")])]),s._v(" 是包含正在执行的源文件的目录的"),a("strong",[s._v("绝对路径")]),s._v("，而不是当前工作目录"),a("em",[s._v("current working directory")]),s._v("。(在 Shell 中"),a("code",[s._v("pwd")]),s._v("命令即打印当前工作路径)")]),s._v(" "),a("li",[a("code",[s._v("path.join()")]),s._v("将所有给定的路径段连接在一起，使用平台特定的分隔符作为分隔符，然后将得到的路径规范化。而"),a("code",[s._v("path.resolve()")]),s._v("从右到左处理路径序列，每一个后续的路径都会被预置，直到构造出一个绝对路径。")])]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[s._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path.join() : "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// path.join() :  .                // 表示当前工作路径")]),s._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"path.resolve : "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// path.resolve :  /Users/valtechwh/workspace/my-blog     // 打印绝对路径")]),s._v("\n\npath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// returns:    '/a/b/c'")]),s._v("\npath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// returns:    '/b/c'")]),s._v("\npath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// returns:    '/c'")]),s._v("\n\npath"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// returns:    '/a/b/c/d'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"process"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#process"}},[s._v("#")]),s._v(" process")]),s._v(" "),a("p",[s._v("进程对象提供有关当前 Node.js 进程的信息并对其进行控制。")]),s._v(" "),a("h3",{attrs:{id:"nvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nvm"}},[s._v("#")]),s._v(" nvm")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6932302283958910984",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("refer"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"url-parse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-parse"}},[s._v("#")]),s._v(" url.parse")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/EricYangXD/vital-images@master/imgs/20230419113045.png",alt:"URL"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);