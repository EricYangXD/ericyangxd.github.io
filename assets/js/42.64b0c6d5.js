(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{717:function(s,t,n){"use strict";n.r(t);var a=n(7),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"a-simple-guide-to-installing-flutter-in-macos"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#a-simple-guide-to-installing-flutter-in-macos"}},[s._v("#")]),s._v(" A simple guide to installing Flutter in MacOS")]),s._v(" "),n("p",[s._v("记录一下在 MacOS Mojave 中安装 Flutter 时踩得坑以及解决的办法，供参考。")]),s._v(" "),n("h2",{attrs:{id:"选择-flutter-开发环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#选择-flutter-开发环境"}},[s._v("#")]),s._v(" 选择 Flutter 开发环境")]),s._v(" "),n("p",[s._v("开发环境主要分为 Windows、MacOS、Linux 这几种，Windows 安装很方便，但是不能调试 iPhone，所以还是选择 MacOS。")]),s._v(" "),n("h2",{attrs:{id:"flutter-开发工具-ide"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flutter-开发工具-ide"}},[s._v("#")]),s._v(" Flutter 开发工具/IDE")]),s._v(" "),n("ol",[n("li",[s._v("Android Studio")]),s._v(" "),n("li",[s._v("IntelliJ IDEA")]),s._v(" "),n("li",[s._v("VS Code")])]),s._v(" "),n("p",[s._v("首推 Android Studio，包含各种插件，语法自动提示补齐，对 Flutter/Dart 新特性支持最快。")]),s._v(" "),n("h3",{attrs:{id:"macos-flutter-安装步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#macos-flutter-安装步骤"}},[s._v("#")]),s._v(" MacOS Flutter 安装步骤")]),s._v(" "),n("ol",[n("li",[s._v("下载 Flutter SDK")]),s._v(" "),n("li",[s._v("将 Flutter SDK 解压到你指定的位置")]),s._v(" "),n("li",[s._v("将 Flutter SDK 添加至 PATH 环境变量")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("nano")]),s._v(" ~/.bash_profile\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/Users/eric/workspace/flutter/bin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\ncontrol + X\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bash_profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[n("p",[s._v("以 Android Studio 为例，打开 IDE，进入 Preferences 中找到 Plugins 栏，在 Marketplace 中搜索并安装 Flutter、Dart 等相关插件并重启。重启后再次进入 Preferences，找到 Languages & Frameworks 栏，可以在此处配置 Flutter 的 SDK Path。")])]),s._v(" "),n("li",[n("p",[s._v("查看当前 Flutter 配置情况")])])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("flutter doctor\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"6"}},[n("li",[s._v("根据上一步的输出结果依次执行推荐的命令")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("EricdeMacBook-Pro:~ eric$ flutter doctor\nDoctor summary "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to see all details, run flutter doctor -v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("✓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Flutter "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Channel stable, v1.7.8+hotfix.4, on Mac OS X "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.14")]),s._v(".6 18G95, locale\n    zh-Hans-CN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("✓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Android toolchain - develop "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" Android devices "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Android SDK version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.0")]),s._v(".1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Xcode - develop "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" iOS and macOS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Xcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    ✗ CocoaPods installed but not initialized.\n        CocoaPods is used to retrieve the iOS and macOS platform side"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s plugin\n        code that responds to your plugin usage on the Dart side.\n        Without CocoaPods, plugins will not work on iOS or macOS.\n        For more info, see https://flutter.dev/platform-plugins\n      To initialize CocoaPods, run:\n        pod setup\n      once to finalize CocoaPods'")]),s._v(" installation.\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("✓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" iOS tools - develop "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" iOS devices\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("✓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Android Studio "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("✓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" VS Code "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("version "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.38")]),s._v(".0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Connected device\n    "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" No devices available\n\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" Doctor found issues "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" categories.\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("h3",{attrs:{id:"重点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重点"}},[s._v("#")]),s._v(" 重点")]),s._v(" "),n("p",[s._v("此处主要介绍执行完 flutter doctor 命令之后，根据提示安装时遇到的问题及解决办法。")]),s._v(" "),n("ol",[n("li",[s._v("cocoapods")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" Xcode - develop "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" iOS and macOS "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Xcode "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    ✗ CocoaPods installed but not initialized.\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("依次执行如下命令：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("gem sources -l "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看当前源路径")]),s._v("\ngem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/ "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#替换当前源路径")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gem update --system "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#需要输入开机密码")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gem "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" cocoapods "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#若报错则执行下面的命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gem "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -n /usr/local/bin cocoapods "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gem "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -n /usr/local/bin cocoapods --pre "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装最新版本")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gem "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -n /usr/local/bin cocoapods -v "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("版本号"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#安装指定版本")]),s._v("\npod --version "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看安装的版本号")]),s._v("\npod setup "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#一般都会报错请看下面")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("pod setup 报错\n解决的主要原理是：给 git 配个全局代理然后 VPN 代理全部流量就 OK 了，我用的 lantern 都行。端口直接在 设置->高级设置 里就能看到。")])]),s._v(" "),n("ul",[n("li",[s._v("查看你的翻墙工具的 Socks5 监听地址和端口号")]),s._v(" "),n("li",[s._v("执行如下命令，需要先安装好 Git，设置 git 全局代理")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置你自己的IP和host")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global http.proxy "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'socks5://127.0.0.1:10866'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global https.proxy "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'socks5://127.0.0.1:10866'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --list "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看是否配置成功")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果需要移除git代理配置，可以用下面命令")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --unset http.proxy\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global --unset https.proxy\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("ul",[n("li",[s._v("ShadowsocksX 开启全局模式，Lantern 代理全部流量")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("pod setup\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("Homebrew")])]),s._v(" "),n("p",[s._v("配置完 Git 全局代理之后即可更新。")]),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[n("code",[s._v("flutter upgrade")]),s._v("失效或者报错时（长期不更新或者网络问题 443），那么可以直接去"),n("a",{attrs:{href:"https://docs.flutter.dev/release/archive?tab=macos",target:"_blank",rel:"nofollow noopener noreferrer"}},[s._v("下载"),n("OutboundLink")],1),s._v("需要的版本，然后解压到本机 flutter 安装的位置（"),n("code",[s._v("where flutter")]),s._v("）即可。")])]),s._v(" "),n("h2",{attrs:{id:"explain-nginx-conf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#explain-nginx-conf"}},[s._v("#")]),s._v(" explain-nginx.conf")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("worker_processes "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nevents "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  worker_connections "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nhttp "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# include:包含文件，比如我想让nginx识别mime类型，那么就可以用到include")]),s._v("\n  include mime.types"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# load banlancer:比如我有四个后端服务器，我想让他们轮流处理请求，那么就可以用到upstream")]),s._v("\n  upstream backendserver "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:1111"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:2222"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:3333"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:4444"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# types:设置mime类型，比如我想让nginx识别html，css，js，jpeg，png，gif")]),s._v("\n  types "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置mime类型，比如我想让nginx识别html，css，js，jpeg，png，gif")]),s._v("\n    text/html html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    text/css css"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    text/javascript js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    image/jpeg jpeg jpg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    image/png png"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    image/gif gif"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# server:监听端口，比如我想让nginx监听8080端口")]),s._v("\n  server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    listen "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    server_name localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# load banlancer")]),s._v("\n    location / "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      proxy_pass http://backendserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    root /Users/eric/Desktop/website"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rewrite:重写url，比如我想让number/1重写成count/1，但是不改变url，浏览器显示的还是number/1")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 但是这个重写只是在这个location下有效，浏览器显示的还是number/1，但是实际上访问的是count/1")]),s._v("\n    rewrite ^/number/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("w+"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" /count/"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果没有设置index，会自动找到root下的index.html")]),s._v("\n    index /Users/eric/Desktop/website/index.html"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    location /foods "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# alias:别名，比如我想让/foods指向/Users/eric/Desktop/website/dishes")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" /Users/eric/Desktop/website/dishes"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    location /images "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重定向redirect，访问/images会重定向到http://www.baidu.com")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# url会改变，浏览器显示的是http://www.baidu.com")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("307")]),s._v(" http://www.baidu.com"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    location /test "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# root: 会append到location后面，比如我访问/test，会自动找到/Users/eric/Desktop/website/test/index.html")]),s._v("\n      root /Users/eric/Desktop/website"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    location /drinks "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      root /Users/eric/Desktop/website"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# try_files:如果访问的是/drinks，会自动找到/Users/eric/Desktop/website/drinks/index.html")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果没有index.html，会自动找到/Users/eric/Desktop/website/drinks/cola.html,如果还没有，会自动找到/Users/eric/Desktop/website/index.html")]),s._v("\n      try_files /drinks/cola.html /index.html "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# try_files $uri $uri/ /foods.html;")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    location ~* /count/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-9"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      root /Users/eric/Desktop/website"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n      try_files /count.html /index.html "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("404")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);